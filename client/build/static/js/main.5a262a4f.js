/*! For license information please see main.5a262a4f.js.LICENSE.txt */
(()=>{var e={485:(e,t,r)=>{e.exports=function(e){var t={},n=r(5043),a=r(8853),i=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var y=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case m:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case g:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return C(e(t))}catch(r){}}return null}function T(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function k(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function E(e){if(k(e)!==e)throw Error(o(188))}function _(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return E(a),e;if(i===n)return E(a),t;i=i.sibling}throw Error(o(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}function A(e){return null!==(e=_(e))?F(e):null}function F(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=F(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var R,j=Array.isArray,N=e.getPublicInstance,I=e.getRootHostContext,O=e.getChildHostContext,D=e.prepareForCommit,L=e.resetAfterCommit,M=e.createInstance,z=e.appendInitialChild,B=e.finalizeInitialChildren,U=e.prepareUpdate,W=e.shouldSetTextContent,G=e.createTextInstance,$=e.scheduleTimeout,H=e.cancelTimeout,V=e.noTimeout,q=e.isPrimaryRenderer,K=e.supportsMutation,Y=e.supportsPersistence,X=e.supportsHydration,Q=e.getInstanceFromNode,J=e.preparePortalMount,Z=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,re=e.scheduleMicrotask,ne=e.supportsTestSelectors,ae=e.findFiberRoot,ie=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,de=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,ge=e.commitUpdate,me=e.insertBefore,ve=e.insertInContainerBefore,be=e.removeChild,xe=e.removeChildFromContainer,ye=e.resetTextContent,we=e.hideInstance,Se=e.hideTextInstance,Ce=e.unhideInstance,Te=e.unhideTextInstance,ke=e.clearContainer,Ee=e.cloneInstance,_e=e.createContainerChildSet,Ae=e.appendChildToContainerChildSet,Fe=e.finalizeContainerChildren,Pe=e.replaceContainerChildren,Re=e.cloneHiddenInstance,je=e.cloneHiddenTextInstance,Ne=e.canHydrateInstance,Ie=e.canHydrateTextInstance,Oe=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,Le=e.isSuspenseInstanceFallback,Me=e.getSuspenseInstanceFallbackErrorDetails,ze=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Ue=e.getFirstHydratableChild,We=e.getFirstHydratableChildWithinContainer,Ge=e.getFirstHydratableChildWithinSuspenseInstance,$e=e.hydrateInstance,He=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Ke=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Xe=e.clearSuspenseBoundary,Qe=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===R)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var rt=!1;function nt(e,t){if(!e||rt)return"";rt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{rt=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tt(e):""}var at=Object.prototype.hasOwnProperty,it=[],ot=-1;function st(e){return{current:e}}function lt(e){0>ot||(e.current=it[ot],it[ot]=null,ot--)}function ct(e,t){ot++,it[ot]=e.current,e.current=t}var ut={},dt=st(ut),ht=st(!1),ft=ut;function pt(e,t){var r=e.type.contextTypes;if(!r)return ut;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mt(){lt(ht),lt(dt)}function vt(e,t,r){if(dt.current!==ut)throw Error(o(168));ct(dt,t),ct(ht,r)}function bt(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(o(108,T(e)||"Unknown",a));return i({},r,n)}function xt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ft=dt.current,ct(dt,e),ct(ht,ht.current),!0}function yt(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=bt(e,t,ft),n.__reactInternalMemoizedMergedChildContext=e,lt(ht),lt(dt),ct(dt,e)):lt(ht),ct(ht,r)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(St(e)/Ct|0)|0},St=Math.log,Ct=Math.LN2;var Tt=64,kt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _t(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=Et(s):0!==(i&=o)&&(n=Et(i))}else 0!==(o=r&~a)?n=Et(o):0!==i&&(n=Et(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-wt(t)),n|=e[r],t&=~a;return n}function At(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(){var e=Tt;return 0===(4194240&(Tt<<=1))&&(Tt=64),e}function Rt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=r}function Nt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var It=0;function Ot(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Dt=a.unstable_scheduleCallback,Lt=a.unstable_cancelCallback,Mt=a.unstable_shouldYield,zt=a.unstable_requestPaint,Bt=a.unstable_now,Ut=a.unstable_ImmediatePriority,Wt=a.unstable_UserBlockingPriority,Gt=a.unstable_NormalPriority,$t=a.unstable_IdlePriority,Ht=null,Vt=null;var qt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kt=null,Yt=!1,Xt=!1;function Qt(e){null===Kt?Kt=[e]:Kt.push(e)}function Jt(){if(!Xt&&null!==Kt){Xt=!0;var e=0,t=It;try{var r=Kt;for(It=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Kt=null,Yt=!1}catch(a){throw null!==Kt&&(Kt=Kt.slice(e+1)),Dt(Ut,Jt),a}finally{It=t,Xt=!1}}return null}var Zt=[],er=0,tr=null,rr=0,nr=[],ar=0,ir=null,or=1,sr="";function lr(e,t){Zt[er++]=rr,Zt[er++]=tr,tr=e,rr=t}function cr(e,t,r){nr[ar++]=or,nr[ar++]=sr,nr[ar++]=ir,ir=e;var n=or;e=sr;var a=32-wt(n)-1;n&=~(1<<a),r+=1;var i=32-wt(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,or=1<<32-wt(t)+a|r<<a|n,sr=i+e}else or=1<<i|r<<a|n,sr=e}function ur(e){null!==e.return&&(lr(e,1),cr(e,1,0))}function dr(e){for(;e===tr;)tr=Zt[--er],Zt[er]=null,rr=Zt[--er],Zt[er]=null;for(;e===ir;)ir=nr[--ar],nr[ar]=null,sr=nr[--ar],nr[ar]=null,or=nr[--ar],nr[ar]=null}var hr=null,fr=null,pr=!1,gr=!1,mr=null;function vr(e,t){var r=os(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function br(e,t){switch(e.tag){case 5:return null!==(t=Ne(t,e.type,e.pendingProps))&&(e.stateNode=t,hr=e,fr=Ue(t),!0);case 6:return null!==(t=Ie(t,e.pendingProps))&&(e.stateNode=t,hr=e,fr=null,!0);case 13:if(null!==(t=Oe(t))){var r=null!==ir?{id:or,overflow:sr}:null;return e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=os(18,null,null,0)).stateNode=t,r.return=e,e.child=r,hr=e,fr=null,!0}return!1;default:return!1}}function xr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function yr(e){if(pr){var t=fr;if(t){var r=t;if(!br(e,t)){if(xr(e))throw Error(o(418));t=Be(r);var n=hr;t&&br(e,t)?vr(n,r):(e.flags=-4097&e.flags|2,pr=!1,hr=e)}}else{if(xr(e))throw Error(o(418));e.flags=-4097&e.flags|2,pr=!1,hr=e}}}function wr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hr=e}function Sr(e){if(!X||e!==hr)return!1;if(!pr)return wr(e),pr=!0,!1;if(3!==e.tag&&(5!==e.tag||Je(e.type)&&!W(e.type,e.memoizedProps))){var t=fr;if(t){if(xr(e))throw Cr(),Error(o(418));for(;t;)vr(e,t),t=Be(t)}}if(wr(e),13===e.tag){if(!X)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));fr=qe(e)}else fr=hr?Be(e.stateNode):null;return!0}function Cr(){for(var e=fr;e;)e=Be(e)}function Tr(){X&&(fr=hr=null,gr=pr=!1)}function kr(e){null===mr?mr=[e]:mr.push(e)}var Er=s.ReactCurrentBatchConfig;function _r(e,t){if(qt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!at.call(t,a)||!qt(e[a],t[a]))return!1}return!0}function Ar(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function Fr(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Pr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rr(e){return(0,e._init)(e._payload)}function jr(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=ls(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,r,n){return null===t||6!==t.tag?((t=hs(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r,n){var i=r.type;return i===u?p(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===x&&Rr(i)===t.type)?((n=a(t,r.props)).ref=Fr(e,t,r),n.return=e,n):((n=cs(r.type,r.key,r.props,null,e.mode,n)).ref=Fr(e,t,r),n.return=e,n)}function f(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=fs(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function p(e,t,r,n,i){return null===t||7!==t.tag?((t=us(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function g(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=hs(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(r=cs(t.type,t.key,t.props,null,e.mode,r)).ref=Fr(e,null,t),r.return=e,r;case c:return(t=fs(t,e.mode,r)).return=e,t;case x:return g(e,(0,t._init)(t._payload),r)}if(j(t)||S(t))return(t=us(t,e.mode,r,null)).return=e,t;Pr(e,t)}return null}function m(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:d(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return r.key===a?h(e,t,r,n):null;case c:return r.key===a?f(e,t,r,n):null;case x:return m(e,t,(a=r._init)(r._payload),n)}if(j(r)||S(r))return null!==a?null:p(e,t,r,n,null);Pr(e,r)}return null}function v(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return d(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return h(t,e=e.get(null===n.key?r:n.key)||null,n,a);case c:return f(t,e=e.get(null===n.key?r:n.key)||null,n,a);case x:return v(e,t,r,(0,n._init)(n._payload),a)}if(j(n)||S(n))return p(t,e=e.get(r)||null,n,a,null);Pr(t,n)}return null}function b(a,o,s,l){for(var c=null,u=null,d=o,h=o=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=m(a,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(a,d),o=i(p,o,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return r(a,d),pr&&lr(a,h),c;if(null===d){for(;h<s.length;h++)null!==(d=g(a,s[h],l))&&(o=i(d,o,h),null===u?c=d:u.sibling=d,u=d);return pr&&lr(a,h),c}for(d=n(a,d);h<s.length;h++)null!==(f=v(d,a,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),o=i(f,o,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(a,e)})),pr&&lr(a,h),c}function y(a,s,l,c){var u=S(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,h=s,f=s=0,p=null,b=l.next();null!==h&&!b.done;f++,b=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var x=m(a,h,b.value,c);if(null===x){null===h&&(h=p);break}e&&h&&null===x.alternate&&t(a,h),s=i(x,s,f),null===d?u=x:d.sibling=x,d=x,h=p}if(b.done)return r(a,h),pr&&lr(a,f),u;if(null===h){for(;!b.done;f++,b=l.next())null!==(b=g(a,b.value,c))&&(s=i(b,s,f),null===d?u=b:d.sibling=b,d=b);return pr&&lr(a,f),u}for(h=n(a,h);!b.done;f++,b=l.next())null!==(b=v(h,a,f,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?f:b.key),s=i(b,s,f),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach((function(e){return t(a,e)})),pr&&lr(a,f),u}return function e(n,i,o,d){if("object"===typeof o&&null!==o&&o.type===u&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var h=o.key,f=i;null!==f;){if(f.key===h){if((h=o.type)===u){if(7===f.tag){r(n,f.sibling),(i=a(f,o.props.children)).return=n,n=i;break e}}else if(f.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===x&&Rr(h)===f.type){r(n,f.sibling),(i=a(f,o.props)).ref=Fr(n,f,o),i.return=n,n=i;break e}r(n,f);break}t(n,f),f=f.sibling}o.type===u?((i=us(o.props.children,n.mode,d,o.key)).return=n,n=i):((d=cs(o.type,o.key,o.props,null,n.mode,d)).ref=Fr(n,i,o),d.return=n,n=d)}return s(n);case c:e:{for(f=o.key;null!==i;){if(i.key===f){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(n,i.sibling),(i=a(i,o.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=fs(o,n.mode,d)).return=n,n=i}return s(n);case x:return e(n,i,(f=o._init)(o._payload),d)}if(j(o))return b(n,i,o,d);if(S(o))return y(n,i,o,d);Pr(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,o)).return=n,n=i):(r(n,i),(i=hs(o,n.mode,d)).return=n,n=i),s(n)):r(n,i)}}var Nr=jr(!0),Ir=jr(!1),Or=st(null),Dr=null,Lr=null,Mr=null;function zr(){Mr=Lr=Dr=null}function Br(e,t,r){q?(ct(Or,t._currentValue),t._currentValue=r):(ct(Or,t._currentValue2),t._currentValue2=r)}function Ur(e){var t=Or.current;lt(Or),q?e._currentValue=t:e._currentValue2=t}function Wr(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){Dr=e,Mr=Lr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Na=!0),e.firstContext=null)}function $r(e){var t=q?e._currentValue:e._currentValue2;if(Mr!==e)if(e={context:e,memoizedValue:t,next:null},null===Lr){if(null===Dr)throw Error(o(308));Lr=e,Dr.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var Hr=null;function Vr(e){null===Hr?Hr=[e]:Hr.push(e)}function qr(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Vr(t)):(r.next=a.next,a.next=r),t.interleaved=r,Kr(e,n)}function Kr(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Yr=!1;function Xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&to)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Kr(e,r)}return null===(a=n.interleaved)?(t.next=t,Vr(n)):(t.next=a.next,a.next=t),n.interleaved=t,Kr(e,r)}function en(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Nt(e,r)}}function tn(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rn(e,t,r,n){var a=e.updateQueue;Yr=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(null!==o){var h=a.baseState;for(s=0,d=u=c=null,l=o;;){var f=l.lane,p=l.eventTime;if((n&f)===f){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(f=t,p=r,m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(p,h,f):g)||void 0===f)break e;h=i({},h,f);break e;case 2:Yr=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=p,c=h):d=d.next=p,s|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===d&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);co|=s,e.lanes=s,e.memoizedState=h}}function nn(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(o(191,a));a.call(n)}}}var an={},on=st(an),sn=st(an),ln=st(an);function cn(e){if(e===an)throw Error(o(174));return e}function un(e,t){ct(ln,t),ct(sn,e),ct(on,an),e=I(t),lt(on),ct(on,e)}function dn(){lt(on),lt(sn),lt(ln)}function hn(e){var t=cn(ln.current),r=cn(on.current);r!==(t=O(r,e.type,t))&&(ct(sn,e),ct(on,t))}function fn(e){sn.current===e&&(lt(on),lt(sn))}var pn=st(0);function gn(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||De(r)||Le(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mn=[];function vn(){for(var e=0;e<mn.length;e++){var t=mn[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}mn.length=0}var bn=s.ReactCurrentDispatcher,xn=s.ReactCurrentBatchConfig,yn=0,wn=null,Sn=null,Cn=null,Tn=!1,kn=!1,En=0,_n=0;function An(){throw Error(o(321))}function Fn(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qt(e[r],t[r]))return!1;return!0}function Pn(e,t,r,n,a,i){if(yn=i,wn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bn.current=null===e||null===e.memoizedState?fa:pa,e=r(n,a),kn){i=0;do{if(kn=!1,En=0,25<=i)throw Error(o(301));i+=1,Cn=Sn=null,t.updateQueue=null,bn.current=ga,e=r(n,a)}while(kn)}if(bn.current=ha,t=null!==Sn&&null!==Sn.next,yn=0,Cn=Sn=wn=null,Tn=!1,t)throw Error(o(300));return e}function Rn(){var e=0!==En;return En=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cn?wn.memoizedState=Cn=e:Cn=Cn.next=e,Cn}function Nn(){if(null===Sn){var e=wn.alternate;e=null!==e?e.memoizedState:null}else e=Sn.next;var t=null===Cn?wn.memoizedState:Cn.next;if(null!==t)Cn=t,Sn=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Sn=e).memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},null===Cn?wn.memoizedState=Cn=e:Cn=Cn.next=e}return Cn}function In(e,t){return"function"===typeof t?t(e):t}function On(e){var t=Nn(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=Sn,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((yn&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,wn.lanes|=d,co|=d}u=u.next}while(null!==u&&u!==i);null===c?s=n:c.next=l,qt(n,t.memoizedState)||(Na=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,wn.lanes|=i,co|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dn(e){var t=Nn(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);qt(i,t.memoizedState)||(Na=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ln(){}function Mn(e,t){var r=wn,n=Nn(),a=t(),i=!qt(n.memoizedState,a);if(i&&(n.memoizedState=a,Na=!0),n=n.queue,Xn(Un.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==Cn&&1&Cn.memoizedState.tag){if(r.flags|=2048,Hn(9,Bn.bind(null,r,n,a,t),void 0,null),null===ro)throw Error(o(349));0!==(30&yn)||zn(r,t,a)}return a}function zn(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=wn.updateQueue)?(t={lastEffect:null,stores:null},wn.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Bn(e,t,r,n){t.value=r,t.getSnapshot=n,Wn(t)&&Gn(e)}function Un(e,t,r){return r((function(){Wn(t)&&Gn(e)}))}function Wn(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qt(e,r)}catch(n){return!0}}function Gn(e){var t=Kr(e,1);null!==t&&jo(t,e,1,-1)}function $n(e){var t=jn();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},t.queue=e,e=e.dispatch=la.bind(null,wn,e),[t.memoizedState,e]}function Hn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=wn.updateQueue)?(t={lastEffect:null,stores:null},wn.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Vn(){return Nn().memoizedState}function qn(e,t,r,n){var a=jn();wn.flags|=e,a.memoizedState=Hn(1|t,r,void 0,void 0===n?null:n)}function Kn(e,t,r,n){var a=Nn();n=void 0===n?null:n;var i=void 0;if(null!==Sn){var o=Sn.memoizedState;if(i=o.destroy,null!==n&&Fn(n,o.deps))return void(a.memoizedState=Hn(t,r,i,n))}wn.flags|=e,a.memoizedState=Hn(1|t,r,i,n)}function Yn(e,t){return qn(8390656,8,e,t)}function Xn(e,t){return Kn(2048,8,e,t)}function Qn(e,t){return Kn(4,2,e,t)}function Jn(e,t){return Kn(4,4,e,t)}function Zn(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ea(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Kn(4,4,Zn.bind(null,t,e),r)}function ta(){}function ra(e,t){var r=Nn();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Fn(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function na(e,t){var r=Nn();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Fn(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function aa(e,t,r){return 0===(21&yn)?(e.baseState&&(e.baseState=!1,Na=!0),e.memoizedState=r):(qt(r,t)||(r=Pt(),wn.lanes|=r,co|=r,e.baseState=!0),t)}function ia(e,t){var r=It;It=0!==r&&4>r?r:4,e(!0);var n=xn.transition;xn.transition={};try{e(!1),t()}finally{It=r,xn.transition=n}}function oa(){return Nn().memoizedState}function sa(e,t,r){var n=Ro(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ca(e))ua(t,r);else if(null!==(r=qr(e,t,r,n))){jo(r,e,n,Po()),da(r,t,n)}}function la(e,t,r){var n=Ro(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ca(e))ua(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,qt(s,o)){var l=t.interleaved;return null===l?(a.next=a,Vr(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=qr(e,t,a,n))&&(jo(r,e,n,a=Po()),da(r,t,n))}}function ca(e){var t=e.alternate;return e===wn||null!==t&&t===wn}function ua(e,t){kn=Tn=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function da(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Nt(e,r)}}var ha={readContext:$r,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},fa={readContext:$r,useCallback:function(e,t){return jn().memoizedState=[e,void 0===t?null:t],e},useContext:$r,useEffect:Yn,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,qn(4194308,4,Zn.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qn(4194308,4,e,t)},useInsertionEffect:function(e,t){return qn(4,2,e,t)},useMemo:function(e,t){var r=jn();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jn();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sa.bind(null,wn,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},jn().memoizedState=e},useState:$n,useDebugValue:ta,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=$n(!1),t=e[0];return e=ia.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wn,a=jn();if(pr){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===ro)throw Error(o(349));0!==(30&yn)||zn(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Yn(Un.bind(null,n,i,e),[e]),n.flags|=2048,Hn(9,Bn.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=jn(),t=ro.identifierPrefix;if(pr){var r=sr;t=":"+t+"R"+(r=(or&~(1<<32-wt(or)-1)).toString(32)+r),0<(r=En++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=_n++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pa={readContext:$r,useCallback:ra,useContext:$r,useEffect:Xn,useImperativeHandle:ea,useInsertionEffect:Qn,useLayoutEffect:Jn,useMemo:na,useReducer:On,useRef:Vn,useState:function(){return On(In)},useDebugValue:ta,useDeferredValue:function(e){return aa(Nn(),Sn.memoizedState,e)},useTransition:function(){return[On(In)[0],Nn().memoizedState]},useMutableSource:Ln,useSyncExternalStore:Mn,useId:oa,unstable_isNewReconciler:!1},ga={readContext:$r,useCallback:ra,useContext:$r,useEffect:Xn,useImperativeHandle:ea,useInsertionEffect:Qn,useLayoutEffect:Jn,useMemo:na,useReducer:Dn,useRef:Vn,useState:function(){return Dn(In)},useDebugValue:ta,useDeferredValue:function(e){var t=Nn();return null===Sn?t.memoizedState=e:aa(t,Sn.memoizedState,e)},useTransition:function(){return[Dn(In)[0],Nn().memoizedState]},useMutableSource:Ln,useSyncExternalStore:Mn,useId:oa,unstable_isNewReconciler:!1};function ma(e,t){if(e&&e.defaultProps){for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function va(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ba={isMounted:function(e){return!!(e=e._reactInternals)&&k(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Po(),a=Ro(e),i=Jr(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Zr(e,i,a))&&(jo(t,e,a,n),en(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Po(),a=Ro(e),i=Jr(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Zr(e,i,a))&&(jo(t,e,a,n),en(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Po(),n=Ro(e),a=Jr(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Zr(e,a,n))&&(jo(t,e,n,r),en(t,e,n))}};function xa(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!_r(r,n)||!_r(a,i))}function ya(e,t,r){var n=!1,a=ut,i=t.contextType;return"object"===typeof i&&null!==i?i=$r(i):(a=gt(t)?ft:dt.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?pt(e,a):ut),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function wa(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function Sa(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Xr(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=$r(i):(i=gt(t)?ft:dt.current,a.context=pt(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(va(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ba.enqueueReplaceState(a,a.state,null),rn(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ca(e,t){try{var r="",n=t;do{r+=Ar(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ta(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ka(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var Ea="function"===typeof WeakMap?WeakMap:Map;function _a(e,t,r){(r=Jr(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yo||(yo=!0,wo=n),ka(0,t)},r}function Aa(e,t,r){(r=Jr(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ka(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){ka(0,t),"function"!==typeof n&&(null===So?So=new Set([this]):So.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function Fa(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Ea;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=es.bind(null,e,t,r),t.then(e,e))}function Pa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ra(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Jr(-1,1)).tag=2,Zr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ja=s.ReactCurrentOwner,Na=!1;function Ia(e,t,r,n){t.child=null===e?Ir(t,null,r,n):Nr(t,e.child,r,n)}function Oa(e,t,r,n,a){r=r.render;var i=t.ref;return Gr(t,a),n=Pn(e,t,r,n,i,a),r=Rn(),null===e||Na?(pr&&r&&ur(t),t.flags|=1,Ia(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ai(e,t,a))}function Da(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||ss(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=cs(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,La(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:_r)(o,n)&&e.ref===t.ref)return ai(e,t,a)}return t.flags|=1,(e=ls(i,n)).ref=t.ref,e.return=t,t.child=e}function La(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(_r(i,n)&&e.ref===t.ref){if(Na=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,ai(e,t,a);0!==(131072&e.flags)&&(Na=!0)}}return Ba(e,t,r,n,a)}function Ma(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(oo,io),io|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(oo,io),io|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,ct(oo,io),io|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,ct(oo,io),io|=n;return Ia(e,t,a,r),t.child}function za(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ba(e,t,r,n,a){var i=gt(r)?ft:dt.current;return i=pt(t,i),Gr(t,a),r=Pn(e,t,r,n,i,a),n=Rn(),null===e||Na?(pr&&n&&ur(t),t.flags|=1,Ia(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ai(e,t,a))}function Ua(e,t,r,n,a){if(gt(r)){var i=!0;xt(t)}else i=!1;if(Gr(t,a),null===t.stateNode)ni(e,t),ya(t,r,n),Sa(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=$r(c):c=pt(t,c=gt(r)?ft:dt.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==c)&&wa(t,o,n,c),Yr=!1;var h=t.memoizedState;o.state=h,rn(t,n,o,a),l=t.memoizedState,s!==n||h!==l||ht.current||Yr?("function"===typeof u&&(va(t,r,u,n),l=t.memoizedState),(s=Yr||xa(t,r,s,n,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Qr(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=$r(l):l=pt(t,l=gt(r)?ft:dt.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&wa(t,o,n,l),Yr=!1,h=t.memoizedState,o.state=h,rn(t,n,o,a);var p=t.memoizedState;s!==d||h!==p||ht.current||Yr?("function"===typeof f&&(va(t,r,f,n),p=t.memoizedState),(c=Yr||xa(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Wa(e,t,r,n,i,a)}function Wa(e,t,r,n,a,i){za(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&yt(t,r,!1),ai(e,t,i);n=t.stateNode,ja.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Nr(t,e.child,null,i),t.child=Nr(t,null,s,i)):Ia(e,t,s,i),t.memoizedState=n.state,a&&yt(t,r,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?vt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vt(0,t.context,!1),un(e,t.containerInfo)}function $a(e,t,r,n,a){return Tr(),kr(a),t.flags|=256,Ia(e,t,r,n),t.child}var Ha,Va,qa,Ka,Ya={dehydrated:null,treeContext:null,retryLane:0};function Xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qa(e,t,r){var n,a=t.pendingProps,i=pn.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ct(pn,1&i),null===e)return yr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Le(e)?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ds(l,a,0,null),e=us(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Xa(r),t.memoizedState=Ya,e):Ja(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,a,i,s){if(r)return 256&t.flags?(t.flags&=-257,Za(e,t,s,n=Ta(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=ds({mode:"visible",children:n.children},a,0,null),(i=us(i,a,s,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&Nr(t,e.child,null,s),t.child.memoizedState=Xa(s),t.memoizedState=Ya,i);if(0===(1&t.mode))return Za(e,t,s,null);if(Le(a))return n=Me(a).digest,i=Error(o(419)),n=Ta(i,n,void 0),Za(e,t,s,n);if(r=0!==(s&e.childLanes),Na||r){if(null!==(n=ro)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Kr(e,a),jo(n,e,a,-1))}return $o(),Za(e,t,s,n=Ta(Error(o(421))))}return De(a)?(t.flags|=128,t.child=e.child,t=rs.bind(null,e),ze(a,t),null):(e=i.treeContext,X&&(fr=Ge(a),hr=t,pr=!0,mr=null,gr=!1,null!==e&&(nr[ar++]=or,nr[ar++]=sr,nr[ar++]=ir,or=e.id,sr=e.overflow,ir=t)),t=Ja(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,i,r);if(s){s=a.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=ls(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?s=ls(n,s):(s=us(s,l,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Xa(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Ya,a}return e=(s=e.child).sibling,a=ls(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Ja(e,t){return(t=ds({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Za(e,t,r,n){return null!==n&&kr(n),Nr(t,e.child,null,r),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ei(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Wr(e.return,t,r)}function ti(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function ri(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ia(e,t,n.children,r),0!==(2&(n=pn.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ei(e,r,t);else if(19===e.tag)ei(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ct(pn,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===gn(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ti(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===gn(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ti(t,!0,r,null,i);break;case"together":ti(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ai(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),co|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=ls(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=ls(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ii(e){e.flags|=4}function oi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(K)Ha=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)z(e,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Va=function(){},qa=function(e,t,r,n,a){if((e=e.memoizedProps)!==n){var i=t.stateNode,o=cn(on.current);r=U(i,r,e,n,a,o),(t.updateQueue=r)&&ii(t)}},Ka=function(e,t,r,n){r!==n&&ii(t)};else if(Y){Ha=function(e,t,r,n){for(var a=t.child;null!==a;){if(5===a.tag){var i=a.stateNode;r&&n&&(i=Re(i,a.type,a.memoizedProps,a)),z(e,i)}else if(6===a.tag)i=a.stateNode,r&&n&&(i=je(i,a.memoizedProps,a)),z(e,i);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(i=a.child)&&(i.return=a),Ha(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};var si=function(e,t,r,n){for(var a=t.child;null!==a;){if(5===a.tag){var i=a.stateNode;r&&n&&(i=Re(i,a.type,a.memoizedProps,a)),Ae(e,i)}else if(6===a.tag)i=a.stateNode,r&&n&&(i=je(i,a.memoizedProps,a)),Ae(e,i);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(i=a.child)&&(i.return=a),si(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Va=function(e,t){var r=t.stateNode;if(!oi(e,t)){e=r.containerInfo;var n=_e(e);si(n,t,!1,!1),r.pendingChildren=n,ii(t),Fe(e,n)}},qa=function(e,t,r,n,a){var i=e.stateNode,o=e.memoizedProps;if((e=oi(e,t))&&o===n)t.stateNode=i;else{var s=t.stateNode,l=cn(on.current),c=null;o!==n&&(c=U(s,r,o,n,a,l)),e&&null===c?t.stateNode=i:(i=Ee(i,c,r,o,n,t,e,s),B(i,r,n,a,l)&&ii(t),t.stateNode=i,e?ii(t):Ha(i,t,!1,!1))}},Ka=function(e,t,r,n){r!==n?(e=cn(ln.current),r=cn(on.current),t.stateNode=G(n,e,r,t),ii(t)):t.stateNode=e.stateNode}}else Va=function(){},qa=function(){},Ka=function(){};function li(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ci(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ui(e,t,r){var n=t.pendingProps;switch(dr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(t),null;case 1:case 17:return gt(t.type)&&mt(),ci(t),null;case 3:return r=t.stateNode,dn(),lt(ht),lt(dt),vn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Sr(t)?ii(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==mr&&(Do(mr),mr=null))),Va(e,t),ci(t),null;case 5:fn(t),r=cn(ln.current);var a=t.type;if(null!==e&&null!=t.stateNode)qa(e,t,a,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));return ci(t),null}if(e=cn(on.current),Sr(t)){if(!X)throw Error(o(175));e=$e(t.stateNode,t.type,t.memoizedProps,r,e,t,!gr),t.updateQueue=e,null!==e&&ii(t)}else{var i=M(a,n,r,e,t);Ha(i,t,!1,!1),t.stateNode=i,B(i,a,n,r,e)&&ii(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ci(t),null;case 6:if(e&&null!=t.stateNode)Ka(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(e=cn(ln.current),r=cn(on.current),Sr(t)){if(!X)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=He(e,r,t,!gr))&&null!==(a=hr))switch(a.tag){case 3:Ze(a.stateNode.containerInfo,e,r,0!==(1&a.mode));break;case 5:et(a.type,a.memoizedProps,a.stateNode,e,r,0!==(1&a.mode))}n&&ii(t)}else t.stateNode=G(n,e,r,t)}return ci(t),null;case 13:if(lt(pn),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(pr&&null!==fr&&0!==(1&t.mode)&&0===(128&t.flags))Cr(),Tr(),t.flags|=98560,a=!1;else if(a=Sr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!X)throw Error(o(344));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));Ve(a,t)}else Tr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ci(t),a=!1}else null!==mr&&(Do(mr),mr=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((r=null!==n)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&pn.current)?0===so&&(so=3):$o())),null!==t.updateQueue&&(t.flags|=4),ci(t),null);case 4:return dn(),Va(e,t),null===e&&J(t.stateNode.containerInfo),ci(t),null;case 10:return Ur(t.type._context),ci(t),null;case 19:if(lt(pn),null===(a=t.memoizedState))return ci(t),null;if(n=0!==(128&t.flags),null===(i=a.rendering))if(n)li(a,!1);else{if(0!==so||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=gn(e))){for(t.flags|=128,li(a,!1),null!==(e=i.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=r,r=t.child;null!==r;)a=e,(n=r).flags&=14680066,null===(i=n.alternate)?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,a=i.dependencies,n.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),r=r.sibling;return ct(pn,1&pn.current|2),t.child}e=e.sibling}null!==a.tail&&Bt()>mo&&(t.flags|=128,n=!0,li(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=gn(i))){if(t.flags|=128,n=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),li(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!pr)return ci(t),null}else 2*Bt()-a.renderingStartTime>mo&&1073741824!==r&&(t.flags|=128,n=!0,li(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Bt(),t.sibling=null,e=pn.current,ct(pn,n?1&e|2:1&e),t):(ci(t),null);case 22:case 23:return Bo(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&io)&&(ci(t),K&&6&t.subtreeFlags&&(t.flags|=8192)):ci(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function di(e,t){switch(dr(t),t.tag){case 1:return gt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dn(),lt(ht),lt(dt),vn(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return fn(t),null;case 13:if(lt(pn),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Tr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lt(pn),null;case 4:return dn(),null;case 10:return Ur(t.type._context),null;case 22:case 23:return Bo(),null;default:return null}}var hi=!1,fi=!1,pi="function"===typeof WeakSet?WeakSet:Set,gi=null;function mi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Zo(e,t,n)}else r.current=null}function vi(e,t,r){try{r()}catch(n){Zo(e,t,n)}}var bi=!1;function xi(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&vi(t,r,i)}a=a.next}while(a!==n)}}function yi(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wi(e){var t=e.ref;if(null!==t){var r=e.stateNode;if(5===e.tag)e=N(r);else e=r;"function"===typeof t?t(e):t.current=e}}function Si(e){var t=e.alternate;null!==t&&(e.alternate=null,Si(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ci(e){return 5===e.tag||3===e.tag||4===e.tag}function Ti(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ci(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ki(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?ve(r,e,t):he(r,e);else if(4!==n&&null!==(e=e.child))for(ki(e,t,r),e=e.sibling;null!==e;)ki(e,t,r),e=e.sibling}function Ei(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?me(r,e,t):de(r,e);else if(4!==n&&null!==(e=e.child))for(Ei(e,t,r),e=e.sibling;null!==e;)Ei(e,t,r),e=e.sibling}var _i=null,Ai=!1;function Fi(e,t,r){for(r=r.child;null!==r;)Pi(e,t,r),r=r.sibling}function Pi(e,t,r){if(Vt&&"function"===typeof Vt.onCommitFiberUnmount)try{Vt.onCommitFiberUnmount(Ht,r)}catch(s){}switch(r.tag){case 5:fi||mi(r,t);case 6:if(K){var n=_i,a=Ai;_i=null,Fi(e,t,r),Ai=a,null!==(_i=n)&&(Ai?xe(_i,r.stateNode):be(_i,r.stateNode))}else Fi(e,t,r);break;case 18:K&&null!==_i&&(Ai?Qe(_i,r.stateNode):Xe(_i,r.stateNode));break;case 4:K?(n=_i,a=Ai,_i=r.stateNode.containerInfo,Ai=!0,Fi(e,t,r),_i=n,Ai=a):(Y&&(n=r.stateNode.containerInfo,a=_e(n),Pe(n,a)),Fi(e,t,r));break;case 0:case 11:case 14:case 15:if(!fi&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&vi(r,t,o),a=a.next}while(a!==n)}Fi(e,t,r);break;case 1:if(!fi&&(mi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Zo(r,t,s)}Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:1&r.mode?(fi=(n=fi)||null!==r.memoizedState,Fi(e,t,r),fi=n):Fi(e,t,r);break;default:Fi(e,t,r)}}function Ri(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new pi),t.forEach((function(t){var n=ns.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ji(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t;if(K){var l=s;e:for(;null!==l;){switch(l.tag){case 5:_i=l.stateNode,Ai=!1;break e;case 3:case 4:_i=l.stateNode.containerInfo,Ai=!0;break e}l=l.return}if(null===_i)throw Error(o(160));Pi(i,s,a),_i=null,Ai=!1}else Pi(i,s,a);var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Zo(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ni(t,e),t=t.sibling}function Ni(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ji(t,e),Ii(e),4&n){try{xi(3,e,e.return),yi(3,e)}catch(f){Zo(e,e.return,f)}try{xi(5,e,e.return)}catch(f){Zo(e,e.return,f)}}break;case 1:ji(t,e),Ii(e),512&n&&null!==r&&mi(r,r.return);break;case 5:if(ji(t,e),Ii(e),512&n&&null!==r&&mi(r,r.return),K){if(32&e.flags){var a=e.stateNode;try{ye(a)}catch(f){Zo(e,e.return,f)}}if(4&n&&null!=(a=e.stateNode)){var i=e.memoizedProps;if(r=null!==r?r.memoizedProps:i,n=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{ge(a,t,n,r,i,e)}catch(f){Zo(e,e.return,f)}}}break;case 6:if(ji(t,e),Ii(e),4&n&&K){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps,r=null!==r?r.memoizedProps:i;try{fe(a,r,i)}catch(f){Zo(e,e.return,f)}}break;case 3:if(ji(t,e),Ii(e),4&n){if(K&&X&&null!==r&&r.memoizedState.isDehydrated)try{Ke(t.containerInfo)}catch(f){Zo(e,e.return,f)}if(Y){a=t.containerInfo,i=t.pendingChildren;try{Pe(a,i)}catch(f){Zo(e,e.return,f)}}}break;case 4:if(ji(t,e),Ii(e),4&n&&Y){a=(i=e.stateNode).containerInfo,i=i.pendingChildren;try{Pe(a,i)}catch(f){Zo(e,e.return,f)}}break;case 13:ji(t,e),Ii(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(go=Bt())),4&n&&Ri(e);break;case 22:var s=null!==r&&null!==r.memoizedState;if(1&e.mode?(fi=(r=fi)||s,ji(t,e),fi=r):ji(t,e),Ii(e),8192&n){if(r=null!==e.memoizedState,(e.stateNode.isHidden=r)&&!s&&0!==(1&e.mode))for(gi=e,n=e.child;null!==n;){for(t=gi=n;null!==gi;){var l=(s=gi).child;switch(s.tag){case 0:case 11:case 14:case 15:xi(4,s,s.return);break;case 1:mi(s,s.return);var c=s.stateNode;if("function"===typeof c.componentWillUnmount){var u=s,d=s.return;try{var h=u;c.props=h.memoizedProps,c.state=h.memoizedState,c.componentWillUnmount()}catch(f){Zo(u,d,f)}}break;case 5:mi(s,s.return);break;case 22:if(null!==s.memoizedState){Mi(t);continue}}null!==l?(l.return=s,gi=l):Mi(t)}n=n.sibling}if(K)e:if(n=null,K)for(t=e;;){if(5===t.tag){if(null===n){n=t;try{a=t.stateNode,r?we(a):Ce(t.stateNode,t.memoizedProps)}catch(f){Zo(e,e.return,f)}}}else if(6===t.tag){if(null===n)try{i=t.stateNode,r?Se(i):Te(i,t.memoizedProps)}catch(f){Zo(e,e.return,f)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:ji(t,e),Ii(e),4&n&&Ri(e);break;case 21:break;default:ji(t,e),Ii(e)}}function Ii(e){var t=e.flags;if(2&t){try{if(K){e:{for(var r=e.return;null!==r;){if(Ci(r)){var n=r;break e}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(ye(a),n.flags&=-33),Ei(e,Ti(e),a);break;case 3:case 4:var i=n.stateNode.containerInfo;ki(e,Ti(e),i);break;default:throw Error(o(161))}}}catch(s){Zo(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Oi(e,t,r){gi=e,Di(e,t,r)}function Di(e,t,r){for(var n=0!==(1&e.mode);null!==gi;){var a=gi,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||hi;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||fi;s=hi;var c=fi;if(hi=o,(fi=l)&&!c)for(gi=a;null!==gi;)l=(o=gi).child,22===o.tag&&null!==o.memoizedState?zi(a):null!==l?(l.return=o,gi=l):zi(a);for(;null!==i;)gi=i,Di(i,t,r),i=i.sibling;gi=a,hi=s,fi=c}Li(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,gi=i):Li(e)}}function Li(e){for(;null!==gi;){var t=gi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:fi||yi(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!fi)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ma(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&nn(t,i,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=N(t.child.stateNode);break;case 1:r=t.child.stateNode}nn(t,s,r)}break;case 5:var l=t.stateNode;null===r&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(X&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(o(163))}fi||512&t.flags&&wi(t)}catch(h){Zo(t,t.return,h)}}if(t===e){gi=null;break}if(null!==(r=t.sibling)){r.return=t.return,gi=r;break}gi=t.return}}function Mi(e){for(;null!==gi;){var t=gi;if(t===e){gi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,gi=r;break}gi=t.return}}function zi(e){for(;null!==gi;){var t=gi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yi(4,t)}catch(l){Zo(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Zo(t,a,l)}}var i=t.return;try{wi(t)}catch(l){Zo(t,i,l)}break;case 5:var o=t.return;try{wi(t)}catch(l){Zo(t,o,l)}}}catch(l){Zo(t,t.return,l)}if(t===e){gi=null;break}var s=t.sibling;if(null!==s){s.return=t.return,gi=s;break}gi=t.return}}var Bi=0,Ui=1,Wi=2,Gi=3,$i=4;if("function"===typeof Symbol&&Symbol.for){var Hi=Symbol.for;Bi=Hi("selector.component"),Ui=Hi("selector.has_pseudo_class"),Wi=Hi("selector.role"),Gi=Hi("selector.test_id"),$i=Hi("selector.text")}function Vi(e){var t=Q(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ae(e)))throw Error(o(362));return e.stateNode.current}function qi(e,t){switch(t.$$typeof){case Bi:if(e.type===t.value)return!0;break;case Ui:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var n=e[r++],a=e[r++],i=t[a];if(5!==n.tag||!se(n)){for(;null!=i&&qi(n,i);)i=t[++a];if(a===t.length){t=!0;break e}for(n=n.child;null!==n;)e.push(n,a),n=n.sibling}}t=!1}return t;case Wi:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case $i:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Gi:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ki(e){switch(e.$$typeof){case Bi:return"<"+(C(e.value)||"Unknown")+">";case Ui:return":has("+(Ki(e)||"")+")";case Wi:return'[role="'+e.value+'"]';case $i:return'"'+e.value+'"';case Gi:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Yi(e,t){var r=[];e=[e,0];for(var n=0;n<e.length;){var a=e[n++],i=e[n++],o=t[i];if(5!==a.tag||!se(a)){for(;null!=o&&qi(a,o);)o=t[++i];if(i===t.length)r.push(a);else for(a=a.child;null!==a;)e.push(a,i),a=a.sibling}}return r}function Xi(e,t){if(!ne)throw Error(o(363));e=Yi(e=Vi(e),t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var n=e[r++];if(5===n.tag)se(n)||t.push(n.stateNode);else for(n=n.child;null!==n;)e.push(n),n=n.sibling}return t}var Qi=Math.ceil,Ji=s.ReactCurrentDispatcher,Zi=s.ReactCurrentOwner,eo=s.ReactCurrentBatchConfig,to=0,ro=null,no=null,ao=0,io=0,oo=st(0),so=0,lo=null,co=0,uo=0,ho=0,fo=null,po=null,go=0,mo=1/0,vo=null;function bo(){mo=Bt()+500}var xo,yo=!1,wo=null,So=null,Co=!1,To=null,ko=0,Eo=0,_o=null,Ao=-1,Fo=0;function Po(){return 0!==(6&to)?Bt():-1!==Ao?Ao:Ao=Bt()}function Ro(e){return 0===(1&e.mode)?1:0!==(2&to)&&0!==ao?ao&-ao:null!==Er.transition?(0===Fo&&(Fo=Pt()),Fo):0!==(e=It)?e:Z()}function jo(e,t,r,n){if(50<Eo)throw Eo=0,_o=null,Error(o(185));jt(e,r,n),0!==(2&to)&&e===ro||(e===ro&&(0===(2&to)&&(uo|=r),4===so&&Lo(e,ao)),No(e,n),1===r&&0===to&&0===(1&t.mode)&&(bo(),Yt&&Jt()))}function No(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),s=1<<o,l=a[o];-1===l?0!==(s&r)&&0===(s&n)||(a[o]=At(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=_t(e,e===ro?ao:0);if(0===n)null!==r&&Lt(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Lt(r),1===t)0===e.tag?function(e){Yt=!0,Qt(e)}(Mo.bind(null,e)):Qt(Mo.bind(null,e)),te?re((function(){0===(6&to)&&Jt()})):Dt(Ut,Jt),r=null;else{switch(Ot(n)){case 1:r=Ut;break;case 4:r=Wt;break;case 16:default:r=Gt;break;case 536870912:r=$t}r=as(r,Io.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Io(e,t){if(Ao=-1,Fo=0,0!==(6&to))throw Error(o(327));var r=e.callbackNode;if(Qo()&&e.callbackNode!==r)return null;var n=_t(e,e===ro?ao:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=Ho(e,n);else{t=n;var a=to;to|=2;var i=Go();for(ro===e&&ao===t||(vo=null,bo(),Uo(e,t));;)try{qo();break}catch(l){Wo(e,l)}zr(),Ji.current=i,to=a,null!==no?t=0:(ro=null,ao=0,t=so)}if(0!==t){if(2===t&&(0!==(a=Ft(e))&&(n=a,t=Oo(e,a))),1===t)throw r=lo,Uo(e,0),Lo(e,n),No(e,Bt()),r;if(6===t)Lo(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!qt(i(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Ho(e,n))&&(0!==(i=Ft(e))&&(n=i,t=Oo(e,i))),1===t))throw r=lo,Uo(e,0),Lo(e,n),No(e,Bt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(o(345));case 2:case 5:Xo(e,po,vo);break;case 3:if(Lo(e,n),(130023424&n)===n&&10<(t=go+500-Bt())){if(0!==_t(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Po(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$(Xo.bind(null,e,po,vo),t);break}Xo(e,po,vo);break;case 4:if(Lo(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-wt(n);i=1<<s,(s=t[s])>a&&(a=s),n&=~i}if(n=a,10<(n=(120>(n=Bt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qi(n/1960))-n)){e.timeoutHandle=$(Xo.bind(null,e,po,vo),n);break}Xo(e,po,vo);break;default:throw Error(o(329))}}}return No(e,Bt()),e.callbackNode===r?Io.bind(null,e):null}function Oo(e,t){var r=fo;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),2!==(e=Ho(e,t))&&(t=po,po=r,null!==t&&Do(t)),e}function Do(e){null===po?po=e:po.push.apply(po,e)}function Lo(e,t){for(t&=~ho,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),n=1<<r;e[r]=-1,t&=~n}}function Mo(e){if(0!==(6&to))throw Error(o(327));Qo();var t=_t(e,0);if(0===(1&t))return No(e,Bt()),null;var r=Ho(e,t);if(0!==e.tag&&2===r){var n=Ft(e);0!==n&&(t=n,r=Oo(e,n))}if(1===r)throw r=lo,Uo(e,0),Lo(e,t),No(e,Bt()),r;if(6===r)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xo(e,po,vo),No(e,Bt()),null}function zo(e){null!==To&&0===To.tag&&0===(6&to)&&Qo();var t=to;to|=1;var r=eo.transition,n=It;try{if(eo.transition=null,It=1,e)return e()}finally{It=n,eo.transition=r,0===(6&(to=t))&&Jt()}}function Bo(){io=oo.current,lt(oo)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==V&&(e.timeoutHandle=V,H(r)),null!==no)for(r=no.return;null!==r;){var n=r;switch(dr(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mt();break;case 3:dn(),lt(ht),lt(dt),vn();break;case 5:fn(n);break;case 4:dn();break;case 13:case 19:lt(pn);break;case 10:Ur(n.type._context);break;case 22:case 23:Bo()}r=r.return}if(ro=e,no=e=ls(e.current,null),ao=io=t,so=0,lo=null,ho=uo=co=0,po=fo=null,null!==Hr){for(t=0;t<Hr.length;t++)if(null!==(n=(r=Hr[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}Hr=null}return e}function Wo(e,t){for(;;){var r=no;try{if(zr(),bn.current=ha,Tn){for(var n=wn.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}Tn=!1}if(yn=0,Cn=Sn=wn=null,kn=!1,En=0,Zi.current=null,null===r||null===r.return){so=1,lo=t,no=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=ao,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pa(s);if(null!==p){p.flags&=-257,Ra(p,s,l,0,t),1&p.mode&&Fa(i,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){Fa(i,u,t),$o();break e}c=Error(o(426))}else if(pr&&1&l.mode){var v=Pa(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ra(v,s,l,0,t),kr(Ca(c,l));break e}}i=c=Ca(c,l),4!==so&&(so=2),null===fo?fo=[i]:fo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,tn(i,_a(0,c,t));break e;case 1:l=c;var b=i.type,x=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===So||!So.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t,tn(i,Aa(i,l,t));break e}}i=i.return}while(null!==i)}Yo(r)}catch(y){t=y,no===r&&null!==r&&(no=r=r.return);continue}break}}function Go(){var e=Ji.current;return Ji.current=ha,null===e?ha:e}function $o(){0!==so&&3!==so&&2!==so||(so=4),null===ro||0===(268435455&co)&&0===(268435455&uo)||Lo(ro,ao)}function Ho(e,t){var r=to;to|=2;var n=Go();for(ro===e&&ao===t||(vo=null,Uo(e,t));;)try{Vo();break}catch(a){Wo(e,a)}if(zr(),to=r,Ji.current=n,null!==no)throw Error(o(261));return ro=null,ao=0,so}function Vo(){for(;null!==no;)Ko(no)}function qo(){for(;null!==no&&!Mt();)Ko(no)}function Ko(e){var t=xo(e.alternate,e,io);e.memoizedProps=e.pendingProps,null===t?Yo(e):no=t,Zi.current=null}function Yo(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=ui(r,t,io)))return void(no=r)}else{if(null!==(r=di(r,t)))return r.flags&=32767,void(no=r);if(null===e)return so=6,void(no=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(no=t);no=t=e}while(null!==t);0===so&&(so=5)}function Xo(e,t,r){var n=It,a=eo.transition;try{eo.transition=null,It=1,function(e,t,r,n){do{Qo()}while(null!==To);if(0!==(6&to))throw Error(o(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,i),e===ro&&(no=ro=null,ao=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Co||(Co=!0,as(Gt,(function(){return Qo(),null}))),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=eo.transition,eo.transition=null;var s=It;It=1;var l=to;to|=4,Zi.current=null,function(e,t){for(D(e.containerInfo),gi=t;null!==gi;)if(t=(e=gi).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,gi=t;else for(;null!==gi;){e=gi;try{var r=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==r){var n=r.memoizedProps,a=r.memoizedState,i=e.stateNode,s=i.getSnapshotBeforeUpdate(e.elementType===e.type?n:ma(e.type,n),a);i.__reactInternalSnapshotBeforeUpdate=s}break;case 3:K&&ke(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(l){Zo(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,gi=t;break}gi=e.return}r=bi,bi=!1}(e,r),Ni(r,e),L(e.containerInfo),e.current=r,Oi(r,e,a),zt(),to=l,It=s,eo.transition=i}else e.current=r;if(Co&&(Co=!1,To=e,ko=a),i=e.pendingLanes,0===i&&(So=null),function(e){if(Vt&&"function"===typeof Vt.onCommitFiberRoot)try{Vt.onCommitFiberRoot(Ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),No(e,Bt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(yo)throw yo=!1,e=wo,wo=null,e;0!==(1&ko)&&0!==e.tag&&Qo(),i=e.pendingLanes,0!==(1&i)?e===_o?Eo++:(Eo=0,_o=e):Eo=0,Jt()}(e,t,r,n)}finally{eo.transition=a,It=n}return null}function Qo(){if(null!==To){var e=Ot(ko),t=eo.transition,r=It;try{if(eo.transition=null,It=16>e?16:e,null===To)var n=!1;else{if(e=To,To=null,ko=0,0!==(6&to))throw Error(o(331));var a=to;for(to|=4,gi=e.current;null!==gi;){var i=gi,s=i.child;if(0!==(16&gi.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(gi=u;null!==gi;){var d=gi;switch(d.tag){case 0:case 11:case 15:xi(8,d,i)}var h=d.child;if(null!==h)h.return=d,gi=h;else for(;null!==gi;){var f=(d=gi).sibling,p=d.return;if(Si(d),d===u){gi=null;break}if(null!==f){f.return=p,gi=f;break}gi=p}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}gi=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,gi=s;else e:for(;null!==gi;){if(0!==(2048&(i=gi).flags))switch(i.tag){case 0:case 11:case 15:xi(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,gi=b;break e}gi=i.return}}var x=e.current;for(gi=x;null!==gi;){var y=(s=gi).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,gi=y;else e:for(s=x;null!==gi;){if(0!==(2048&(l=gi).flags))try{switch(l.tag){case 0:case 11:case 15:yi(9,l)}}catch(S){Zo(l,l.return,S)}if(l===s){gi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,gi=w;break e}gi=l.return}}if(to=a,Jt(),Vt&&"function"===typeof Vt.onPostCommitFiberRoot)try{Vt.onPostCommitFiberRoot(Ht,e)}catch(S){}n=!0}return n}finally{It=r,eo.transition=t}}return!1}function Jo(e,t,r){e=Zr(e,t=_a(0,t=Ca(r,t),1),1),t=Po(),null!==e&&(jt(e,1,t),No(e,t))}function Zo(e,t,r){if(3===e.tag)Jo(e,e,r);else for(;null!==t;){if(3===t.tag){Jo(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===So||!So.has(n))){t=Zr(t,e=Aa(t,e=Ca(r,e),1),1),e=Po(),null!==t&&(jt(t,1,e),No(t,e));break}}t=t.return}}function es(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Po(),e.pingedLanes|=e.suspendedLanes&r,ro===e&&(ao&r)===r&&(4===so||3===so&&(130023424&ao)===ao&&500>Bt()-go?Uo(e,0):ho|=r),No(e,t)}function ts(e,t){0===t&&(0===(1&e.mode)?t=1:(t=kt,0===(130023424&(kt<<=1))&&(kt=4194304)));var r=Po();null!==(e=Kr(e,t))&&(jt(e,t,r),No(e,r))}function rs(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),ts(e,r)}function ns(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t),ts(e,r)}function as(e,t){return Dt(e,t)}function is(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(e,t,r,n){return new is(e,t,r,n)}function ss(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ls(e,t){var r=e.alternate;return null===r?((r=os(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cs(e,t,r,n,a,i){var s=2;if(n=e,"function"===typeof e)ss(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case u:return us(r.children,a,i,t);case d:s=8,a|=8;break;case h:return(e=os(12,r,t,2|a)).elementType=h,e.lanes=i,e;case m:return(e=os(13,r,t,a)).elementType=m,e.lanes=i,e;case v:return(e=os(19,r,t,a)).elementType=v,e.lanes=i,e;case y:return ds(r,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case p:s=9;break e;case g:s=11;break e;case b:s=14;break e;case x:s=16,n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=os(s,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function us(e,t,r,n){return(e=os(7,e,n,t)).lanes=r,e}function ds(e,t,r,n){return(e=os(22,e,n,t)).elementType=y,e.lanes=r,e.stateNode={isHidden:!1},e}function hs(e,t,r){return(e=os(6,e,null,t)).lanes=r,e}function fs(e,t,r){return(t=os(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ps(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=V,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.identifierPrefix=n,this.onRecoverableError=a,X&&(this.mutableSourceEagerHydrationData=null)}function gs(e,t,r,n,a,i,o,s,l){return e=new ps(e,t,r,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=os(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xr(i),e}function ms(e){if(!e)return ut;e:{if(k(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var r=e.type;if(gt(r))return bt(e,r,t)}return t}function vs(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=A(t))?null:e.stateNode}function bs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function xs(e,t){bs(e,t),(e=e.alternate)&&bs(e,t)}function ys(e){return null===(e=A(e))?null:e.stateNode}function ws(){return null}return xo=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Na=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Na=!1,function(e,t,r){switch(t.tag){case 3:Ga(t),Tr();break;case 5:hn(t);break;case 1:gt(t.type)&&xt(t);break;case 4:un(t,t.stateNode.containerInfo);break;case 10:Br(0,t.type._context,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(ct(pn,1&pn.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Qa(e,t,r):(ct(pn,1&pn.current),null!==(e=ai(e,t,r))?e.sibling:null);ct(pn,1&pn.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return ri(e,t,r);t.flags|=128}var a=t.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),ct(pn,pn.current),n)break;return null;case 22:case 23:return t.lanes=0,Ma(e,t,r)}return ai(e,t,r)}(e,t,r);Na=0!==(131072&e.flags)}else Na=!1,pr&&0!==(1048576&t.flags)&&cr(t,rr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ni(e,t),e=t.pendingProps;var a=pt(t,dt.current);Gr(t,r),a=Pn(null,t,n,e,a,r);var i=Rn();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(n)?(i=!0,xt(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Xr(t),a.updater=ba,t.stateNode=a,a._reactInternals=t,Sa(t,n,e,r),t=Wa(null,t,n,!0,i,r)):(t.tag=0,pr&&i&&ur(t),Ia(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return ss(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===g)return 11;if(e===b)return 14}return 2}(n),e=ma(n,e),a){case 0:t=Ba(null,t,n,e,r);break e;case 1:t=Ua(null,t,n,e,r);break e;case 11:t=Oa(null,t,n,e,r);break e;case 14:t=Da(null,t,n,ma(n.type,e),r);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ba(e,t,n,a=t.elementType===n?a:ma(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ua(e,t,n,a=t.elementType===n?a:ma(n,a),r);case 3:e:{if(Ga(t),null===e)throw Error(o(387));n=t.pendingProps,a=(i=t.memoizedState).element,Qr(e,t),rn(t,n,null,r);var s=t.memoizedState;if(n=s.element,X&&i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=$a(e,t,n,r,a=Ca(Error(o(423)),t));break e}if(n!==a){t=$a(e,t,n,r,a=Ca(Error(o(424)),t));break e}for(X&&(fr=We(t.stateNode.containerInfo),hr=t,pr=!0,mr=null,gr=!1),r=Ir(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(Tr(),n===a){t=ai(e,t,r);break e}Ia(e,t,n,r)}t=t.child}return t;case 5:return hn(t),null===e&&yr(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,W(n,a)?s=null:null!==i&&W(n,i)&&(t.flags|=32),za(e,t),Ia(e,t,s,r),t.child;case 6:return null===e&&yr(t),null;case 13:return Qa(e,t,r);case 4:return un(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Nr(t,null,n,r):Ia(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Oa(e,t,n,a=t.elementType===n?a:ma(n,a),r);case 7:return Ia(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,Br(0,n,s=a.value),null!==i)if(qt(i.value,s)){if(i.children===a.children&&!ht.current){t=ai(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Jr(-1,r&-r)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Wr(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Wr(s,r,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}Ia(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Gr(t,r),n=n(a=$r(a)),t.flags|=1,Ia(e,t,n,r),t.child;case 14:return a=ma(n=t.type,t.pendingProps),Da(e,t,n,a=ma(n.type,a),r);case 15:return La(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ma(n,a),ni(e,t),t.tag=1,gt(n)?(e=!0,xt(t)):e=!1,Gr(t,r),ya(t,n,a),Sa(t,n,a,r),Wa(null,t,n,!0,e,r);case 19:return ri(e,t,r);case 22:return Ma(e,t,r)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){if(13===e.tag){var t=Kr(e,134217728);if(null!==t)jo(t,e,134217728,Po());xs(e,134217728)}},t.attemptDiscreteHydration=function(e){if(13===e.tag){var t=Kr(e,1);if(null!==t)jo(t,e,1,Po());xs(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Ro(e),r=Kr(e,t);if(null!==r)jo(r,e,t,Po());xs(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Et(t.pendingLanes);0!==r&&(Nt(t,1|r),No(t,Bt()),0===(6&to)&&(bo(),Jt()))}break;case 13:zo((function(){var t=Kr(e,1);if(null!==t){var r=Po();jo(t,e,1,r)}})),xs(e,1)}},t.batchedUpdates=function(e,t){var r=to;to|=1;try{return e(t)}finally{0===(to=r)&&(bo(),Yt&&Jt())}},t.createComponentSelector=function(e){return{$$typeof:Bi,value:e}},t.createContainer=function(e,t,r,n,a,i,o){return gs(e,t,!1,null,0,n,0,i,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ui,value:e}},t.createHydrationContainer=function(e,t,r,n,a,i,o,s,l){return(e=gs(r,n,!0,e,0,i,0,s,l)).context=ms(null),r=e.current,(i=Jr(n=Po(),a=Ro(r))).callback=void 0!==t&&null!==t?t:null,Zr(r,i,a),e.current.lanes=a,jt(e,a,n),No(e,n),e},t.createPortal=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}},t.createRoleSelector=function(e){return{$$typeof:Wi,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Gi,value:e}},t.createTextSelector=function(e){return{$$typeof:$i,value:e}},t.deferredUpdates=function(e){var t=It,r=eo.transition;try{return eo.transition=null,It=16,e()}finally{It=t,eo.transition=r}},t.discreteUpdates=function(e,t,r,n,a){var i=It,o=eo.transition;try{return eo.transition=null,It=1,e(t,r,n,a)}finally{It=i,eo.transition=o,0===to&&bo()}},t.findAllNodes=Xi,t.findBoundingRects=function(e,t){if(!ne)throw Error(o(363));t=Xi(e,t),e=[];for(var r=0;r<t.length;r++)e.push(ie(t[r]));for(t=e.length-1;0<t;t--)for(var n=(r=e[t]).x,a=n+r.width,i=r.y,s=i+r.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,f=h+c.height;if(n>=u&&i>=h&&a<=d&&s<=f){e.splice(t,1);break}if(!(n!==u||r.width!==c.width||f<i||h>s)){h>i&&(c.height+=h-i,c.y=i),f<s&&(c.height=s-h),e.splice(t,1);break}if(!(i!==h||r.height!==c.height||d<n||u>a)){u>n&&(c.width+=u-n,c.x=n),d<a&&(c.width=a-u),e.splice(t,1);break}}return e},t.findHostInstance=vs,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=_(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return vs(e)},t.flushControlled=function(e){var t=to;to|=1;var r=eo.transition,n=It;try{eo.transition=null,It=1,e()}finally{It=n,eo.transition=r,0===(to=t)&&(bo(),Jt())}},t.flushPassiveEffects=Qo,t.flushSync=zo,t.focusWithin=function(e,t){if(!ne)throw Error(o(363));for(t=Yi(e=Vi(e),t),t=Array.from(t),e=0;e<t.length;){var r=t[e++];if(!se(r)){if(5===r.tag&&ce(r.stateNode))return!0;for(r=r.child;null!==r;)t.push(r),r=r.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!ne)throw Error(o(363));var r=0,n=[];e=[Vi(e),0];for(var a=0;a<e.length;){var i=e[a++],s=e[a++],l=t[s];if((5!==i.tag||!se(i))&&(qi(i,l)&&(n.push(Ki(l)),++s>r&&(r=s)),s<t.length))for(i=i.child;null!==i;)e.push(i,s),i=i.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(Ki(t[r]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?N(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ys,findFiberByHostInstance:e.findFiberByHostInstance||ws,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Vt=t}catch(r){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,r,n){if(!ne)throw Error(o(363));e=Xi(e,t);var a=ue(e,r,n).disconnect;return{disconnect:function(){a()}}},t.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},t.runWithPriority=function(e,t){var r=It;try{return It=e,t()}finally{It=r}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,r,n){var a=t.current,i=Po(),o=Ro(a);return r=ms(r),null===t.context?t.context=r:t.pendingContext=r,(t=Jr(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Zr(a,t,o))&&(jo(e,a,o,i),en(e,a,o)),o},t}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},589:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitCanvas=t.SceneCanvas=t.Canvas=void 0;const n=r(7149),a=r(3354),i=r(4602),o=r(1751),s=r(9910);var l;class c{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||i.Konva.pixelRatio||function(){if(l)return l;var e=n.Util.createCanvasElement(),t=e.getContext("2d");return l=(i.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),n.Util.releaseCanvas(e),l}();this.pixelRatio=t,this._canvas=n.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(r){try{return this._canvas.toDataURL()}catch(a){return n.Util.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}t.Canvas=c,o.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,s.getNumberValidator)());t.SceneCanvas=class extends c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0,willReadFrequently:!1};super(e),this.context=new a.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};t.HitCanvas=class extends c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};super(e),this.hitCanvas=!0,this.context=new a.HitContext(this),this.setSize(e.width,e.height)}}},1008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ring=void 0;const n=r(1751),a=r(3304),i=r(9910),o=r(4602);var s=2*Math.PI;class l extends a.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,s,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),s,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,o._registerNode)(l),n.Factory.addGetterSetter(l,"innerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(l,"outerRadius",0,(0,i.getNumberValidator)())},1126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threshold=void 0;const n=r(1751),a=r(1189),i=r(9910);t.Threshold=function(e){var t,r=255*this.threshold(),n=e.data,a=n.length;for(t=0;t<a;t+=1)n[t]=n[t]<r?0:255},n.Factory.addGetterSetter(a.Node,"threshold",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;const n=r(7149),a=r(1751),i=r(589),o=r(4602),s=r(8727),l=r(9910);var c="absoluteOpacity",u="allEventListeners",d="absoluteTransform",h="absoluteScale",f="canvas",p="listening",g="mouseenter",m="mouseleave",v="Shape",b=" ",x="stage",y="transform",w="visible",S=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(b);let C=1;class T{constructor(e){this._id=C++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==y&&e!==d||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){var r=this._cache.get(e);return(void 0===r||(e===y||e===d)&&!0===r.dirty)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){const r=t.map((e=>e+"Change.konva")).join(b);this.on(r,(()=>{this._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:e,filter:t,hit:r}=this._cache.get(f);n.Util.releaseCanvas(e,t,r),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},r={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var a=Math.ceil(t.width||r.width),o=Math.ceil(t.height||r.height),s=t.pixelRatio,l=void 0===t.x?Math.floor(r.x):t.x,u=void 0===t.y?Math.floor(r.y):t.y,d=t.offset||0,p=t.drawBorder||!1,g=t.hitCanvasPixelRatio||1;if(!a||!o)return void n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");a+=2*d+(Math.abs(Math.round(r.x)-l)>.5?1:0),o+=2*d+(Math.abs(Math.round(r.y)-u)>.5?1:0),l-=d,u-=d;var m=new i.SceneCanvas({pixelRatio:s,width:a,height:o}),v=new i.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),b=new i.HitCanvas({pixelRatio:g,width:a,height:o}),x=m.getContext(),y=b.getContext();return b.isCache=!0,m.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(m.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),x.save(),y.save(),x.translate(-l,-u),y.translate(-l,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(h),this.drawScene(m,this),this.drawHit(b,this),this._isUnderCache=!1,x.restore(),y.restore(),p&&(x.save(),x.beginPath(),x.rect(0,0,a,o),x.closePath(),x.setAttr("strokeStyle","red"),x.setAttr("lineWidth",5),x.stroke(),x.restore()),this._cache.set(f,{scene:m,filter:v,hit:b,x:l,y:u}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=1/0,a=1/0,i=-1/0,o=-1/0,s=this.getAbsoluteTransform(t);return r.forEach((function(e){var t=s.point(e);void 0===n&&(n=i=t.x,a=o=t.y),n=Math.min(n,t.x),a=Math.min(a,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)})),{x:n,y:a,width:i-n,height:o-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var r=this._getCachedSceneCanvas(),n=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/n,r.height/n),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e,t,r,a,i=this.filters(),o=this._getCanvasCache(),s=o.scene,l=o.filter,c=l.getContext();if(i){if(!this._filterUpToDate){var u=s.pixelRatio;l.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(e=i.length,c.clear(),c.drawImage(s._canvas,0,0,s.getWidth()/u,s.getHeight()/u),t=c.getImageData(0,0,l.getWidth(),l.getHeight()),r=0;r<e;r++)"function"===typeof(a=i[r])?(a.call(this,t),c.putImageData(t,0,0)):n.Util.error("Filter should be type of function, but got "+typeof a+" instead. Please check correct filters")}catch(d){n.Util.error("Unable to apply filter. "+d.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return s}on(e,t){if(this._cache&&this._cache.delete(u),3===arguments.length)return this._delegate.apply(this,arguments);var r,n,a,i,o=e.split(b),s=o.length;for(r=0;r<s;r++)a=(n=o[r].split("."))[0],i=n[1]||"",this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:i,handler:t});return this}off(e,t){var r,n,a,i,o,s=(e||"").split(b),l=s.length;if(this._cache&&this._cache.delete(u),!e)for(n in this.eventListeners)this._off(n);for(r=0;r<l;r++)if(i=(a=s[r].split("."))[0],o=a[1],i)this.eventListeners[i]&&this._off(i,o,t);else for(n in this.eventListeners)this._off(n,o,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){var a=this;this.on(e,(function(e){for(var i=e.target.findAncestors(t,!0,a),o=0;o<i.length;o++)(e=n.Util.cloneObject(e)).currentTarget=i[o],r.call(i[o],e)}))}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(p)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var t="get"+n.Util._capitalize(e);return n.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges((()=>{var t,r;if(!e)return this;for(t in e)"children"!==t&&(r="set"+n.Util._capitalize(t),n.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))})),this}isListening(){return this._getCache(p,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(w,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),n=!1;s.DD._dragElements.forEach((e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===r)&&(n=!0)}));var a=!t&&!o.Konva.hitOnDragEnabled&&(n||o.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e,t,r,n,a=this.getDepth(),i=this,o=0;const s=this.getStage();return"Stage"!==i.nodeType&&s&&function s(l){for(e=[],t=l.length,r=0;r<t;r++)n=l[r],o++,n.nodeType!==v&&(e=e.concat(n.getChildren().slice())),n._id===i._id&&(r=t);e.length>0&&e[0].getDepth()<=a&&s(e)}(s.getChildren()),o}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(y),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges((()=>{this.x(e.x),this.y(e.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;var t=e.getPointerPosition();if(!t)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);var a=this.getAbsoluteTransform(e).getMatrix(),i=new n.Transform,o=this.offset();return i.m=a.slice(),i.translate(o.x,o.y),i.getTranslation()}setAbsolutePosition(e){const{x:t,y:r,...n}=this._clearTransform();this.attrs.x=t,this.attrs.y=r,this._clearCache(y);var a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(y),this._clearSelfAndDescendantCache(d),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,r=e.y,n=this.x(),a=this.y();return void 0!==t&&(n+=t),void 0!==r&&(a+=r),this.setPosition({x:n,y:a}),this}_eachAncestorReverse(e,t){var r,n,a=[],i=this.getParent();if(!t||t._id!==this._id){for(a.unshift(this);i&&(!t||i._id!==t._id);)a.unshift(i),i=i.parent;for(r=a.length,n=0;n<r;n++)e(a[n])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&n.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e,t,r,a,i=this.getAttrs();const o={attrs:{},className:this.getClassName()};for(e in i)t=i[e],n.Util.isObject(t)&&!n.Util._isPlainObject(t)&&!n.Util._isArray(t)||(r="function"===typeof this[e]&&this[e],delete i[e],a=r?r.call(this):null,i[e]=t,a!==t&&(o.attrs[e]=t));return n.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){var n=[];t&&this._isMatch(e)&&n.push(this);for(var a=this.parent;a;){if(a===r)return n;a._isMatch(e)&&n.push(a),a=a.parent}return n}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if("function"===typeof e)return e(this);var t,r,a=e.replace(/ /g,"").split(","),i=a.length;for(t=0;t<i;t++)if(r=a[t],n.Util.isValidSelector(r)||(n.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),"#"===r.charAt(0)){if(this.id()===r.slice(1))return!0}else if("."===r.charAt(0)){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(x,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new n.Transform,this._eachAncestorReverse((function(e){var r=e.transformsEnabled();"all"===r?t.multiply(e.getTransform()):"position"===r&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;t=this._cache.get(d)||new n.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var r=this.transformsEnabled();if("all"===r)t.multiply(this.getTransform());else if("position"===r){const e=this.attrs.x||0,r=this.attrs.y||0,n=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(e-n,r-a)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(y,this._getTransform)}_getTransform(){var e,t,r=this._cache.get(y)||new n.Transform;r.reset();var a=this.x(),i=this.y(),s=o.Konva.getAngle(this.rotation()),l=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,c=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===a&&0===i||r.translate(a,i),0!==s&&r.rotate(s),0===u&&0===d||r.skew(u,d),1===l&&1===c||r.scale(l,c),0===h&&0===f||r.translate(-1*h,-1*f),r.dirty=!1,r}clone(e){var t,r,a,i,o,s=n.Util.cloneObject(this.attrs);for(t in e)s[t]=e[t];var l=new this.constructor(s);for(t in this.eventListeners)for(a=(r=this.eventListeners[t]).length,i=0;i<a;i++)(o=r[i]).name.indexOf("konva")<0&&(l.eventListeners[t]||(l.eventListeners[t]=[]),l.eventListeners[t].push(o));return l}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),r=this.getStage(),n=void 0!==e.x?e.x:Math.floor(t.x),a=void 0!==e.y?e.y:Math.floor(t.y),o=e.pixelRatio||1,s=new i.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:o}),l=s.getContext();const c=new i.SceneCanvas({width:s.width/s.pixelRatio+Math.abs(n),height:s.height/s.pixelRatio+Math.abs(a),pixelRatio:s.pixelRatio});return!1===e.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(n||a)&&l.translate(-1*n,-1*a),this.drawScene(s,void 0,c),l.restore(),s}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var t=(e=e||{}).mimeType||null,r=e.quality||null,n=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(n),n}toImage(e){return new Promise(((t,r)=>{try{const r=null===e||void 0===e?void 0:e.callback;r&&delete e.callback,n.Util._urlToImage(this.toDataURL(e),(function(e){t(e),null===r||void 0===r||r(e)}))}catch(a){r(a)}}))}toBlob(e){return new Promise(((t,r)=>{try{const r=null===e||void 0===e?void 0:e.callback;r&&delete e.callback,this.toCanvas(e).toBlob((e=>{t(e),null===r||void 0===r||r(e)}),null===e||void 0===e?void 0:e.mimeType,null===e||void 0===e?void 0:e.quality)}catch(n){r(n)}}))}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.Konva.dragDistance}_off(e,t,r){var n,a,i,o=this.eventListeners[e];for(n=0;n<o.length;n++)if(a=o[n].name,i=o[n].handler,("konva"!==a||"konva"===t)&&(!t||a===t)&&(!r||r===i)){if(o.splice(n,1),0===o.length){delete this.eventListeners[e];break}n--}}_fireChangeEvent(e,t,r){this._fire(e+"Change",{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){var t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){var t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return-1!==r&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){var r=this["set"+n.Util._capitalize(e)];return n.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(o.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();null===e||void 0===e||e.batchDraw()}}_setAttr(e,t){var r=this.attrs[e];(r!==t||n.Util.isObject(t))&&(void 0===t||null===t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){var n;void 0!==r&&((n=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,n,r))}_fireAndBubble(e,t,r){if(t&&this.nodeType===v&&(t.target=this),!((e===g||e===m)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||"Stage"===this.nodeType&&!r))){this._fire(e,t);var n=(e===g||e===m)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!n&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,n;const a=null!==(t=this._cache.get(u))&&void 0!==t?t:{};let i=null===a||void 0===a?void 0:a[e];if(void 0===i){i=[];let t=Object.getPrototypeOf(this);for(;t;){const a=null!==(n=null===(r=t.eventListeners)||void 0===r?void 0:r[e])&&void 0!==n?n:[];i.push(...a),t=Object.getPrototypeOf(t)}a[e]=i,this._cache.set(u,a)}return i}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const r=this._getProtoListeners(e);if(r)for(var n=0;n<r.length;n++)r[n].handler.call(this,t);const a=this.eventListeners[e];if(a)for(n=0;n<a.length;n++)a[n].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,r=this.getStage(),n=this.getAbsolutePosition();if(r){var a=r._getPointerById(t)||r._changedPointerPositions[0]||n;s.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-n.x,y:a.y-n.y},dragStatus:"ready",pointerId:t})}}startDrag(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.DD._dragElements.has(this._id)||this._createDragElement(e);s.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const r=this.getStage()._getPointerById(t.pointerId);if(r){var a={x:r.x-t.offset.x,y:r.y-t.offset.y},i=this.dragBoundFunc();if(void 0!==i){const t=i.call(this,a,e);t?a=t:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===a.x&&this._lastPos.y===a.y||(this.setAbsolutePosition(a),this._requestDraw()),this._lastPos=a}}stopDrag(e){const t=s.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),s.DD._endDragBefore(e),s.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=s.DD._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){if((!(void 0!==e.evt.button)||o.Konva.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var t=!1;s.DD._dragElements.forEach((e=>{this.isAncestorOf(e.node)&&(t=!0)})),t||this._createDragElement(e)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=s.DD._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,r=e&&"ready"===e.dragStatus;t?this.stopDrag():r&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};const t=this.getStage();if(!t)return!1;const r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return n.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return n.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var r,a,i,s=T.prototype.getClassName.call(e),l=e.children;t&&(e.attrs.container=t),o.Konva[s]||(n.Util.warn('Can not find a node with class name "'+s+'". Fallback to "Shape".'),s="Shape");if(r=new(0,o.Konva[s])(e.attrs),l)for(a=l.length,i=0;i<a;i++)r.add(T._createNode(l[i]));return r}}t.Node=T,T.prototype.nodeType="Node",T.prototype._attrsAffectingSize=[],T.prototype.eventListeners={},T.prototype.on.call(T.prototype,S,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(y),this._clearSelfAndDescendantCache(d))})),T.prototype.on.call(T.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(w)})),T.prototype.on.call(T.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(p)})),T.prototype.on.call(T.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(c)}));const k=a.Factory.addGetterSetter;k(T,"zIndex"),k(T,"absolutePosition"),k(T,"position"),k(T,"x",0,(0,l.getNumberValidator)()),k(T,"y",0,(0,l.getNumberValidator)()),k(T,"globalCompositeOperation","source-over",(0,l.getStringValidator)()),k(T,"opacity",1,(0,l.getNumberValidator)()),k(T,"name","",(0,l.getStringValidator)()),k(T,"id","",(0,l.getStringValidator)()),k(T,"rotation",0,(0,l.getNumberValidator)()),a.Factory.addComponentsGetterSetter(T,"scale",["x","y"]),k(T,"scaleX",1,(0,l.getNumberValidator)()),k(T,"scaleY",1,(0,l.getNumberValidator)()),a.Factory.addComponentsGetterSetter(T,"skew",["x","y"]),k(T,"skewX",0,(0,l.getNumberValidator)()),k(T,"skewY",0,(0,l.getNumberValidator)()),a.Factory.addComponentsGetterSetter(T,"offset",["x","y"]),k(T,"offsetX",0,(0,l.getNumberValidator)()),k(T,"offsetY",0,(0,l.getNumberValidator)()),k(T,"dragDistance",null,(0,l.getNumberValidator)()),k(T,"width",0,(0,l.getNumberValidator)()),k(T,"height",0,(0,l.getNumberValidator)()),k(T,"listening",!0,(0,l.getBooleanValidator)()),k(T,"preventDefault",!0,(0,l.getBooleanValidator)()),k(T,"filters",null,(function(e){return this._filterUpToDate=!1,e})),k(T,"visible",!0,(0,l.getBooleanValidator)()),k(T,"transformsEnabled","all",(0,l.getStringValidator)()),k(T,"size"),k(T,"dragBoundFunc"),k(T,"draggable",!1,(0,l.getBooleanValidator)()),a.Factory.backCompat(T,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},1222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextPath=void 0;const n=r(7149),a=r(1751),i=r(3304),o=r(7289),s=r(3169),l=r(9910),c=r(4602);var u="normal";function d(e){e.fillText(this.partialText,0,0)}function h(e){e.strokeText(this.partialText,0,0)}class f extends i.Shape{constructor(e){super(e),this.dummyCanvas=n.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return o.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;return e-1>this.pathLength?null:o.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=o.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),r=this.fill(),n=this.fontSize(),a=this.glyphInfo;"underline"===t&&e.beginPath();for(var i=0;i<a.length;i++){e.save();var o=a[i].p0;e.translate(o.x,o.y),e.rotate(a[i].rotation),this.partialText=a[i].text,e.fillStrokeShape(this),"underline"===t&&(0===i&&e.moveTo(0,n/2+1),e.lineTo(n,n/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=r,e.lineWidth=n/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var r=t[0].p0;e.moveTo(r.x,r.y)}for(var n=0;n<t.length;n++){var a=t[n].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return s.Text.prototype.setText.call(this,e)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var r=t.measureText(e);return t.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),n=this.align(),a=this.kerningFunc(),i=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let l=0;"center"===n&&(l=Math.max(0,this.pathLength/2-i/2)),"right"===n&&(l=Math.max(0,this.pathLength-i));const c=(0,s.stringToArray)(this.text());let u=l;for(var d=0;d<c.length;d++){const e=this._getPointAtLength(u);if(!e)return;let t=this._getTextSize(c[d]).width+r;if(" "===c[d]&&"justify"===n){const e=this.text().split(" ").length-1;t+=(this.pathLength-i)/e}const s=this._getPointAtLength(u+t);if(!s)return;const l=o.Path.getLineLength(e.x,e.y,s.x,s.y);let f=0;if(a)try{f=a(c[d-1],c[d])*this.fontSize()}catch(h){f=0}e.x+=f,s.x+=f,this.textWidth+=f;const p=o.Path.getPointOnLine(f+l/2,e.x,e.y,s.x,s.y),g=Math.atan2(s.y-e.y,s.x-e.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:c[d],rotation:g,p0:e,p1:s}),u+=t}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));for(var t,r,n=e[0]||0,a=e[0]||0,i=e[1]||0,o=e[1]||0,s=0;s<e.length/2;s++)t=e[2*s],r=e[2*s+1],n=Math.min(n,t),a=Math.max(a,t),i=Math.min(i,r),o=Math.max(o,r);var l=this.fontSize();return{x:n-l/2,y:i-l/2,width:a-n+l,height:o-i+l}}destroy(){return n.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}t.TextPath=f,f.prototype._fillFunc=d,f.prototype._strokeFunc=h,f.prototype._fillFuncHit=d,f.prototype._strokeFuncHit=h,f.prototype.className="TextPath",f.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(f),a.Factory.addGetterSetter(f,"data"),a.Factory.addGetterSetter(f,"fontFamily","Arial"),a.Factory.addGetterSetter(f,"fontSize",12,(0,l.getNumberValidator)()),a.Factory.addGetterSetter(f,"fontStyle",u),a.Factory.addGetterSetter(f,"align","left"),a.Factory.addGetterSetter(f,"letterSpacing",0,(0,l.getNumberValidator)()),a.Factory.addGetterSetter(f,"textBaseline","middle"),a.Factory.addGetterSetter(f,"fontVariant",u),a.Factory.addGetterSetter(f,"text",""),a.Factory.addGetterSetter(f,"textDecoration",null),a.Factory.addGetterSetter(f,"kerningFunc",null)},1300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;const n=r(1751),a=r(3304),i=r(4602),o=r(7149),s=r(9910);class l extends a.Shape{_sceneFunc(e){var t=this.cornerRadius(),r=this.width(),n=this.height();e.beginPath(),t?o.Util.drawRoundedRectPath(e,r,n,t):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}}t.Rect=l,l.prototype.className="Rect",(0,i._registerNode)(l),n.Factory.addGetterSetter(l,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4))},1416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0;const n=r(7149),a=r(4598),i=r(1189),o=r(1751),s=r(589),l=r(9910),c=r(3304),u=r(4602);var d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],h=d.length;class f extends a.Container{constructor(e){super(e),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!i.Node.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),e&&e.parentNode&&n.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize(e){let{width:t,height:r}=e;return this.canvas.setSize(t,r),this.hitCanvas.setSize(t,r),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,r=!1;;){for(let n=0;n<h;n++){const a=d[n],i=this._getIntersection({x:e.x+a.x*t,y:e.y+a.y*t}),o=i.shape;if(o)return o;if(r=!!i.antialiased,!i.antialiased)break}if(!r)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,a=r[3];if(255===a){const e=n.Util._rgbToHex(r[0],r[1],r[2]),t=c.shapes["#"+e];return t?{shape:t}:{antialiased:!0}}return a>0?{antialiased:!0}:{}}drawScene(e,t){var r=this.getLayer(),n=e||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),a.Container.prototype.drawScene.call(this,n,t),this._fire("draw",{node:this}),this}drawHit(e,t){var r=this.getLayer(),n=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,n,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}t.Layer=f,f.prototype.nodeType="Layer",(0,u._registerNode)(f),o.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),o.Factory.addGetterSetter(f,"clearBeforeDraw",!0),o.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,l.getBooleanValidator)())},1485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pixelate=void 0;const n=r(1751),a=r(7149),i=r(1189),o=r(9910);t.Pixelate=function(e){var t,r,n,i,o,s,l,c,u,d,h,f,p,g,m=Math.ceil(this.pixelSize()),v=e.width,b=e.height,x=Math.ceil(v/m),y=Math.ceil(b/m),w=e.data;if(m<=0)a.Util.error("pixelSize value can not be <= 0");else for(f=0;f<x;f+=1)for(p=0;p<y;p+=1){for(i=0,o=0,s=0,l=0,u=(c=f*m)+m,h=(d=p*m)+m,g=0,t=c;t<u;t+=1)if(!(t>=v))for(r=d;r<h;r+=1)r>=b||(i+=w[(n=4*(v*r+t))+0],o+=w[n+1],s+=w[n+2],l+=w[n+3],g+=1);for(i/=g,o/=g,s/=g,l/=g,t=c;t<u;t+=1)if(!(t>=v))for(r=d;r<h;r+=1)r>=b||(w[(n=4*(v*r+t))+0]=i,w[n+1]=o,w[n+2]=s,w[n+3]=l)}},n.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,o.getNumberValidator)(),n.Factory.afterSetFilter)},1518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGB=void 0;const n=r(1751),a=r(1189),i=r(9910);t.RGB=function(e){var t,r,n=e.data,a=n.length,i=this.red(),o=this.green(),s=this.blue();for(t=0;t<a;t+=4)r=(.34*n[t]+.5*n[t+1]+.16*n[t+2])/255,n[t]=r*i,n[t+1]=r*o,n[t+2]=r*s,n[t+3]=n[t+3]},n.Factory.addGetterSetter(a.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),n.Factory.addGetterSetter(a.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),n.Factory.addGetterSetter(a.Node,"blue",0,i.RGBComponent,n.Factory.afterSetFilter)},1618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;const n=r(1751),a=r(3304),i=r(9910),o=r(4602);class s extends a.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}t.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(s),n.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)())},1650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var n=r(8065);Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return n.Konva}});const a=r(8065);e.exports=a.Konva},1751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const n=r(7149),a=r(9910);var i="get",o="set";t.Factory={addGetterSetter(e,r,n,a,i){t.Factory.addGetter(e,r,n),t.Factory.addSetter(e,r,a,i),t.Factory.addOverloadedGetterSetter(e,r)},addGetter(e,t,r){var a=i+n.Util._capitalize(t);e.prototype[a]=e.prototype[a]||function(){var e=this.attrs[t];return void 0===e?r:e}},addSetter(e,r,a,i){var s=o+n.Util._capitalize(r);e.prototype[s]||t.Factory.overWriteSetter(e,r,a,i)},overWriteSetter(e,t,r,a){var i=o+n.Util._capitalize(t);e.prototype[i]=function(e){return r&&void 0!==e&&null!==e&&(e=r.call(this,e,t)),this._setAttr(t,e),a&&a.call(this),this}},addComponentsGetterSetter(e,r,s,l,c){var u,d,h=s.length,f=n.Util._capitalize,p=i+f(r),g=o+f(r);e.prototype[p]=function(){var e={};for(u=0;u<h;u++)e[d=s[u]]=this.getAttr(r+f(d));return e};var m=(0,a.getComponentValidator)(s);e.prototype[g]=function(e){var t,n=this.attrs[r];for(t in l&&(e=l.call(this,e)),m&&m.call(this,e,r),e)e.hasOwnProperty(t)&&this._setAttr(r+f(t),e[t]);return e||s.forEach((e=>{this._setAttr(r+f(e),void 0)})),this._fireChangeEvent(r,n,e),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(e,r)},addOverloadedGetterSetter(e,t){var r=n.Util._capitalize(t),a=o+r,s=i+r;e.prototype[t]=function(){return arguments.length?(this[a](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(e,r,a,o){n.Util.error("Adding deprecated "+r);var s=i+n.Util._capitalize(r),l=r+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[s]=function(){n.Util.error(l);var e=this.attrs[r];return void 0===e?a:e},t.Factory.addSetter(e,r,o,(function(){n.Util.error(l)})),t.Factory.addOverloadedGetterSetter(e,r)},backCompat(e,t){n.Util.each(t,(function(t,r){var a=e.prototype[r],s=i+n.Util._capitalize(t),l=o+n.Util._capitalize(t);function c(){a.apply(this,arguments),n.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}e.prototype[t]=c,e.prototype[s]=c,e.prototype[l]=c}))},afterSetFilter(){this._filterUpToDate=!1}}},1801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=void 0;const n=r(1751),a=r(5804),i=r(9910),o=r(4602),s=r(7289);class l extends a.Line{_sceneFunc(e){super._sceneFunc(e);var t=2*Math.PI,r=this.points(),n=r,a=0!==this.tension()&&r.length>4;a&&(n=this.getTensionPoints());var i,o,l=this.pointerLength(),c=r.length;if(a){const e=[n[n.length-4],n[n.length-3],n[n.length-2],n[n.length-1],r[c-2],r[c-1]],t=s.Path.calcLength(n[n.length-4],n[n.length-3],"C",e),a=s.Path.getPointOnQuadraticBezier(Math.min(1,1-l/t),e[0],e[1],e[2],e[3],e[4],e[5]);i=r[c-2]-a.x,o=r[c-1]-a.y}else i=r[c-2]-r[c-4],o=r[c-1]-r[c-3];var u=(Math.atan2(o,i)+t)%t,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-l,d/2),e.lineTo(-l,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),a?(i=(n[0]+n[2])/2-r[0],o=(n[1]+n[3])/2-r[1]):(i=r[2]-r[0],o=r[3]-r[1]),e.rotate((Math.atan2(-o,-i)+t)%t),e.moveTo(0,0),e.lineTo(-l,d/2),e.lineTo(-l,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}}t.Arrow=l,l.prototype.className="Arrow",(0,o._registerNode)(l),n.Factory.addGetterSetter(l,"pointerLength",10,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(l,"pointerWidth",10,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(l,"pointerAtBeginning",!1),n.Factory.addGetterSetter(l,"pointerAtEnding",!0)},2078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Grayscale=void 0;t.Grayscale=function(e){var t,r,n=e.data,a=n.length;for(t=0;t<a;t+=4)r=.34*n[t]+.5*n[t+1]+.16*n[t+2],n[t]=r,n[t+1]=r,n[t+2]=r}},2157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5191);e.exports=n.Konva},2544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSV=void 0;const n=r(1751),a=r(1189),i=r(9910);t.HSV=function(e){var t,r,n,a,i,o=e.data,s=o.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,d=l*c*Math.cos(u*Math.PI/180),h=l*c*Math.sin(u*Math.PI/180),f=.299*l+.701*d+.167*h,p=.587*l-.587*d+.33*h,g=.114*l-.114*d-.497*h,m=.299*l-.299*d-.328*h,v=.587*l+.413*d+.035*h,b=.114*l-.114*d+.293*h,x=.299*l-.3*d+1.25*h,y=.587*l-.586*d-1.05*h,w=.114*l+.886*d-.2*h;for(t=0;t<s;t+=4)r=o[t+0],n=o[t+1],a=o[t+2],i=o[t+3],o[t+0]=f*r+p*n+g*a,o[t+1]=m*r+v*n+b*a,o[t+2]=x*r+y*n+w*a,o[t+3]=i},n.Factory.addGetterSetter(a.Node,"hue",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"saturation",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"value",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},2672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Blur=void 0;const n=r(1751),a=r(1189),i=r(9910);function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.Blur=function(e){var t=Math.round(this.blurRadius());t>0&&function(e,t){var r,n,a,i,c,u,d,h,f,p,g,m,v,b,x,y,w,S,C,T,k,E,_,A,F=e.data,P=e.width,R=e.height,j=t+t+1,N=P-1,I=R-1,O=t+1,D=O*(O+1)/2,L=new o,M=null,z=L,B=null,U=null,W=s[t],G=l[t];for(a=1;a<j;a++)z=z.next=new o,a===O&&(M=z);for(z.next=L,d=u=0,n=0;n<R;n++){for(y=w=S=C=h=f=p=g=0,m=O*(T=F[u]),v=O*(k=F[u+1]),b=O*(E=F[u+2]),x=O*(_=F[u+3]),h+=D*T,f+=D*k,p+=D*E,g+=D*_,z=L,a=0;a<O;a++)z.r=T,z.g=k,z.b=E,z.a=_,z=z.next;for(a=1;a<O;a++)i=u+((N<a?N:a)<<2),h+=(z.r=T=F[i])*(A=O-a),f+=(z.g=k=F[i+1])*A,p+=(z.b=E=F[i+2])*A,g+=(z.a=_=F[i+3])*A,y+=T,w+=k,S+=E,C+=_,z=z.next;for(B=L,U=M,r=0;r<P;r++)F[u+3]=_=g*W>>G,0!==_?(_=255/_,F[u]=(h*W>>G)*_,F[u+1]=(f*W>>G)*_,F[u+2]=(p*W>>G)*_):F[u]=F[u+1]=F[u+2]=0,h-=m,f-=v,p-=b,g-=x,m-=B.r,v-=B.g,b-=B.b,x-=B.a,i=d+((i=r+t+1)<N?i:N)<<2,h+=y+=B.r=F[i],f+=w+=B.g=F[i+1],p+=S+=B.b=F[i+2],g+=C+=B.a=F[i+3],B=B.next,m+=T=U.r,v+=k=U.g,b+=E=U.b,x+=_=U.a,y-=T,w-=k,S-=E,C-=_,U=U.next,u+=4;d+=P}for(r=0;r<P;r++){for(w=S=C=y=f=p=g=h=0,m=O*(T=F[u=r<<2]),v=O*(k=F[u+1]),b=O*(E=F[u+2]),x=O*(_=F[u+3]),h+=D*T,f+=D*k,p+=D*E,g+=D*_,z=L,a=0;a<O;a++)z.r=T,z.g=k,z.b=E,z.a=_,z=z.next;for(c=P,a=1;a<=t;a++)u=c+r<<2,h+=(z.r=T=F[u])*(A=O-a),f+=(z.g=k=F[u+1])*A,p+=(z.b=E=F[u+2])*A,g+=(z.a=_=F[u+3])*A,y+=T,w+=k,S+=E,C+=_,z=z.next,a<I&&(c+=P);for(u=r,B=L,U=M,n=0;n<R;n++)F[3+(i=u<<2)]=_=g*W>>G,_>0?(_=255/_,F[i]=(h*W>>G)*_,F[i+1]=(f*W>>G)*_,F[i+2]=(p*W>>G)*_):F[i]=F[i+1]=F[i+2]=0,h-=m,f-=v,p-=b,g-=x,m-=B.r,v-=B.g,b-=B.b,x-=B.a,i=r+((i=n+O)<I?i:I)*P<<2,h+=y+=B.r=F[i],f+=w+=B.g=F[i+1],p+=S+=B.b=F[i+2],g+=C+=B.a=F[i+3],B=B.next,m+=T=U.r,v+=k=U.g,b+=E=U.b,x+=_=U.a,y-=T,w-=k,S-=E,C-=_,U=U.next,u+=P}}(e,t)},n.Factory.addGetterSetter(a.Node,"blurRadius",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},2715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Enhance=void 0;const n=r(1751),a=r(1189),i=r(9910);function o(e,t,r,n,a){var i=r-t,o=a-n;return 0===i?n+o/2:0===o?n:o*((e-t)/i)+n}t.Enhance=function(e){var t,r,n,a,i=e.data,s=i.length,l=i[0],c=l,u=i[1],d=u,h=i[2],f=h,p=this.enhance();if(0!==p){for(a=0;a<s;a+=4)(t=i[a+0])<l?l=t:t>c&&(c=t),(r=i[a+1])<u?u=r:r>d&&(d=r),(n=i[a+2])<h?h=n:n>f&&(f=n);var g,m,v,b,x,y,w,S,C;for(c===l&&(c=255,l=0),d===u&&(d=255,u=0),f===h&&(f=255,h=0),p>0?(m=c+p*(255-c),v=l-p*(l-0),x=d+p*(255-d),y=u-p*(u-0),S=f+p*(255-f),C=h-p*(h-0)):(m=c+p*(c-(g=.5*(c+l))),v=l+p*(l-g),x=d+p*(d-(b=.5*(d+u))),y=u+p*(u-b),S=f+p*(f-(w=.5*(f+h))),C=h+p*(h-w)),a=0;a<s;a+=4)i[a+0]=o(i[a+0],l,c,v,m),i[a+1]=o(i[a+1],u,d,y,x),i[a+2]=o(i[a+2],h,f,C,S)}},n.Factory.addGetterSetter(a.Node,"enhance",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,r,n){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,L=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case S:return"Portal";case k:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return W(e(t))}catch(r){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function X(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=$(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){Q(e,t);var r=$(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:$(r)}}function ie(e,t){var r=$(t.value),n=$(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=ge(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Te=null;function ke(e){if(e=xa(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),Se(e.stateNode,e.type,t))}}function Ee(e){Ce?Te?Te.push(e):Te=[e]:Ce=e}function _e(){if(Ce){var e=Ce,t=Te;if(Te=Ce=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function Fe(){}var Pe=!1;function Re(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Ae(e,t,r)}finally{Pe=!1,(null!==Ce||null!==Te)&&(Fe(),_e())}}function je(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Ne=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Ne=!1}function Oe(e,t,r,n,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Me=!1,ze=null,Be={onError:function(e){De=!0,Le=e}};function Ue(e,t,r,n,a,i,o,s,l){De=!1,Le=null,Oe.apply(Be,arguments)}function We(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(We(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return $e(a),e;if(o===n)return $e(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=o;break}if(l===n){s=!0,n=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=a;break}if(l===n){s=!0,n=o,r=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Qe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~a;0!==s?n=dt(s):0!==(i&=o)&&(n=dt(i))}else 0!==(o=r&~a)?n=dt(o):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var xt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Ct,Tt,kt,Et=!1,_t=[],At=null,Ft=null,Pt=null,Rt=new Map,jt=new Map,Nt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Dt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ba(e.target);if(null!==t){var r=We(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ge(r)))return e.blockedOn=t,void kt(e.priority,(function(){Ct(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=xa(r))&&St(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ye=n,r.target.dispatchEvent(n),ye=null,t.shift()}return!0}function zt(e,t,r){Mt(e)&&r.delete(t)}function Bt(){Et=!1,null!==At&&Mt(At)&&(At=null),null!==Ft&&Mt(Ft)&&(Ft=null),null!==Pt&&Mt(Pt)&&(Pt=null),Rt.forEach(zt),jt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var r=1;r<_t.length;r++){var n=_t[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Ft&&Ut(Ft,e),null!==Pt&&Ut(Pt,e),Rt.forEach(t),jt.forEach(t),r=0;r<Nt.length;r++)(n=Nt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Nt.length&&null===(r=Nt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Nt.shift()}var Gt=y.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,r,n){var a=xt,i=Gt.transition;Gt.transition=null;try{xt=1,qt(e,t,r,n)}finally{xt=a,Gt.transition=i}}function Vt(e,t,r,n){var a=xt,i=Gt.transition;Gt.transition=null;try{xt=4,qt(e,t,r,n)}finally{xt=a,Gt.transition=i}}function qt(e,t,r,n){if($t){var a=Yt(e,t,r,n);if(null===a)$n(e,t,n,Kt,r),Ot(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return At=Dt(At,e,t,r,n,a),!0;case"dragenter":return Ft=Dt(Ft,e,t,r,n,a),!0;case"mouseover":return Pt=Dt(Pt,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Rt.set(i,Dt(Rt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,jt.set(i,Dt(jt.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Ot(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&wt(i),null===(i=Yt(e,t,r,n))&&$n(e,t,n,Kt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else $n(e,t,n,null,r)}}var Kt=null;function Yt(e,t,r,n){if(Kt=null,null!==(e=ba(e=we(n))))if(null===(t=We(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,or,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=L({},lr,{view:0,detail:0}),dr=ar(ur),hr=L({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ir=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ir=0,sr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ar(hr),pr=ar(L({},hr,{dataTransfer:0})),gr=ar(L({},ur,{relatedTarget:0})),mr=ar(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=ar(vr),xr=ar(L({},lr,{data:0})),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Tr(){return Cr}var kr=L({},ur,{key:function(e){if(e.key){var t=yr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Er=ar(kr),_r=ar(L({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ar=ar(L({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr})),Fr=ar(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=L({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=ar(Pr),jr=[9,13,27,32],Nr=u&&"CompositionEvent"in window,Ir=null;u&&"documentMode"in document&&(Ir=document.documentMode);var Or=u&&"TextEvent"in window&&!Ir,Dr=u&&(!Nr||Ir&&8<Ir&&11>=Ir),Lr=String.fromCharCode(32),Mr=!1;function zr(e,t){switch(e){case"keyup":return-1!==jr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wr[e.type]:"textarea"===t}function $r(e,t,r,n){Ee(n),0<(t=Vn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,Vr=null;function qr(e){Mn(e,0)}function Kr(e){if(q(ya(e)))return e}function Yr(e,t){if("change"===e)return t}var Xr=!1;if(u){var Qr;if(u){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Qr=Jr}else Qr=!1;Xr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),Vr=Hr=null)}function tn(e){if("value"===e.propertyName&&Kr(Vr)){var t=[];$r(t,Vr,e,we(e)),Re(qr,t)}}function rn(e,t,r){"focusin"===e?(en(),Vr=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Vr)}function an(e,t){if("click"===e)return Kr(t)}function on(e,t){if("input"===e||"change"===e)return Kr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=un(r,i);var o=un(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=u&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,bn=null,xn=!1;function yn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;xn||null==mn||mn!==K(n)||("selectionStart"in(n=mn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=Vn(vn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Cn={},Tn={};function kn(e){if(Cn[e])return Cn[e];if(!Sn[e])return e;var t,r=Sn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Tn)return Cn[e]=r[t];return e}u&&(Tn=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var En=kn("animationend"),_n=kn("animationiteration"),An=kn("animationstart"),Fn=kn("transitionend"),Pn=new Map,Rn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){Pn.set(e,t),l(t,[e])}for(var Nn=0;Nn<Rn.length;Nn++){var In=Rn[Nn];jn(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}jn(En,"onAnimationEnd"),jn(_n,"onAnimationIteration"),jn(An,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Fn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dn=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,l,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(i(198));var u=Le;De=!1,Le=null,Me||(Me=!0,ze=u)}}(n,t,void 0,e),e.currentTarget=null}function Mn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Ln(a,s,c),i=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Ln(a,s,c),i=l}}}if(Me)throw e=ze,Me=!1,ze=null,e}function zn(e,t){var r=t[ga];void 0===r&&(r=t[ga]=new Set);var n=e+"__bubble";r.has(n)||(Gn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Gn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[Un]){e[Un]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dn.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,Bn("selectionchange",!1,t))}}function Gn(e,t,r,n){switch(Xt(t)){case 1:var a=Ht;break;case 4:a=Vt;break;default:a=qt}r=a.bind(null,t,r,e),a=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $n(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ba(s)))return;if(5===(l=o.tag)||6===l){n=i=o;continue e}s=s.parentNode}}n=n.return}Re((function(){var n=i,a=we(r),o=[];e:{var s=Pn.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Er;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ar;break;case En:case _n:case An:l=mr;break;case Fn:l=Fr;break;case"scroll":l=dr;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_r}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=n;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=je(p,h))&&u.push(Hn(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,r,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!ba(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ba(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_r,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ya(l),f=null==c?s:ya(c),(s=new u(g,p+"leave",l,r,a)).target=d,s.relatedTarget=f,g=null,ba(a)===n&&((u=new u(h,p+"enter",c,r,a)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=qn(f))p++;for(f=0,g=h;g;g=qn(g))f++;for(;0<p-f;)u=qn(u),p--;for(;0<f-p;)h=qn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=qn(u),h=qn(h)}u=null}else u=null;null!==l&&Kn(o,s,l,u,!1),null!==c&&null!==d&&Kn(o,d,c,u,!0)}if("select"===(l=(s=n?ya(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yr;else if(Gr(s))if(Xr)m=on;else{m=nn;var v=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=an);switch(m&&(m=m(e,n))?$r(o,m,r,a):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?ya(n):window,e){case"focusin":(Gr(v)||"true"===v.contentEditable)&&(mn=v,vn=n,bn=null);break;case"focusout":bn=vn=mn=null;break;case"mousedown":xn=!0;break;case"contextmenu":case"mouseup":case"dragend":xn=!1,yn(o,r,a);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":yn(o,r,a)}var b;if(Nr)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ur?zr(e,r)&&(x="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(x="onCompositionStart");x&&(Dr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==x?"onCompositionEnd"===x&&Ur&&(b=er()):(Jt="value"in(Qt=a)?Qt.value:Qt.textContent,Ur=!0)),0<(v=Vn(n,x)).length&&(x=new xr(x,e,null,r,a),o.push({event:x,listeners:v}),b?x.data=b:null!==(b=Br(r))&&(x.data=b))),(b=Or?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Mr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Mr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Nr&&zr(e,t)?(e=er(),Zt=Jt=Qt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Vn(n,"onBeforeInput")).length&&(a=new xr("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=b))}Mn(o,t)}))}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=je(e,r))&&n.unshift(Hn(e,i,a)),null!=(i=je(e,t))&&n.push(Hn(e,i,a))),e=e.return}return n}function qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=je(r,i))&&o.unshift(Hn(r,l,s)):a||null!=(l=je(r,i))&&o.push(Hn(r,l,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Yn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(Xn,"")}function Jn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(i(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:na;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Wt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ga="__reactEvents$"+da,ma="__reactListeners$"+da,va="__reactHandles$"+da;function ba(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[ha])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function xa(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var Sa=[],Ca=-1;function Ta(e){return{current:e}}function ka(e){0>Ca||(e.current=Sa[Ca],Sa[Ca]=null,Ca--)}function Ea(e,t){Ca++,Sa[Ca]=e.current,e.current=t}var _a={},Aa=Ta(_a),Fa=Ta(!1),Pa=_a;function Ra(e,t){var r=e.type.contextTypes;if(!r)return _a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ja(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Na(){ka(Fa),ka(Aa)}function Ia(e,t,r){if(Aa.current!==_a)throw Error(i(168));Ea(Aa,t),Ea(Fa,r)}function Oa(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,G(e)||"Unknown",a));return L({},r,n)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Pa=Aa.current,Ea(Aa,e),Ea(Fa,Fa.current),!0}function La(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Oa(e,t,Pa),n.__reactInternalMemoizedMergedChildContext=e,ka(Fa),ka(Aa),Ea(Aa,e)):ka(Fa),Ea(Fa,r)}var Ma=null,za=!1,Ba=!1;function Ua(e){null===Ma?Ma=[e]:Ma.push(e)}function Wa(){if(!Ba&&null!==Ma){Ba=!0;var e=0,t=xt;try{var r=Ma;for(xt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ma=null,za=!1}catch(a){throw null!==Ma&&(Ma=Ma.slice(e+1)),qe(Ze,Wa),a}finally{xt=t,Ba=!1}}return null}var Ga=[],$a=0,Ha=null,Va=0,qa=[],Ka=0,Ya=null,Xa=1,Qa="";function Ja(e,t){Ga[$a++]=Va,Ga[$a++]=Ha,Ha=e,Va=t}function Za(e,t,r){qa[Ka++]=Xa,qa[Ka++]=Qa,qa[Ka++]=Ya,Ya=e;var n=Xa;e=Qa;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Xa=1<<32-ot(t)+a|r<<a|n,Qa=i+e}else Xa=1<<i|r<<a|n,Qa=e}function ei(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ti(e){for(;e===Ha;)Ha=Ga[--$a],Ga[$a]=null,Va=Ga[--$a],Ga[$a]=null;for(;e===Ya;)Ya=qa[--Ka],qa[Ka]=null,Qa=qa[--Ka],qa[Ka]=null,Xa=qa[--Ka],qa[Ka]=null}var ri=null,ni=null,ai=!1,ii=null;function oi(e,t){var r=jc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function si(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ya?{id:Xa,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=jc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var r=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(r.nextSibling);var n=ri;t&&si(e,t)?oi(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ni;e;)e=ca(e.nextSibling)}function fi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var gi=y.ReactCurrentBatchConfig;function mi(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var vi=Ta(null),bi=null,xi=null,yi=null;function wi(){yi=xi=bi=null}function Si(e){var t=vi.current;ka(vi),e._currentValue=t}function Ci(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ti(e,t){bi=e,yi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(yi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===bi)throw Error(i(308));xi=e,bi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Ei=null;function _i(e){null===Ei?Ei=[e]:Ei.push(e)}function Ai(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,_i(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fi(e,n)}function Fi(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Pi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ji(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Fl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fi(e,r)}return null===(a=n.interleaved)?(t.next=t,_i(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fi(e,r)}function Oi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Di(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Li(e,t,r,n){var a=e.updateQueue;Pi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=r,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Pi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Mi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var zi=(new n.Component).refs;function Bi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Ui={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tc(),a=rc(e),i=Ni(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ii(e,i,a))&&(nc(t,e,a,n),Oi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tc(),a=rc(e),i=Ni(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ii(e,i,a))&&(nc(t,e,a,n),Oi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tc(),n=rc(e),a=Ni(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ii(e,a,n))&&(nc(t,e,n,r),Oi(t,e,n))}};function Wi(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function Gi(e,t,r){var n=!1,a=_a,i=t.contextType;return"object"===typeof i&&null!==i?i=ki(i):(a=ja(t)?Pa:Aa.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ra(e,a):_a),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function $i(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function Hi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=zi,Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ki(i):(i=ja(t)?Pa:Aa.current,a.context=Ra(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Bi(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ui.enqueueReplaceState(a,a.state,null),Li(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Vi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===zi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function qi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ki(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Mc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===C?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&Ki(i)===t.type)?((n=a(t,r.props)).ref=Vi(e,t,r),n.return=e,n):((n=Oc(r.type,r.key,r.props,null,e.mode,n)).ref=Vi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=zc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Dc(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Oc(t.type,t.key,t.props,null,e.mode,r)).ref=Vi(e,null,t),r.return=e,r;case S:return(t=zc(t,e.mode,r)).return=e,t;case j:return h(e,(0,t._init)(t._payload),r)}if(te(t)||O(t))return(t=Dc(t,e.mode,r,null)).return=e,t;qi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case S:return r.key===a?u(e,t,r,n):null;case j:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||O(r))return null!==a?null:d(e,t,r,n,null);qi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case S:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||O(n))return d(t,e=e.get(r)||null,n,a,null);qi(t,n)}return null}function g(a,i,s,l){for(var c=null,u=null,d=i,g=i=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(a,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return r(a,d),ai&&Ja(a,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(a,s[g],l))&&(i=o(d,i,g),null===u?c=d:u.sibling=d,u=d);return ai&&Ja(a,g),c}for(d=n(a,d);g<s.length;g++)null!==(m=p(d,a,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=o(m,i,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(a,e)})),ai&&Ja(a,g),c}function m(a,s,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,g=s,m=s=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var x=f(a,g,b.value,c);if(null===x){null===g&&(g=v);break}e&&g&&null===x.alternate&&t(a,g),s=o(x,s,m),null===d?u=x:d.sibling=x,d=x,g=v}if(b.done)return r(a,g),ai&&Ja(a,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(a,b.value,c))&&(s=o(b,s,m),null===d?u=b:d.sibling=b,d=b);return ai&&Ja(a,m),u}for(g=n(a,g);!b.done;m++,b=l.next())null!==(b=p(g,a,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(a,e)})),ai&&Ja(a,m),u}return function e(n,i,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){r(n,u.sibling),(i=a(u,o.props.children)).return=n,n=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&Ki(c)===u.type){r(n,u.sibling),(i=a(u,o.props)).ref=Vi(n,u,o),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===C?((i=Dc(o.props.children,n.mode,l,o.key)).return=n,n=i):((l=Oc(o.type,o.key,o.props,null,n.mode,l)).ref=Vi(n,i,o),l.return=n,n=l)}return s(n);case S:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(n,i.sibling),(i=a(i,o.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=zc(o,n.mode,l)).return=n,n=i}return s(n);case j:return e(n,i,(u=o._init)(o._payload),l)}if(te(o))return g(n,i,o,l);if(O(o))return m(n,i,o,l);qi(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,o)).return=n,n=i):(r(n,i),(i=Mc(o,n.mode,l)).return=n,n=i),s(n)):r(n,i)}}var Xi=Yi(!0),Qi=Yi(!1),Ji={},Zi=Ta(Ji),eo=Ta(Ji),to=Ta(Ji);function ro(e){if(e===Ji)throw Error(i(174));return e}function no(e,t){switch(Ea(to,t),Ea(eo,e),Ea(Zi,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(Zi),Ea(Zi,t)}function ao(){ka(Zi),ka(eo),ka(to)}function io(e){ro(to.current);var t=ro(Zi.current),r=le(t,e.type);t!==r&&(Ea(eo,e),Ea(Zi,r))}function oo(e){eo.current===e&&(ka(Zi),ka(eo))}var so=Ta(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=y.ReactCurrentDispatcher,fo=y.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,bo=!1,xo=!1,yo=0,wo=0;function So(){throw Error(i(321))}function Co(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function To(e,t,r,n,a,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=r(n,a),xo){o=0;do{if(xo=!1,yo=0,25<=o)throw Error(i(301));o+=1,vo=mo=null,t.updateQueue=null,ho.current=cs,e=r(n,a)}while(xo)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,bo=!1,t)throw Error(i(300));return e}function ko(){var e=0!==yo;return yo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=e:vo=vo.next=e,vo}function _o(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?go.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=e:vo=vo.next=e}return vo}function Ao(e,t){return"function"===typeof t?t(e):t}function Fo(e){var t=_o(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=mo,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,go.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(ys=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,go.lanes|=o,Ll|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Po(e){var t=_o(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sn(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ro(){}function jo(e,t){var r=go,n=_o(),a=t(),o=!sn(n.memoizedState,a);if(o&&(n.memoizedState=a,ys=!0),n=n.queue,$o(Oo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(r.flags|=2048,zo(9,Io.bind(null,r,n,a,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&po)||No(r,t,a)}return a}function No(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Io(e,t,r,n){t.value=r,t.getSnapshot=n,Do(t)&&Lo(e)}function Oo(e,t,r){return r((function(){Do(t)&&Lo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Lo(e){var t=Fi(e,1);null!==t&&nc(t,e,1,-1)}function Mo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,go,e),[t.memoizedState,e]}function zo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Bo(){return _o().memoizedState}function Uo(e,t,r,n){var a=Eo();go.flags|=e,a.memoizedState=zo(1|t,r,void 0,void 0===n?null:n)}function Wo(e,t,r,n){var a=_o();n=void 0===n?null:n;var i=void 0;if(null!==mo){var o=mo.memoizedState;if(i=o.destroy,null!==n&&Co(n,o.deps))return void(a.memoizedState=zo(t,r,i,n))}go.flags|=e,a.memoizedState=zo(1|t,r,i,n)}function Go(e,t){return Uo(8390656,8,e,t)}function $o(e,t){return Wo(2048,8,e,t)}function Ho(e,t){return Wo(4,2,e,t)}function Vo(e,t){return Wo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Wo(4,4,qo.bind(null,t,e),r)}function Yo(){}function Xo(e,t){var r=_o();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Co(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qo(e,t){var r=_o();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Co(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jo(e,t,r){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=r):(sn(r,t)||(r=gt(),go.lanes|=r,Ll|=r,e.baseState=!0),t)}function Zo(e,t){var r=xt;xt=0!==r&&4>r?r:4,e(!0);var n=fo.transition;fo.transition={};try{e(!1),t()}finally{xt=r,fo.transition=n}}function es(){return _o().memoizedState}function ts(e,t,r){var n=rc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(e))as(t,r);else if(null!==(r=Ai(e,t,r,n))){nc(r,e,n,tc()),is(r,t,n)}}function rs(e,t,r){var n=rc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,sn(s,o)){var l=t.interleaved;return null===l?(a.next=a,_i(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Ai(e,t,a,n))&&(nc(r,e,n,a=tc()),is(r,t,n))}}function ns(e){var t=e.alternate;return e===go||null!==t&&t===go}function as(e,t){xo=bo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function is(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}var os={readContext:ki,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ss={readContext:ki,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:ki,useEffect:Go,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Uo(4194308,4,qo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var r=Eo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Eo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ts.bind(null,go,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Mo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=go,a=Eo();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Pl)throw Error(i(349));0!==(30&po)||No(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Go(Oo.bind(null,n,o,e),[e]),n.flags|=2048,zo(9,Io.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Eo(),t=Pl.identifierPrefix;if(ai){var r=Qa;t=":"+t+"R"+(r=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+r),0<(r=yo++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:ki,useCallback:Xo,useContext:ki,useEffect:$o,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Qo,useReducer:Fo,useRef:Bo,useState:function(){return Fo(Ao)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(_o(),mo.memoizedState,e)},useTransition:function(){return[Fo(Ao)[0],_o().memoizedState]},useMutableSource:Ro,useSyncExternalStore:jo,useId:es,unstable_isNewReconciler:!1},cs={readContext:ki,useCallback:Xo,useContext:ki,useEffect:$o,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Qo,useReducer:Po,useRef:Bo,useState:function(){return Po(Ao)},useDebugValue:Yo,useDeferredValue:function(e){var t=_o();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Ao)[0],_o().memoizedState]},useMutableSource:Ro,useSyncExternalStore:jo,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,r){(r=Ni(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Vl=n),hs(0,t)},r}function gs(e,t,r){(r=Ni(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){hs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){hs(0,t),"function"!==typeof n&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ms(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fs;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Ec.bind(null,e,t,r),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ni(-1,1)).tag=2,Ii(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xs=y.ReactCurrentOwner,ys=!1;function ws(e,t,r,n){t.child=null===e?Qi(t,null,r,n):Xi(t,e.child,r,n)}function Ss(e,t,r,n,a){r=r.render;var i=t.ref;return Ti(t,a),n=To(e,t,r,n,i,a),r=ko(),null===e||ys?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Cs(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Nc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Oc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ts(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Ic(i,n)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(ys=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(ys=!0)}}return _s(e,t,r,n,a)}function ks(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Il,Nl),Nl|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Il,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Ea(Il,Nl),Nl|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ea(Il,Nl),Nl|=n;return ws(e,t,a,r),t.child}function Es(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,r,n,a){var i=ja(r)?Pa:Aa.current;return i=Ra(t,i),Ti(t,a),r=To(e,t,r,n,i,a),n=ko(),null===e||ys?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function As(e,t,r,n,a){if(ja(r)){var i=!0;Da(t)}else i=!1;if(Ti(t,a),null===t.stateNode)$s(e,t),Gi(t,r,n),Hi(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=ki(c):c=Ra(t,c=ja(r)?Pa:Aa.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==c)&&$i(t,o,n,c),Pi=!1;var h=t.memoizedState;o.state=h,Li(t,n,o,a),l=t.memoizedState,s!==n||h!==l||Fa.current||Pi?("function"===typeof u&&(Bi(t,r,u,n),l=t.memoizedState),(s=Pi||Wi(t,r,s,n,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ji(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:mi(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=ki(l):l=Ra(t,l=ja(r)?Pa:Aa.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&$i(t,o,n,l),Pi=!1,h=t.memoizedState,o.state=h,Li(t,n,o,a);var p=t.memoizedState;s!==d||h!==p||Fa.current||Pi?("function"===typeof f&&(Bi(t,r,f,n),p=t.memoizedState),(c=Pi||Wi(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fs(e,t,r,n,i,a)}function Fs(e,t,r,n,a,i){Es(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&La(t,r,!1),Hs(e,t,i);n=t.stateNode,xs.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=n.state,a&&La(t,r,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),no(e,t.containerInfo)}function Rs(e,t,r,n,a){return fi(),pi(a),t.flags|=256,ws(e,t,r,n),t.child}var js,Ns,Is,Os,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,r){var n,a=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ea(so,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,a,0,null),e=Dc(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(r),t.memoizedState=Ds,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,s){if(r)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,n=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Lc({mode:"visible",children:n.children},a,0,null),(o=Dc(o,a,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Xi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Bs(e,t,s,n=ds(o=Error(i(419)),n,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(n=Pl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Fi(e,a),nc(n,e,a,-1))}return mc(),Bs(e,t,s,n=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ni=ca(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(qa[Ka++]=Xa,qa[Ka++]=Qa,qa[Ka++]=Ya,Xa=e.id,Qa=e.overflow,Ya=t),t=zs(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(s){s=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Ic(n,s):(s=Dc(s,l,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Ds,a}return e=(s=e.child).sibling,a=Ic(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function zs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,r,n){return null!==n&&pi(n),Xi(t,e.child,null,r),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ci(e.return,t,r)}function Ws(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Gs(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ws(e,t,n.children,r),0!==(2&(n=so.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,r,t);else if(19===e.tag)Us(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ea(so,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===lo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ws(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===lo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ws(t,!0,r,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Ic(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ic(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Vs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ks(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return ja(t.type)&&Na(),qs(t),null;case 3:return n=t.stateNode,ao(),ka(Fa),ka(Aa),uo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Ns(e,t),qs(t),null;case 5:oo(t);var a=ro(to.current);if(r=t.type,null!==e&&null!=t.stateNode)Is(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=ro(Zi.current),di(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ha]=t,n[fa]=o,e=0!==(1&t.mode),r){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(a=0;a<On.length;a++)zn(On[a],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":X(n,o),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},zn("invalid",n);break;case"textarea":ae(n,o),zn("invalid",n)}for(var l in be(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zn("scroll",n)}switch(r){case"input":V(n),Z(n,o,!0);break;case"textarea":V(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,js(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(r,n),r){case"dialog":zn("cancel",e),zn("close",e),a=n;break;case"iframe":case"object":case"embed":zn("load",e),a=n;break;case"video":case"audio":for(a=0;a<On.length;a++)zn(On[a],e);a=n;break;case"source":zn("error",e),a=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),a=n;break;case"details":zn("toggle",e),a=n;break;case"input":X(e,n),a=Y(e,n),zn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=L({},n,{value:void 0}),zn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),zn("invalid",e)}for(o in be(r,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zn("scroll",e):null!=u&&x(e,o,u,l))}switch(r){case"input":V(e),Z(e,n,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+$(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=ro(to.current),ro(Zi.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(o=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return qs(t),null;case 13:if(ka(so),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==ii&&(sc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return ao(),Ns(e,t),null===e&&Wn(t.stateNode.containerInfo),qs(t),null;case 10:return Si(t.type._context),qs(t),null;case 19:if(ka(so),null===(o=t.memoizedState))return qs(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Vs(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Vs(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ea(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Gl&&(t.flags|=128,n=!0,Vs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=lo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return qs(t),null}else 2*Qe()-o.renderingStartTime>Gl&&1073741824!==r&&(t.flags|=128,n=!0,Vs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=so.current,Ea(so,n?1&r|2:1&r),t):(qs(t),null);case 22:case 23:return hc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ti(t),t.tag){case 1:return ja(t.type)&&Na(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),ka(Fa),ka(Aa),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ka(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(so),null;case 4:return ao(),null;case 10:return Si(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}js=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ns=function(){},Is=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ro(Zi.current);var i,o=null;switch(r){case"input":a=Y(e,a),n=Y(e,n),o=[];break;case"select":a=L({},a,{value:void 0}),n=L({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in be(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,r,n){r!==n&&(t.flags|=4)};var Xs=!1,Qs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function tl(e,t,r){try{r()}catch(n){kc(e,t,n)}}var rl=!1;function nl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tl(t,r,i)}a=a.next}while(a!==n)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function il(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ga],delete t[ma],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}function ul(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ul(e,t,r),e=e.sibling;null!==e;)ul(e,t,r),e=e.sibling}var dl=null,hl=!1;function fl(e,t,r){for(r=r.child;null!==r;)pl(e,t,r),r=r.sibling}function pl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(s){}switch(r.tag){case 5:Qs||el(r,t);case 6:var n=dl,a=hl;dl=null,fl(e,t,r),hl=a,null!==(dl=n)&&(hl?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(hl?(e=dl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Wt(e)):la(dl,r.stateNode));break;case 4:n=dl,a=hl,dl=r.stateNode.containerInfo,hl=!0,fl(e,t,r),dl=n,hl=a;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&tl(r,t,o),a=a.next}while(a!==n)}fl(e,t,r);break;case 1:if(!Qs&&(el(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){kc(r,t,s)}fl(e,t,r);break;case 21:fl(e,t,r);break;case 22:1&r.mode?(Qs=(n=Qs)||null!==r.memoizedState,fl(e,t,r),Qs=n):fl(e,t,r);break;default:fl(e,t,r)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Js),t.forEach((function(t){var n=Fc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(o,s,a),dl=null,hl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&n){try{nl(3,e,e.return),al(3,e)}catch(m){kc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&n&&null!==r&&el(r,r.return);break;case 5:if(ml(t,e),bl(e),512&n&&null!==r&&el(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(m){kc(e,e.return,m)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":J(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(m){kc(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){kc(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Wl=Qe())),4&n&&gl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),bl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(n,r,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Zs=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){kc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),bl(e),4&n&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),ul(e,ll(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(i(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,r){Zs=e,yl(e,t,r)}function yl(e,t,r){for(var n=0!==(1&e.mode);null!==Zs;){var a=Zs,i=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Xs;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var c=Qs;if(Xs=o,(Qs=l)&&!c)for(Zs=a;null!==Zs;)l=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Cl(a):null!==l?(l.return=o,Zs=l):Cl(a);for(;null!==i;)Zs=i,yl(i,t,r),i=i.sibling;Zs=a,Xs=s,Qs=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zs=i):wl(e)}}function wl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||al(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Qs)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:mi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Mi(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Mi(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(i(163))}Qs||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zs=r;break}Zs=t.return}}function Sl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zs=r;break}Zs=t.return}}function Cl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{al(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){kc(t,a,l)}}var i=t.return;try{il(t)}catch(l){kc(t,i,l)}break;case 5:var o=t.return;try{il(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Tl,kl=Math.ceil,El=y.ReactCurrentDispatcher,_l=y.ReactCurrentOwner,Al=y.ReactCurrentBatchConfig,Fl=0,Pl=null,Rl=null,jl=0,Nl=0,Il=Ta(0),Ol=0,Dl=null,Ll=0,Ml=0,zl=0,Bl=null,Ul=null,Wl=0,Gl=1/0,$l=null,Hl=!1,Vl=null,ql=null,Kl=!1,Yl=null,Xl=0,Ql=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Fl)?Qe():-1!==Zl?Zl:Zl=Qe()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Fl)&&0!==jl?jl&-jl:null!==gi.transition?(0===ec&&(ec=gt()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,r,n){if(50<Ql)throw Ql=0,Jl=null,Error(i(185));vt(e,r,n),0!==(2&Fl)&&e===Pl||(e===Pl&&(0===(2&Fl)&&(Ml|=r),4===Ol&&lc(e,jl)),ac(e,n),1===r&&0===Fl&&0===(1&t.mode)&&(Gl=Qe()+500,za&&Wa()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&r)&&0===(s&n)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=ht(e,e===Pl?jl:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){za=!0,Ua(e)}(cc.bind(null,e)):Ua(cc.bind(null,e)),oa((function(){0===(6&Fl)&&Wa()})),r=null;else{switch(yt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ic(e,t){if(Zl=-1,ec=0,0!==(6&Fl))throw Error(i(327));var r=e.callbackNode;if(Cc()&&e.callbackNode!==r)return null;var n=ht(e,e===Pl?jl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=vc(e,n);else{t=n;var a=Fl;Fl|=2;var o=gc();for(Pl===e&&jl===t||($l=null,Gl=Qe()+500,fc(e,t));;)try{xc();break}catch(l){pc(e,l)}wi(),El.current=o,Fl=a,null!==Rl?t=0:(Pl=null,jl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=oc(e,a))),1===t)throw r=Dl,fc(e,0),lc(e,n),ac(e,Qe()),r;if(6===t)lc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sn(i(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,n))&&(0!==(o=pt(e))&&(n=o,t=oc(e,o))),1===t))throw r=Dl,fc(e,0),lc(e,n),ac(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:Sc(e,Ul,$l);break;case 3:if(lc(e,n),(130023424&n)===n&&10<(t=Wl+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Sc.bind(null,e,Ul,$l),t);break}Sc(e,Ul,$l);break;case 4:if(lc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=na(Sc.bind(null,e,Ul,$l),n);break}Sc(e,Ul,$l);break;default:throw Error(i(329))}}}return ac(e,Qe()),e.callbackNode===r?ic.bind(null,e):null}function oc(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=r,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~zl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function cc(e){if(0!==(6&Fl))throw Error(i(327));Cc();var t=ht(e,0);if(0===(1&t))return ac(e,Qe()),null;var r=vc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=oc(e,n))}if(1===r)throw r=Dl,fc(e,0),lc(e,t),ac(e,Qe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Ul,$l),ac(e,Qe()),null}function uc(e,t){var r=Fl;Fl|=1;try{return e(t)}finally{0===(Fl=r)&&(Gl=Qe()+500,za&&Wa())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Fl)&&Cc();var t=Fl;Fl|=1;var r=Al.transition,n=xt;try{if(Al.transition=null,xt=1,e)return e()}finally{xt=n,Al.transition=r,0===(6&(Fl=t))&&Wa()}}function hc(){Nl=Il.current,ka(Il)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Rl)for(r=Rl.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Na();break;case 3:ao(),ka(Fa),ka(Aa),uo();break;case 5:oo(n);break;case 4:ao();break;case 13:case 19:ka(so);break;case 10:Si(n.type._context);break;case 22:case 23:hc()}r=r.return}if(Pl=e,Rl=e=Ic(e.current,null),jl=Nl=t,Ol=0,Dl=null,zl=Ml=Ll=0,Ul=Bl=null,null!==Ei){for(t=0;t<Ei.length;t++)if(null!==(n=(r=Ei[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var o=i.next;i.next=a,n.next=o}r.pending=n}Ei=null}return e}function pc(e,t){for(;;){var r=Rl;try{if(wi(),ho.current=os,bo){for(var n=go.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}bo=!1}if(po=0,vo=mo=go=null,xo=!1,yo=0,_l.current=null,null===r||null===r.return){Ol=1,Dl=t,Rl=null;break}e:{var o=e,s=r.return,l=r,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,bs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bs(v,s,l,0,t),pi(us(c,l));break e}}o=c=us(c,l),4!==Ol&&(Ol=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Di(o,ps(0,c,t));break e;case 1:l=c;var b=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Di(o,gs(o,l,t));break e}}o=o.return}while(null!==o)}wc(r)}catch(y){t=y,Rl===r&&null!==r&&(Rl=r=r.return);continue}break}}function gc(){var e=El.current;return El.current=os,null===e?os:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Ml)||lc(Pl,jl)}function vc(e,t){var r=Fl;Fl|=2;var n=gc();for(Pl===e&&jl===t||($l=null,fc(e,t));;)try{bc();break}catch(a){pc(e,a)}if(wi(),Fl=r,El.current=n,null!==Rl)throw Error(i(261));return Pl=null,jl=0,Ol}function bc(){for(;null!==Rl;)yc(Rl)}function xc(){for(;null!==Rl&&!Ye();)yc(Rl)}function yc(e){var t=Tl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,_l.current=null}function wc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ks(r,t,Nl)))return void(Rl=r)}else{if(null!==(r=Ys(r,t)))return r.flags&=32767,void(Rl=r);if(null===e)return Ol=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Sc(e,t,r){var n=xt,a=Al.transition;try{Al.transition=null,xt=1,function(e,t,r,n){do{Cc()}while(null!==Yl);if(0!==(6&Fl))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,o),e===Pl&&(Rl=Pl=null,jl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Pc(tt,(function(){return Cc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Al.transition,Al.transition=null;var s=xt;xt=1;var l=Fl;Fl|=4,_l.current=null,function(e,t){if(ea=$t,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=s),f===o&&++d===n&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},$t=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:mi(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(i(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=rl,rl=!1}(e,r),vl(r,e),pn(ta),$t=!!ea,ta=ea=null,e.current=r,xl(r,e,a),Xe(),Fl=l,xt=s,Al.transition=o}else e.current=r;if(Kl&&(Kl=!1,Yl=e,Xl=a),o=e.pendingLanes,0===o&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&Cc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Wa()}(e,t,r,n)}finally{Al.transition=a,xt=n}return null}function Cc(){if(null!==Yl){var e=yt(Xl),t=Al.transition,r=xt;try{if(Al.transition=null,xt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Fl))throw Error(i(331));var a=Fl;for(Fl|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(ol(d),d===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Zs=b;break e}Zs=o.return}}var x=e.current;for(Zs=x;null!==Zs;){var y=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,Zs=y;else e:for(s=x;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(S){kc(l,l.return,S)}if(l===s){Zs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zs=w;break e}Zs=l.return}}if(Fl=a,Wa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(S){}n=!0}return n}finally{xt=r,Al.transition=t}}return!1}function Tc(e,t,r){e=Ii(e,t=ps(0,t=us(r,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ac(e,t))}function kc(e,t,r){if(3===e.tag)Tc(e,e,r);else for(;null!==t;){if(3===t.tag){Tc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ql||!ql.has(n))){t=Ii(t,e=gs(t,e=us(r,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Ec(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(jl&r)===r&&(4===Ol||3===Ol&&(130023424&jl)===jl&&500>Qe()-Wl?fc(e,0):zl|=r),ac(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=tc();null!==(e=Fi(e,t))&&(vt(e,t,r),ac(e,r))}function Ac(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),_c(e,r)}function Fc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),_c(e,r)}function Pc(e,t){return qe(e,t)}function Rc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,r,n){return new Rc(e,t,r,n)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var r=e.alternate;return null===r?((r=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oc(e,t,r,n,a,o){var s=2;if(n=e,"function"===typeof e)Nc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Dc(r.children,a,o,t);case T:s=8,a|=8;break;case k:return(e=jc(12,r,t,2|a)).elementType=k,e.lanes=o,e;case F:return(e=jc(13,r,t,a)).elementType=F,e.lanes=o,e;case P:return(e=jc(19,r,t,a)).elementType=P,e.lanes=o,e;case N:return Lc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case A:s=11;break e;case R:s=14;break e;case j:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=jc(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Dc(e,t,r,n){return(e=jc(7,e,n,t)).lanes=r,e}function Lc(e,t,r,n){return(e=jc(22,e,n,t)).elementType=N,e.lanes=r,e.stateNode={isHidden:!1},e}function Mc(e,t,r){return(e=jc(6,e,null,t)).lanes=r,e}function zc(e,t,r){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,n,a,i,o,s,l){return e=new Bc(e,t,r,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=jc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Wc(e){if(!e)return _a;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(ja(r))return Oa(e,r,t)}return t}function Gc(e,t,r,n,a,i,o,s,l){return(e=Uc(r,n,!0,e,0,i,0,s,l)).context=Wc(null),r=e.current,(i=Ni(n=tc(),a=rc(r))).callback=void 0!==t&&null!==t?t:null,Ii(r,i,a),e.current.lanes=a,vt(e,a,n),ac(e,n),e}function $c(e,t,r,n){var a=t.current,i=tc(),o=rc(a);return r=Wc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ni(i,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ii(a,t,o))&&(nc(e,a,o,i),Oi(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Tl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fa.current)ys=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return ys=!1,function(e,t,r){switch(t.tag){case 3:Ps(t),fi();break;case 5:io(t);break;case 1:ja(t.type)&&Da(t);break;case 4:no(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ea(vi,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ea(so,1&so.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ms(e,t,r):(Ea(so,1&so.current),null!==(e=Hs(e,t,r))?e.sibling:null);Ea(so,1&so.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Gs(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(so,so.current),n)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,r)}return Hs(e,t,r)}(e,t,r);ys=0!==(131072&e.flags)}else ys=!1,ai&&0!==(1048576&t.flags)&&Za(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$s(e,t),e=t.pendingProps;var a=Ra(t,Aa.current);Ti(t,r),a=To(null,t,n,e,a,r);var o=ko();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ja(n)?(o=!0,Da(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(t),a.updater=Ui,t.stateNode=a,a._reactInternals=t,Hi(t,n,e,r),t=Fs(null,t,n,!0,o,r)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch($s(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(n),e=mi(n,e),a){case 0:t=_s(null,t,n,e,r);break e;case 1:t=As(null,t,n,e,r);break e;case 11:t=Ss(null,t,n,e,r);break e;case 14:t=Cs(null,t,n,mi(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,_s(e,t,n,a=t.elementType===n?a:mi(n,a),r);case 1:return n=t.type,a=t.pendingProps,As(e,t,n,a=t.elementType===n?a:mi(n,a),r);case 3:e:{if(Ps(t),null===e)throw Error(i(387));n=t.pendingProps,a=(o=t.memoizedState).element,ji(e,t),Li(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,n,r,a=us(Error(i(423)),t));break e}if(n!==a){t=Rs(e,t,n,r,a=us(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=Qi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===a){t=Hs(e,t,r);break e}ws(e,t,n,r)}t=t.child}return t;case 5:return io(t),null===e&&ci(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ra(n,a)?s=null:null!==o&&ra(n,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Ms(e,t,r);case 4:return no(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Xi(t,null,n,r):ws(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Ss(e,t,n,a=t.elementType===n?a:mi(n,a),r);case 7:return ws(e,t,t.pendingProps,r),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ea(vi,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===a.children&&!Fa.current){t=Hs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Ni(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ci(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ci(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ti(t,r),n=n(a=ki(a)),t.flags|=1,ws(e,t,n,r),t.child;case 14:return a=mi(n=t.type,t.pendingProps),Cs(e,t,n,a=mi(n.type,a),r);case 15:return Ts(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mi(n,a),$s(e,t),t.tag=1,ja(n)?(e=!0,Da(t)):e=!1,Ti(t,r),Gi(t,n,a),Hi(t,n,a,r),Fs(null,t,n,!0,e,r);case 19:return Gs(e,t,r);case 22:return ks(e,t,r)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hc(o);s.call(e)}}$c(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Hc(o);i.call(e)}}var o=Gc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pa]=o.current,Wn(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var s=n;n=function(){var e=Hc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pa]=l.current,Wn(8===e.nodeType?e.parentNode:e),dc((function(){$c(t,l,r,n)})),l}(r,t,e,a,n);return Hc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));$c(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){$c(null,e,null,null)})),t[pa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nt.length&&0!==t&&t<Nt[r].priority;r++);Nt.splice(r,0,e),0===r&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(bt(t,1|r),ac(t,Qe()),0===(6&Fl)&&(Gl=Qe()+500,Wa()))}break;case 13:dc((function(){var t=Fi(e,1);if(null!==t){var r=tc();nc(t,e,1,r)}})),qc(e,1)}},St=function(e){if(13===e.tag){var t=Fi(e,134217728);if(null!==t)nc(t,e,134217728,tc());qc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=rc(e),r=Fi(e,t);if(null!==r)nc(r,e,t,tc());qc(e,t)}},Tt=function(){return xt},kt=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}},Se=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(i(90));q(n),J(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ae=uc,Fe=dc;var tu={usingClientEntryPoint:!1,Events:[xa,ya,wa,Ee,_e,uc]},ru={findFiberByHostInstance:ba,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(nu),it=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var r=!1,n="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,Wn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Jc(t))throw Error(i(200));return eu(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",s=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Gc(t,null,e,1,null!=r?r:null,a,0,o,s),e[pa]=t.current,Wn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Xc(t)},t.render=function(e,t,r){if(!Jc(t))throw Error(i(200));return eu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},2941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;const n=r(7149),a=r(1751),i=r(3304),o=r(4602),s=r(9910);class l extends i.Shape{constructor(e){super(e),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),r=this.getHeight(),a=this.cornerRadius(),i=this.attrs.image;let o;if(i){const e=this.attrs.cropWidth,n=this.attrs.cropHeight;o=e&&n?[i,this.cropX(),this.cropY(),e,n,0,0,t,r]:[i,0,0,t,r]}(this.hasFill()||this.hasStroke()||a)&&(e.beginPath(),a?n.Util.drawRoundedRectPath(e,t,r,a):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),i&&(a&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){var t=this.width(),r=this.height(),a=this.cornerRadius();e.beginPath(),a?n.Util.drawRoundedRectPath(e,t,r,a):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var a=n.Util.createImageElement();a.onload=function(){var e=new l({image:a});t(e)},a.onerror=r,a.crossOrigin="Anonymous",a.src=e}}t.Image=l,l.prototype.className="Image",(0,o._registerNode)(l),a.Factory.addGetterSetter(l,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),a.Factory.addGetterSetter(l,"image"),a.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(l,"cropX",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(l,"cropY",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(l,"cropWidth",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(l,"cropHeight",0,(0,s.getNumberValidator)())},3169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=t.stringToArray=void 0;const n=r(7149),a=r(1751),i=r(3304),o=r(9910),s=r(4602);function l(e){return Array.from(e)}t.stringToArray=l;var c,u="auto",d="inherit",h="justify",f="left",p="middle",g="normal",m=" ",v="none",b=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],x=b.length;function y(){return c||(c=n.Util.createCanvasElement().getContext("2d"))}class w extends i.Shape{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<x;t++)this.on(b[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,r=t.length;if(this.text()){var n,a=this.padding(),i=this.fontSize(),o=this.lineHeight()*i,s=this.verticalAlign(),c=this.direction(),u=0,g=this.align(),m=this.getWidth(),v=this.letterSpacing(),b=this.fill(),x=this.textDecoration(),y=-1!==x.indexOf("underline"),w=-1!==x.indexOf("line-through"),S=0,C=(S=o/2,0),T=0;for("rtl"===(c=c===d?e.direction:c)&&e.setAttr("direction",c),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",p),e.setAttr("textAlign",f),s===p?u=(this.getHeight()-r*o-2*a)/2:"bottom"===s&&(u=this.getHeight()-r*o-2*a),e.translate(a,u+a),n=0;n<r;n++){C=0,T=0;var k,E,_,A=t[n],F=A.text,P=A.width,R=A.lastInParagraph;if(e.save(),"right"===g?C+=m-P-2*a:"center"===g&&(C+=(m-P-2*a)/2),y){e.save(),e.beginPath(),e.moveTo(C,S+T+Math.round(i/2)),E=0===(k=F.split(" ").length-1),_=g!==h||R?P:m-2*a,e.lineTo(C+Math.round(_),S+T+Math.round(i/2)),e.lineWidth=i/15;const t=this._getLinearGradient();e.strokeStyle=t||b,e.stroke(),e.restore()}if(w){e.save(),e.beginPath(),e.moveTo(C,S+T),E=0===(k=F.split(" ").length-1),_=g===h&&R&&!E?m-2*a:P,e.lineTo(C+Math.round(_),S+T),e.lineWidth=i/15;const t=this._getLinearGradient();e.strokeStyle=t||b,e.stroke(),e.restore()}if("rtl"===c||0===v&&g!==h)0!==v&&e.setAttr("letterSpacing",`${v}px`),this._partialTextX=C,this._partialTextY=S+T,this._partialText=F,e.fillStrokeShape(this);else{k=F.split(" ").length-1;for(var j=l(F),N=0;N<j.length;N++){var I=j[N];" "!==I||R||g!==h||(C+=(m-2*a-P)/k),this._partialTextX=C,this._partialTextY=S+T,this._partialText=I,e.fillStrokeShape(this),C+=this.measureSize(I).width+v}}e.restore(),r>1&&(S+=o)}}}_hitFunc(e){var t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=n.Util._isString(e)?e:null===e||void 0===e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===u||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===u||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r=y(),n=this.fontSize();return r.save(),r.font=this._getContextFont(),t=r.measureText(e),r.restore(),{width:t.width,height:n}}_getContextFont(){return this.fontStyle()+m+this.fontVariant()+m+(this.fontSize()+"px ")+this.fontFamily().split(",").map((e=>{const t=(e=e.trim()).indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e})).join(", ")}_addTextLine(e){this.align()===h&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){var t=this.letterSpacing(),r=e.length;return y().measureText(e).width+(r?t*(r-1):0)}_setTextData(){var e=this.text().split("\n"),t=+this.fontSize(),r=0,n=this.lineHeight()*t,a=this.attrs.width,i=this.attrs.height,o=a!==u&&void 0!==a,s=i!==u&&void 0!==i,l=this.padding(),c=a-2*l,d=i-2*l,h=0,f=this.wrap(),p="char"!==f&&f!==v,g=this.ellipsis();this.textArr=[],y().font=this._getContextFont();for(var b=g?this._getTextWidth("\u2026"):0,x=0,w=e.length;x<w;++x){var S=e[x],C=this._getTextWidth(S);if(o&&C>c)for(;S.length>0;){for(var T=0,k=S.length,E="",_=0;T<k;){var A=T+k>>>1,F=S.slice(0,A+1),P=this._getTextWidth(F)+b;P<=c?(T=A+1,E=F,_=P):k=A}if(!E)break;if(p){var R,j=S[E.length];(R=(j===m||"-"===j)&&_<=c?E.length:Math.max(E.lastIndexOf(m),E.lastIndexOf("-"))+1)>0&&(T=R,E=E.slice(0,T),_=this._getTextWidth(E))}if(E=E.trimRight(),this._addTextLine(E),r=Math.max(r,_),h+=n,this._shouldHandleEllipsis(h)){this._tryToAddEllipsisToLastLine();break}if((S=(S=S.slice(T)).trimLeft()).length>0&&(C=this._getTextWidth(S))<=c){this._addTextLine(S),h+=n,r=Math.max(r,C);break}}else this._addTextLine(S),h+=n,r=Math.max(r,C),this._shouldHandleEllipsis(h)&&x<w-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),s&&h+n>d)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){var t=+this.fontSize(),r=this.lineHeight()*t,n=this.attrs.height,a=n!==u&&void 0!==n,i=n-2*this.padding();return!(this.wrap()!==v)||a&&e+r>i}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,t=e!==u&&void 0!==e,r=e-2*this.padding(),n=this.ellipsis(),a=this.textArr[this.textArr.length-1];if(a&&n){if(t)this._getTextWidth(a.text+"\u2026")<r||(a.text=a.text.slice(0,a.text.length-3));this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+"\u2026")}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas()}}t.Text=w,w.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype._strokeFunc=function(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype.className="Text",w.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(w),a.Factory.overWriteSetter(w,"width",(0,o.getNumberOrAutoValidator)()),a.Factory.overWriteSetter(w,"height",(0,o.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(w,"direction",d),a.Factory.addGetterSetter(w,"fontFamily","Arial"),a.Factory.addGetterSetter(w,"fontSize",12,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(w,"fontStyle",g),a.Factory.addGetterSetter(w,"fontVariant",g),a.Factory.addGetterSetter(w,"padding",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(w,"align",f),a.Factory.addGetterSetter(w,"verticalAlign","top"),a.Factory.addGetterSetter(w,"lineHeight",1,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(w,"wrap","word"),a.Factory.addGetterSetter(w,"ellipsis",!1,(0,o.getBooleanValidator)()),a.Factory.addGetterSetter(w,"letterSpacing",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(w,"text","",(0,o.getStringValidator)()),a.Factory.addGetterSetter(w,"textDecoration","")},3243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=void 0;const n=r(4602),a=r(7149),i=n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return(new Date).getTime()};class o{constructor(e,t){this.id=o.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,r=t.length;for(let n=0;n<r;n++)if(t[n]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const e=o.animations,t=e.length;for(let r=0;r<t;r++)if(e[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),o._addAnimation(this),this}stop(){return o._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,r=this.animations,n=r.length;for(let a=0;a<n;a++)if(r[a].id===t){this.animations.splice(a,1);break}}static _runFrames(){const e={},t=this.animations;for(let r=0;r<t.length;r++){const n=t[r],a=n.layers,o=n.func;n._updateFrameObject(i());const s=a.length;let l;if(l=!o||!1!==o.call(n,n.frame),l)for(let t=0;t<s;t++){const r=a[t];void 0!==r._id&&(e[r._id]=r)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=o;e.animations.length?(e._runFrames(),a.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,a.Util.requestAnimFrame(this._animationLoop))}}t.Animation=o,o.animations=[],o.animIdCounter=0,o.animRunning=!1},3304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const n=r(4602),a=r(7149),i=r(1751),o=r(1189),s=r(9910),l=r(4602),c=r(9485);var u="hasShadow",d="shadowRGBA",h="patternImage",f="linearGradient",p="radialGradient";let g;function m(){return g||(g=a.Util.createCanvasElement().getContext("2d"),g)}t.shapes={};class v extends o.Node{constructor(e){let r;for(super(e);r=a.Util.getRandomColor(),!r||r in t.shapes;);this.colorKey=r,t.shapes[r]=this}getContext(){return a.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return a.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(u,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new a.Transform;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(n.Konva.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const r=t.getMatrix(),i="undefined"===typeof DOMMatrix?{a:r[0],b:r[1],c:r[2],d:r[3],e:r[4],f:r[5]}:new DOMMatrix(r);e.setTransform(i)}return e}}_getLinearGradient(){return this._getCache(f,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var t=m(),r=this.fillLinearGradientStartPoint(),n=this.fillLinearGradientEndPoint(),a=t.createLinearGradient(r.x,r.y,n.x,n.y),i=0;i<e.length;i+=2)a.addColorStop(e[i],e[i+1]);return a}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var t=m(),r=this.fillRadialGradientStartPoint(),n=this.fillRadialGradientEndPoint(),a=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),n.x,n.y,this.fillRadialGradientEndRadius()),i=0;i<e.length;i+=2)a.addColorStop(e[i],e[i+1]);return a}}getShadowRGBA(){return this._getCache(d,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=a.Util.colorToRGBA(this.shadowColor());return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")":void 0}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var t=this.getStage();if(!t)return!1;const r=t.bufferHitCanvas;r.getContext().clear(),this.drawHit(r,void 0,!0);return r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return o.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;const r=e||this.hasFill(),n=this.hasStroke(),a=1!==this.getAbsoluteOpacity();if(r&&n&&a)return!0;const i=this.hasShadow(),o=this.shadowForStrokeEnabled();return!!(r&&n&&i&&o)}setStrokeHitEnabled(e){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.skipTransform,r=e.relativeTo,n=this.getSelfRect(),a=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,i=n.width+a,o=n.height+a,s=!e.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,c=s?this.shadowOffsetY():0,u=i+Math.abs(l),d=o+Math.abs(c),h=s&&this.shadowBlur()||0,f={width:u+2*h,height:d+2*h,x:-(a/2+h)+Math.min(l,0)+n.x,y:-(a/2+h)+Math.min(c,0)+n.y};return t?f:this._transformedRect(f,r)}drawScene(e,t,r){var n,a,i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),l=this._getCanvasCache(),c=this.getSceneFunc(),u=this.hasShadow(),d=o.isCache,h=t===this;if(!this.isVisible()&&!h)return this;if(l){s.save();var f=this.getAbsoluteTransform(t).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!c)return this;if(s.save(),this._useBufferCanvas()&&!d){n=this.getStage();const e=r||n.bufferCanvas;(a=e.getContext()).clear(),a.save(),a._applyLineJoin(this);var p=this.getAbsoluteTransform(t).getMatrix();a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),c.call(this,a,this),a.restore();var g=e.pixelRatio;u&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(e._canvas,0,0,e.width/g,e.height/g)}else{if(s._applyLineJoin(this),!h){p=this.getAbsoluteTransform(t).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}u&&s._applyShadow(this),c.call(this,s,this)}return s.restore(),this}drawHit(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.shouldDrawHit(t,r))return this;var n=this.getLayer(),i=e||n.hitCanvas,o=i&&i.getContext(),s=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();var u=this.getAbsoluteTransform(t).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!s)return this;o.save(),o._applyLineJoin(this);if(!(this===t)){var d=this.getAbsoluteTransform(t).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return s.call(this,o,this),o.restore(),this}drawHitFromCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t,r,n,i,o,s=this._getCanvasCache(),l=this._getCachedSceneCanvas(),c=s.hit,u=c.getContext(),d=c.getWidth(),h=c.getHeight();u.clear(),u.drawImage(l._canvas,0,0,d,h);try{for(n=(r=(t=u.getImageData(0,0,d,h)).data).length,i=a.Util._hexToRgb(this.colorKey),o=0;o<n;o+=4)r[o+3]>e?(r[o]=i.r,r[o+1]=i.g,r[o+2]=i.b,r[o+3]=255):r[o+3]=0;u.putImageData(t,0,0)}catch(f){a.Util.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}hasPointerCapture(e){return c.hasPointerCapture(e,this)}setPointerCapture(e){c.setPointerCapture(e,this)}releaseCapture(e){c.releaseCapture(e,this)}}t.Shape=v,v.prototype._fillFunc=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},v.prototype._strokeFunc=function(e){e.stroke()},v.prototype._fillFuncHit=function(e){e.fill()},v.prototype._strokeFuncHit=function(e){e.stroke()},v.prototype._centroid=!1,v.prototype.nodeType="Shape",(0,l._registerNode)(v),v.prototype.eventListeners={},v.prototype.on.call(v.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(u)})),v.prototype.on.call(v.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(d)})),v.prototype.on.call(v.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(h)})),v.prototype.on.call(v.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(f)})),v.prototype.on.call(v.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(p)})),i.Factory.addGetterSetter(v,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(v,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(v,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(v,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(v,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(v,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(v,"lineJoin"),i.Factory.addGetterSetter(v,"lineCap"),i.Factory.addGetterSetter(v,"sceneFunc"),i.Factory.addGetterSetter(v,"hitFunc"),i.Factory.addGetterSetter(v,"dash"),i.Factory.addGetterSetter(v,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(v,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(v,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(v,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"fillPatternImage"),i.Factory.addGetterSetter(v,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(v,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(v,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(v,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(v,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(v,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(v,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(v,"fillEnabled",!0),i.Factory.addGetterSetter(v,"strokeEnabled",!0),i.Factory.addGetterSetter(v,"shadowEnabled",!0),i.Factory.addGetterSetter(v,"dashEnabled",!0),i.Factory.addGetterSetter(v,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(v,"fillPriority","color"),i.Factory.addComponentsGetterSetter(v,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(v,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(v,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(v,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(v,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(v,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(v,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(v,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(v,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(v,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(v,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(v,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(v,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(v,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(v,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(v,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(v,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(v,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(v,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(v,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(v,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(v,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(v,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(v,"fillPatternRotation",0),i.Factory.addGetterSetter(v,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(v,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},3354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitContext=t.SceneContext=t.Context=void 0;const n=r(7149),a=r(4602);var i=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class o{constructor(e){this.canvas=e,a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var r,a,i,o,s=this.traceArr,l=s.length,c="";for(r=0;r<l;r++)(i=(a=s[r]).method)?(o=a.args,c+=i,e?c+="()":n.Util._isArray(o[0])?c+="(["+o.join(",")+"])":(t&&(o=o.map((e=>"number"===typeof e?Math.floor(e):e))),c+="("+o.join(",")+")")):(c+=a.property,e||(c+="="+a.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,n,a,i){this._context.arc(e,t,r,n,a,i)}arcTo(e,t,r,n,a){this._context.arcTo(e,t,r,n,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,n,a,i){this._context.bezierCurveTo(e,t,r,n,a,i)}clearRect(e,t,r,n){this._context.clearRect(e,t,r,n)}clip(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(e,t){var r=arguments;return 2===r.length?this._context.createImageData(e,t):1===r.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,r,n){return this._context.createLinearGradient(e,t,r,n)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,n,a,i){return this._context.createRadialGradient(e,t,r,n,a,i)}drawImage(e,t,r,n,a,i,o,s,l){var c=arguments,u=this._context;3===c.length?u.drawImage(e,t,r):5===c.length?u.drawImage(e,t,r,n,a):9===c.length&&u.drawImage(e,t,r,n,a,i,o,s,l)}ellipse(e,t,r,n,a,i,o,s){this._context.ellipse(e,t,r,n,a,i,o,s)}isPointInPath(e,t,r,n){return r?this._context.isPointInPath(r,e,t,n):this._context.isPointInPath(e,t,n)}fill(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._context.fill.apply(this._context,t)}fillRect(e,t,r,n){this._context.fillRect(e,t,r,n)}strokeRect(e,t,r,n){this._context.strokeRect(e,t,r,n)}fillText(e,t,r,n){n?this._context.fillText(e,t,r,n):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,n){return this._context.getImageData(e,t,r,n)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,n){this._context.rect(e,t,r,n)}roundRect(e,t,r,n,a){this._context.roundRect(e,t,r,n,a)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,n){this._context.quadraticCurveTo(e,t,r,n)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,n,a,i){this._context.setTransform(e,t,r,n,a,i)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,n){this._context.strokeText(e,t,r,n)}transform(e,t,r,n,a,i){this._context.transform(e,t,r,n,a,i)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e,t,r=this,a=i.length,o=this.setAttr,s=function(e){var a,i=r[e];r[e]=function(){return t=function(e){var t,r,a=[],i=e.length,o=n.Util;for(t=0;t<i;t++)r=e[t],o._isNumber(r)?r=Math.round(1e3*r)/1e3:o._isString(r)||(r+=""),a.push(r);return a}(Array.prototype.slice.call(arguments,0)),a=i.apply(r,arguments),r._trace({method:e,args:t}),a}};for(e=0;e<a;e++)s(i[e]);r.setAttr=function(){o.apply(r,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),r._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}t.Context=o,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(o.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}));t.SceneContext=class extends o{constructor(e){let{willReadFrequently:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),r=e.getFillPriority();if(t&&"color"===r)return void this._fillColor(e);const n=e.getFillPatternImage();if(n&&"pattern"===r)return void this._fillPattern(e);const a=e.getFillLinearGradientColorStops();if(a&&"linear-gradient"===r)return void this._fillLinearGradient(e);const i=e.getFillRadialGradientColorStops();i&&"radial-gradient"===r?this._fillRadialGradient(e):t?this._fillColor(e):n?this._fillPattern(e):a?this._fillLinearGradient(e):i&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),n=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(t.x,t.y,r.x,r.y);if(n){for(var i=0;i<n.length;i+=2)a.addColorStop(n[i],n[i+1]);this.setAttr("strokeStyle",a)}}_stroke(e){var t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,n,a=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",i=null!==(r=e.getShadowBlur())&&void 0!==r?r:5,o=null!==(n=e.getShadowOffset())&&void 0!==n?n:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=s.x*l,u=s.y*l;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",i*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*c),this.setAttr("shadowOffsetY",o.y*u)}};t.HitContext=class extends o{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const a=e.getStrokeScaleEnabled();if(!a){this.save();var t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),n="auto"===r?e.strokeWidth():r;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),a||this.restore()}}}},3535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transformer=void 0;const n=r(7149),a=r(1751),i=r(1189),o=r(3304),s=r(1300),l=r(6338),c=r(4602),u=r(9910),d=r(4602);var h="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map((e=>e+`.${h}`)).join(" "),p="nodesRect",g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const v="ontouchstart"in c.Konva._global;var b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function x(e,t,r){const n=r.x+(e.x-r.x)*Math.cos(t)-(e.y-r.y)*Math.sin(t),a=r.y+(e.x-r.x)*Math.sin(t)+(e.y-r.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:n,y:a}}function y(e,t){const r=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return x(e,t,r)}let w=0;class S extends l.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return n.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return h+this._id}setNodes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes&&this._nodes.length&&this.detach();const t=e.filter((e=>!e.isAncestorOf(this)||(n.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));return this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((e=>{const t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},r=e._attrsAffectingSize.map((e=>e+"Change."+this._getEventNamespace())).join(" ");e.on(r,t),e.on(g.map((e=>e+`.${this._getEventNamespace()}`)).join(" "),t),e.on(`absoluteTransformChange.${this._getEventNamespace()}`,t),this._proxyDrag(e)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,(r=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(r,!1)})),e.on(`dragmove.${this._getEventNamespace()}`,(r=>{if(!t)return;const n=e.getAbsolutePosition(),a=n.x-t.x,i=n.y-t.y;this.nodes().forEach((t=>{if(t===e)return;if(t.isDragging())return;const n=t.getAbsolutePosition();t.setAbsolutePosition({x:n.x+a,y:n.y+i}),t.startDrag(r)})),t=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((e=>{e.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p,this.__getNodeRect)}__getNodeShape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation(),r=arguments.length>2?arguments[2]:void 0;var n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(r),i=e.getAbsolutePosition(r),o=n.x*a.x-e.offsetX()*a.x,s=n.y*a.y-e.offsetY()*a.y;const l=(c.Konva.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return x({x:i.x+o*Math.cos(l)+s*Math.sin(-l),y:i.y+s*Math.cos(l)+o*Math.sin(l),width:n.width*a.x,height:n.height*a.y,rotation:l},-c.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map((t=>{const r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var n=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],a=t.getAbsoluteTransform();n.forEach((function(t){var r=a.point(t);e.push(r)}))}));const t=new n.Transform;t.rotate(-c.Konva.getAngle(this.rotation()));var r=1/0,a=1/0,i=-1/0,o=-1/0;e.forEach((function(e){var n=t.point(e);void 0===r&&(r=i=n.x,a=o=n.y),r=Math.min(r,n.x),a=Math.min(a,n.y),i=Math.max(i,n.x),o=Math.max(o,n.y)})),t.invert();const s=t.point({x:r,y:a});return{x:s.x,y:s.y,width:i-r,height:o-a,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach((e=>{this._createAnchor(e)})),this._createAnchor("rotater")}_createAnchor(e){var t=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v?10:"auto"}),r=this;t.on("mousedown touchstart",(function(e){r._handleMouseDown(e)})),t.on("dragstart",(e=>{t.stopDrag(),e.cancelBubble=!0})),t.on("dragend",(e=>{e.cancelBubble=!0})),t.on("mouseenter",(()=>{var r=c.Konva.getAngle(this.rotation()),a=this.rotateAnchorCursor(),i=function(e,t,r){if("rotater"===e)return r;t+=n.Util.degToRad(m[e]||0);var a=(n.Util.radToDeg(t)%360+360)%360;return n.Util._inRange(a,337.5,360)||n.Util._inRange(a,0,22.5)?"ns-resize":n.Util._inRange(a,22.5,67.5)?"nesw-resize":n.Util._inRange(a,67.5,112.5)?"ew-resize":n.Util._inRange(a,112.5,157.5)?"nwse-resize":n.Util._inRange(a,157.5,202.5)?"ns-resize":n.Util._inRange(a,202.5,247.5)?"nesw-resize":n.Util._inRange(a,247.5,292.5)?"ew-resize":n.Util._inRange(a,292.5,337.5)?"nwse-resize":(n.Util.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}(e,r,a);t.getStage().content&&(t.getStage().content.style.cursor=i),this._cursorChange=!0})),t.on("mouseout",(()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(t)}_createBack(){var e=new o.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(e,t){var r=t.getParent(),a=r.padding();e.beginPath(),e.rect(-a,-a,t.width()+2*a,t.height()+2*a),e.moveTo(t.width()/2,-a),r.rotateEnabled()&&r.rotateLineVisible()&&e.lineTo(t.width()/2,-r.rotateAnchorOffset()*n.Util._sign(t.height())-a),e.fillStrokeShape(t)},hitFunc:(e,t)=>{if(this.shouldOverdrawWholeArea()){var r=this.padding();e.beginPath(),e.rect(-r,-r,t.width()+2*r,t.height()+2*r),e.fillStrokeShape(t)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(e=>{e.cancelBubble=!0})),e.on("dragmove",(e=>{e.cancelBubble=!0})),e.on("dragend",(e=>{e.cancelBubble=!0})),this.on("dragmove",(e=>{this.update()}))}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),r=t.width,n=t.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));this.sin=Math.abs(n/a),this.cos=Math.abs(r/a),"undefined"!==typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var i=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-i.x,y:o.y-i.y},w++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach((t=>{t._fire("transformstart",{evt:e.evt,target:t})}))}_handleMouseMove(e){var t,r,n,a=this.findOne("."+this._movingAnchorName),i=a.getStage();i.setPointersPositions(e);const o=i.getPointerPosition();let s={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const l=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(s=this.anchorDragBoundFunc()(l,s,e)),a.setAbsolutePosition(s);const u=a.getAbsolutePosition();if(l.x!==u.x||l.y!==u.y)if("rotater"!==this._movingAnchorName){var d,h=this.shiftBehavior();d="inverted"===h?this.keepRatio()&&!e.shiftKey:"none"===h?this.keepRatio():this.keepRatio()||e.shiftKey;var f=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(d){var p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};n=Math.sqrt(Math.pow(p.x-a.x(),2)+Math.pow(p.y-a.y(),2));var g=this.findOne(".top-left").x()>p.x?-1:1,m=this.findOne(".top-left").y()>p.y?-1:1;t=n*this.cos*g,r=n*this.sin*m,this.findOne(".top-left").x(p.x-t),this.findOne(".top-left").y(p.y-r)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(a.y());else if("top-right"===this._movingAnchorName){if(d){p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};n=Math.sqrt(Math.pow(a.x()-p.x,2)+Math.pow(p.y-a.y(),2));g=this.findOne(".top-right").x()<p.x?-1:1,m=this.findOne(".top-right").y()>p.y?-1:1;t=n*this.cos*g,r=n*this.sin*m,this.findOne(".top-right").x(p.x+t),this.findOne(".top-right").y(p.y-r)}var v=a.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(a.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(a.x());else if("bottom-left"===this._movingAnchorName){if(d){p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};n=Math.sqrt(Math.pow(p.x-a.x(),2)+Math.pow(a.y()-p.y,2));g=p.x<a.x()?-1:1,m=a.y()<p.y?-1:1;t=n*this.cos*g,r=n*this.sin*m,a.x(p.x-t),a.y(p.y+r)}v=a.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(a.y());else if("bottom-right"===this._movingAnchorName){if(d){p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};n=Math.sqrt(Math.pow(a.x()-p.x,2)+Math.pow(a.y()-p.y,2));g=this.findOne(".bottom-right").x()<p.x?-1:1,m=this.findOne(".bottom-right").y()<p.y?-1:1;t=n*this.cos*g,r=n*this.sin*m,this.findOne(".bottom-right").x(p.x+t),this.findOne(".bottom-right").y(p.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey){var b=this.findOne(".top-left"),x=this.findOne(".bottom-right"),w=b.x(),S=b.y(),C=this.getWidth()-x.x(),T=this.getHeight()-x.y();x.move({x:-w,y:-S}),b.move({x:C,y:T})}var k=this.findOne(".top-left").getAbsolutePosition();t=k.x,r=k.y;var E=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),_=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:E,height:_,rotation:c.Konva.getAngle(this.rotation())},e)}else{var A=this._getNodeRect();t=a.x()-A.width/2,r=-a.y()+A.height/2;let n=Math.atan2(-r,t)+Math.PI/2;A.height<0&&(n-=Math.PI);const i=c.Konva.getAngle(this.rotation())+n,o=c.Konva.getAngle(this.rotationSnapTolerance()),s=y(A,function(e,t,r){let n=t;for(let a=0;a<e.length;a++){const i=c.Konva.getAngle(e[a]),o=Math.abs(i-t)%(2*Math.PI);Math.min(o,2*Math.PI-o)<r&&(n=i)}return n}(this.rotationSnaps(),i,o)-A.rotation);this._fitNodesInto(s,e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,"undefined"!==typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();w--,this._fire("transformend",{evt:e,target:r}),null===(t=this.getLayer())||void 0===t||t.batchDraw(),r&&this._nodes.forEach((t=>{var r;t._fire("transformend",{evt:e,target:t}),null===(r=t.getLayer())||void 0===r||r.batchDraw()})),this._movingAnchorName=null}}_fitNodesInto(e,t){var r=this._getNodeRect();if(n.Util._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(n.Util._inRange(e.height,2*-this.padding()-1,1))return void this.update();var a=new n.Transform;if(a.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=a.point({x:2*-this.padding(),y:0});e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=a.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=a.point({x:0,y:2*-this.padding()});e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=a.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(r,e);t?e=t:n.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const i=1e7,o=new n.Transform;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/i,r.height/i);const s=new n.Transform,l=e.width/i,u=e.height/i;!1===this.flipEnabled()?(s.translate(e.x,e.y),s.rotate(e.rotation),s.translate(e.width<0?e.width:0,e.height<0?e.height:0),s.scale(Math.abs(l),Math.abs(u))):(s.translate(e.x,e.y),s.rotate(e.rotation),s.scale(l,u));const d=s.multiply(o.invert());this._nodes.forEach((e=>{var t;const r=e.getParent().getAbsoluteTransform(),a=e.getTransform().copy();a.translate(e.offsetX(),e.offsetY());const i=new n.Transform;i.multiply(r.copy().invert()).multiply(d).multiply(r).multiply(a);const o=i.decompose();e.setAttrs(o),null===(t=e.getLayer())||void 0===t||t.batchDraw()})),this.rotation(n.Util._getRotation(e.rotation)),this._nodes.forEach((e=>{this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e})})),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(n.Util._getRotation(t.rotation));var r=t.width,a=t.height,i=this.enabledAnchors(),o=this.resizeEnabled(),s=this.padding(),l=this.anchorSize();const c=this.find("._anchor");c.forEach((e=>{e.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:o&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+s,visible:o&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:o&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:a/2,offsetX:l/2+s,visible:o&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:a/2,offsetX:l/2-s,visible:o&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:a,offsetX:l/2+s,offsetY:l/2-s,visible:o&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:a,offsetY:l/2-s,visible:o&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:a,offsetX:l/2-s,offsetY:l/2-s,visible:o&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*n.Util._sign(a)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const u=this.anchorStyleFunc();u&&c.forEach((e=>{u(e)})),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),l.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(e){return i.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}t.Transformer=S,S.isTransforming=()=>w>0,S.prototype.className="Transformer",(0,d._registerNode)(S),a.Factory.addGetterSetter(S,"enabledAnchors",b,(function(e){return e instanceof Array||n.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===b.indexOf(e)&&n.Util.warn("Unknown anchor name: "+e+". Available names are: "+b.join(", "))})),e||[]})),a.Factory.addGetterSetter(S,"flipEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(S,"resizeEnabled",!0),a.Factory.addGetterSetter(S,"anchorSize",10,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(S,"rotateEnabled",!0),a.Factory.addGetterSetter(S,"rotateLineVisible",!0),a.Factory.addGetterSetter(S,"rotationSnaps",[]),a.Factory.addGetterSetter(S,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(S,"rotateAnchorCursor","crosshair"),a.Factory.addGetterSetter(S,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(S,"borderEnabled",!0),a.Factory.addGetterSetter(S,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(S,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(S,"anchorFill","white"),a.Factory.addGetterSetter(S,"anchorCornerRadius",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(S,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(S,"borderStrokeWidth",1,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(S,"borderDash"),a.Factory.addGetterSetter(S,"keepRatio",!0),a.Factory.addGetterSetter(S,"shiftBehavior","default"),a.Factory.addGetterSetter(S,"centeredScaling",!1),a.Factory.addGetterSetter(S,"ignoreStroke",!1),a.Factory.addGetterSetter(S,"padding",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(S,"node"),a.Factory.addGetterSetter(S,"nodes"),a.Factory.addGetterSetter(S,"boundBoxFunc"),a.Factory.addGetterSetter(S,"anchorDragBoundFunc"),a.Factory.addGetterSetter(S,"anchorStyleFunc"),a.Factory.addGetterSetter(S,"shouldOverdrawWholeArea",!1),a.Factory.addGetterSetter(S,"useSingleNodeRotation",!0),a.Factory.backCompat(S,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},3602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emboss=void 0;const n=r(1751),a=r(1189),i=r(7149),o=r(9910);t.Emboss=function(e){var t=10*this.embossStrength(),r=255*this.embossWhiteLevel(),n=this.embossDirection(),a=this.embossBlend(),o=0,s=0,l=e.data,c=e.width,u=e.height,d=4*c,h=u;switch(n){case"top-left":o=-1,s=-1;break;case"top":o=-1,s=0;break;case"top-right":o=-1,s=1;break;case"right":o=0,s=1;break;case"bottom-right":o=1,s=1;break;case"bottom":o=1,s=0;break;case"bottom-left":o=1,s=-1;break;case"left":o=0,s=-1;break;default:i.Util.error("Unknown emboss direction: "+n)}do{var f=(h-1)*d,p=o;h+p<1&&(p=0),h+p>u&&(p=0);var g=(h-1+p)*c*4,m=c;do{var v=f+4*(m-1),b=s;m+b<1&&(b=0),m+b>c&&(b=0);var x=g+4*(m-1+b),y=l[v]-l[x],w=l[v+1]-l[x+1],S=l[v+2]-l[x+2],C=y,T=C>0?C:-C;if((w>0?w:-w)>T&&(C=w),(S>0?S:-S)>T&&(C=S),C*=t,a){var k=l[v]+C,E=l[v+1]+C,_=l[v+2]+C;l[v]=k>255?255:k<0?0:k,l[v+1]=E>255?255:E<0?0:E,l[v+2]=_>255?255:_<0?0:_}else{var A=r-C;A<0?A=0:A>255&&(A=255),l[v]=l[v+1]=l[v+2]=A}}while(--m)}while(--h)},n.Factory.addGetterSetter(a.Node,"embossStrength",.5,(0,o.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"embossWhiteLevel",.5,(0,o.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"embossDirection","top-left",null,n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"embossBlend",!1,null,n.Factory.afterSetFilter)},3672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Solarize=void 0;t.Solarize=function(e){var t=e.data,r=e.width,n=4*r,a=e.height;do{var i=(a-1)*n,o=r;do{var s=i+4*(o-1),l=t[s],c=t[s+1],u=t[s+2];l>127&&(l=255-l),c>127&&(c=255-c),u>127&&(u=255-u),t[s]=l,t[s+1]=c,t[s+2]=u}while(--o)}while(--a)}},3699:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBA=void 0;const n=r(1751),a=r(1189),i=r(9910);t.RGBA=function(e){var t,r,n=e.data,a=n.length,i=this.red(),o=this.green(),s=this.blue(),l=this.alpha();for(t=0;t<a;t+=4)r=1-l,n[t]=i*l+n[t]*r,n[t+1]=o*l+n[t+1]*r,n[t+2]=s*l+n[t+2]*r},n.Factory.addGetterSetter(a.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),n.Factory.addGetterSetter(a.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),n.Factory.addGetterSetter(a.Node,"blue",0,i.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}))},3810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Star=void 0;const n=r(1751),a=r(3304),i=r(9910),o=r(4602);class s extends a.Shape{_sceneFunc(e){var t=this.innerRadius(),r=this.outerRadius(),n=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var a=1;a<2*n;a++){var i=a%2===0?r:t,o=i*Math.sin(a*Math.PI/n),s=-1*i*Math.cos(a*Math.PI/n);e.lineTo(o,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,o._registerNode)(s),n.Factory.addGetterSetter(s,"numPoints",5,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)())},3971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sprite=void 0;const n=r(1751),a=r(3304),i=r(3243),o=r(9910),s=r(4602);class l extends a.Shape{constructor(e){super(e),this._updated=!0,this.anim=new i.Animation((()=>{var e=this._updated;return this._updated=!1,e})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(e){var t=this.animation(),r=this.frameIndex(),n=4*r,a=this.animations()[t],i=this.frameOffsets(),o=a[n+0],s=a[n+1],l=a[n+2],c=a[n+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,c),e.closePath(),e.fillStrokeShape(this)),u)if(i){var d=i[t],h=2*r;e.drawImage(u,o,s,l,c,d[h+0],d[h+1],l,c)}else e.drawImage(u,o,s,l,c,0,0,l,c)}_hitFunc(e){var t=this.animation(),r=this.frameIndex(),n=4*r,a=this.animations()[t],i=this.frameOffsets(),o=a[n+2],s=a[n+3];if(e.beginPath(),i){var l=i[t],c=2*r;e.rect(l[c+0],l[c+1],o,s)}else e.rect(0,0,o,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}t.Sprite=l,l.prototype.className="Sprite",(0,s._registerNode)(l),n.Factory.addGetterSetter(l,"animation"),n.Factory.addGetterSetter(l,"animations"),n.Factory.addGetterSetter(l,"frameOffsets"),n.Factory.addGetterSetter(l,"image"),n.Factory.addGetterSetter(l,"frameIndex",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(l,"frameRate",17,(0,o.getNumberValidator)()),n.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},3994:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FastLayer=void 0;const n=r(7149),a=r(1416),i=r(4602);class o extends a.Layer{constructor(e){super(e),this.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}t.FastLayer=o,o.prototype.nodeType="FastLayer",(0,i._registerNode)(o)},4082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSL=void 0;const n=r(1751),a=r(1189),i=r(9910);n.Factory.addGetterSetter(a.Node,"hue",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"saturation",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"luminance",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter);t.HSL=function(e){var t,r,n,a,i,o=e.data,s=o.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=127*this.luminance(),d=1*l*Math.cos(c*Math.PI/180),h=1*l*Math.sin(c*Math.PI/180),f=.299+.701*d+.167*h,p=.587-.587*d+.33*h,g=.114-.114*d-.497*h,m=.299-.299*d-.328*h,v=.587+.413*d+.035*h,b=.114-.114*d+.293*h,x=.299-.3*d+1.25*h,y=.587-.586*d-1.05*h,w=.114+.886*d-.2*h;for(t=0;t<s;t+=4)r=o[t+0],n=o[t+1],a=o[t+2],i=o[t+3],o[t+0]=f*r+p*n+g*a+u,o[t+1]=m*r+v*n+b*a+u,o[t+2]=x*r+y*n+w*a+u,o[t+3]=i}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function b(){}function x(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var y=x.prototype=new b;y.constructor=x,g(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!T.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:s,props:i,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function F(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===i?"."+A(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),F(o,t,a,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+A(s=e[c],c);l+=F(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=F(s=s.value,t,a,u=i+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var n=[],a=0;return F(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},N={transition:null},I={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:N,ReactCurrentOwner:C};t.Children={map:P,forEach:function(e,t,r){P(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,r){return j.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,r){return j.current.useReducer(e,t,r)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return j.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return j.current.useTransition()},t.version="18.2.0"},4358:(e,t)=>{"use strict";const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const n=r(7149),a=r(1751),i=r(4598),o=r(4602),s=r(589),l=r(8727),c=r(4602),u=r(9485);var d="mouseleave",h="mouseover",f="mouseenter",p="mousemove",g="mousedown",m="mouseup",v="pointermove",b="pointerdown",x="pointerup",y="pointercancel",w="pointerout",S="pointerleave",C="pointerover",T="pointerenter",k="contextmenu",E="touchstart",_="touchend",A="touchmove",F="touchcancel",P="wheel",R=[[f,"_pointerenter"],[g,"_pointerdown"],[p,"_pointermove"],[m,"_pointerup"],[d,"_pointerleave"],[E,"_pointerdown"],[A,"_pointermove"],[_,"_pointerup"],[F,"_pointercancel"],[h,"_pointerover"],[P,"_wheel"],[k,"_contextmenu"],[b,"_pointerdown"],[v,"_pointermove"],[x,"_pointerup"],[y,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const j={mouse:{[w]:"mouseout",[S]:d,[C]:h,[T]:f,[v]:p,[b]:g,[x]:m,[y]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[S]:"touchleave",[C]:"touchover",[T]:"touchenter",[v]:A,[b]:E,[x]:_,[y]:F,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[S]:S,[C]:C,[T]:T,[v]:v,[b]:b,[x]:x,[y]:y,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},N=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",I=e=>{const t=N(e);return"pointer"===t?o.Konva.pointerEventsEnabled&&j.pointer:"touch"===t?j.touch:"mouse"===t?j.mouse:void 0};function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.clipFunc||e.clipWidth||e.clipHeight)&&n.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}t.stages=[];class D extends i.Container{constructor(e){super(O(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{O(this.attrs)})),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),r="FastLayer"===e.getType();t||r||n.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"===typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var r;r="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(r)}if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e,t=this.children,r=t.length;for(e=0;e<r;e++)t[e].clear();return this}clone(e){return e||(e={}),e.container="undefined"!==typeof document&&document.createElement("div"),i.Container.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&n.Util._isInDocument(e)&&this.container().removeChild(e);var r=t.stages.indexOf(this);return r>-1&&t.stages.splice(r,1),n.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(n.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find((t=>t.id===e))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new s.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,n=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),n.forEach((function(t){if(t.isVisible()){var n=t._toKonvaCanvas(e);r.drawImage(n._canvas,e.x,e.y,n.getWidth()/n.getPixelRatio(),n.getHeight()/n.getPixelRatio())}})),t}getIntersection(e){if(!e)return null;var t,r=this.children;for(t=r.length-1;t>=0;t--){const n=r[t].getIntersection(e);if(n)return n}return null}_resizeDOM(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((r=>{r.setSize({width:e,height:t}),r.draw()}))}add(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);var s=this.children.length;return s>5&&n.Util.warn("The stage has "+s+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),o.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return u.hasPointerCapture(e,this)}setPointerCapture(e){u.setPointerCapture(e,this)}releaseCapture(e){u.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){o.Konva.isBrowser&&R.forEach((e=>{let[t,r]=e;this.content.addEventListener(t,(e=>{this[r](e)}),{passive:!1})}))}_pointerenter(e){this.setPointersPositions(e);const t=I(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=I(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=I(e.type),r=N(e.type);if(t){this.setPointersPositions(e);var n=this._getTargetShape(r),a=!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled;n&&a?(n._fireAndBubble(t.pointerout,{evt:e}),n._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):a&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(e){const t=I(e.type),r=N(e.type);if(t){this.setPointersPositions(e);var n=!1;this._changedPointerPositions.forEach((a=>{var i=this.getIntersection(a);if(l.DD.justDragged=!1,o.Konva["_"+r+"ListenClick"]=!0,!i||!i.isListening())return;o.Konva.capturePointerEventsEnabled&&i.setPointerCapture(a.id),this[r+"ClickStartShape"]=i,i._fireAndBubble(t.pointerdown,{evt:e,pointerId:a.id}),n=!0;const s=e.type.indexOf("touch")>=0;i.preventDefault()&&e.cancelable&&s&&e.preventDefault()})),n||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const t=I(e.type),r=N(e.type);if(!t)return;if(o.Konva.isDragging()&&l.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled))return;var n={};let a=!1;var i=this._getTargetShape(r);this._changedPointerPositions.forEach((o=>{const s=u.getCapturedShape(o.id)||this.getIntersection(o),l=o.id,c={evt:e,pointerId:l};var d=i!==s;if(d&&i&&(i._fireAndBubble(t.pointerout,{...c},s),i._fireAndBubble(t.pointerleave,{...c},s)),s){if(n[s._id])return;n[s._id]=!0}s&&s.isListening()?(a=!0,d&&(s._fireAndBubble(t.pointerover,{...c},i),s._fireAndBubble(t.pointerenter,{...c},i),this[r+"targetShape"]=s),s._fireAndBubble(t.pointermove,{...c})):i&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[r+"targetShape"]=null)})),a||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=I(e.type),r=N(e.type);if(!t)return;this.setPointersPositions(e);const n=this[r+"ClickStartShape"],a=this[r+"ClickEndShape"];var i={};let s=!1;this._changedPointerPositions.forEach((c=>{const d=u.getCapturedShape(c.id)||this.getIntersection(c);if(d){if(d.releaseCapture(c.id),i[d._id])return;i[d._id]=!0}const h=c.id,f={evt:e,pointerId:h};let p=!1;o.Konva["_"+r+"InDblClickWindow"]?(p=!0,clearTimeout(this[r+"DblTimeout"])):l.DD.justDragged||(o.Konva["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout((function(){o.Konva["_"+r+"InDblClickWindow"]=!1}),o.Konva.dblClickWindow),d&&d.isListening()?(s=!0,this[r+"ClickEndShape"]=d,d._fireAndBubble(t.pointerup,{...f}),o.Konva["_"+r+"ListenClick"]&&n&&n===d&&(d._fireAndBubble(t.pointerclick,{...f}),p&&a&&a===d&&d._fireAndBubble(t.pointerdblclick,{...f}))):(this[r+"ClickEndShape"]=null,o.Konva["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:h}),p&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:h}))})),s||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o.Konva["_"+r+"ListenClick"]=!1,e.cancelable&&"touch"!==r&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(k,{evt:e}):this._fire(k,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(P,{evt:e}):this._fire(P,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=u.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(x,u.createEvent(e)),u.releaseCapture(e.pointerId)}_lostpointercapture(e){u.releaseCapture(e.pointerId)}setPointersPositions(e){var t=this._getContentPosition(),r=null,a=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}))):(r=(e.clientX-t.left)/t.scaleX,a=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:a},this._pointerPositions=[{x:r,y:a,id:n.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:a,id:n.Util._getFirstPointerId(e)}])}_setPointerPosition(e){n.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),o.Konva.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return n.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}t.Stage=D,D.prototype.nodeType="Stage",(0,c._registerNode)(D),a.Factory.addGetterSetter(D,"container")},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;const n=r(1751),a=r(1189),i=r(9910);class o extends a.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var r=[];return t.forEach((function(t){e(t)&&r.push(t)})),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}add(){if(0===arguments.length)return this;if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(e<0||arguments.length<=e?void 0:arguments[e]);return this}const t=arguments.length<=0?void 0:arguments[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var r=[];return this._descendants((n=>{const a=n._isMatch(e);return a&&r.push(n),!(!a||!t)})),r}_descendants(e){let t=!1;const r=this.getChildren();for(const n of r){if(t=e(n),t)return!0;if(n.hasChildren()&&(t=n._descendants(e),t))return!0}return!1}toObject(){var e=a.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((t=>{e.children.push(t.toObject())})),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=a.Node.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach((r=>{r.isVisible()&&r.intersects(e)&&t.push(r)})),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}drawScene(e,t,r){var n=this.getLayer(),a=e||n&&n.getCanvas(),i=a&&a.getContext(),o=this._getCanvasCache(),s=o&&o.scene,l=a&&a.isCache;if(!this.isVisible()&&!l)return this;if(s){i.save();var c=this.getAbsoluteTransform(t).getMatrix();i.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",a,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var r=this.getLayer(),n=e||r&&r.hitCanvas,a=n&&n.getContext(),i=this._getCanvasCache();if(i&&i.hit){a.save();var o=this.getAbsoluteTransform(t).getMatrix();a.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",n,t);return this}_drawChildren(e,t,r,n){var a,i=t&&t.getContext(),o=this.clipWidth(),s=this.clipHeight(),l=this.clipFunc(),c="number"===typeof o&&"number"===typeof s||l;const u=r===this;if(c){i.save();var d=this.getAbsoluteTransform(r),h=d.getMatrix();let e;if(i.transform(h[0],h[1],h[2],h[3],h[4],h[5]),i.beginPath(),l)e=l.call(this,i,this);else{var f=this.clipX(),p=this.clipY();i.rect(f||0,p||0,o,s)}i.clip.apply(i,e),h=d.copy().invert().getMatrix(),i.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var g=!u&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;g&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(a=this.children)||void 0===a||a.forEach((function(a){a[e](t,r,n)})),g&&i.restore(),c&&i.restore()}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,r,n,a,i,o=e.skipTransform,s=e.relativeTo,l={x:1/0,y:1/0,width:0,height:0},c=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(t.visible()){var o=t.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===o.width&&0===o.height||(void 0===r?(r=o.x,n=o.y,a=o.x+o.width,i=o.y+o.height):(r=Math.min(r,o.x),n=Math.min(n,o.y),a=Math.max(a,o.x+o.width),i=Math.max(i,o.y+o.height)))}}));for(var u=this.find("Shape"),d=!1,h=0;h<u.length;h++){if(u[h]._isVisible(this)){d=!0;break}}return l=d&&void 0!==r?{x:r,y:n,width:a-r,height:i-n}:{x:0,y:0,width:0,height:0},o?l:this._transformedRect(l,s)}}t.Container=o,n.Factory.addComponentsGetterSetter(o,"clip",["x","y","width","height"]),n.Factory.addGetterSetter(o,"clipX",void 0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clipY",void 0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clipWidth",void 0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clipHeight",void 0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clipFunc")},4602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const n=Math.PI/180;t.glob="undefined"!==typeof r.g?r.g:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},t.Konva={_global:t.glob,version:"9.3.6",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>t.Konva.angleDeg?e*n:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>t.Konva.DD.isDragging,isTransforming(){var e;return null===(e=t.Konva.Transformer)||void 0===e?void 0:e.isTransforming()},isDragReady:()=>!!t.Konva.DD.node,releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(e){t.glob.Konva=e}};t._registerNode=e=>{t.Konva[e.prototype.getClassName()]=e},t.Konva._injectGlobal(t.Konva)},4861:(e,t)=>{"use strict";t.DefaultEventPriority=16,t.LegacyRoot=0},4940:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wedge=void 0;const n=r(1751),a=r(3304),i=r(4602),o=r(9910),s=r(4602);class l extends a.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(l),n.Factory.addGetterSetter(l,"radius",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(l,"angle",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(l,"clockwise",!1),n.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mask=void 0;const n=r(1751),a=r(1189),i=r(9910);function o(e,t,r){var n=4*(r*e.width+t),a=[];return a.push(e.data[n++],e.data[n++],e.data[n++],e.data[n++]),a}function s(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}t.Mask=function(e){var t=function(e,t){var r=o(e,0,0),n=o(e,e.width-1,0),a=o(e,0,e.height-1),i=o(e,e.width-1,e.height-1),l=t||10;if(s(r,n)<l&&s(n,i)<l&&s(i,a)<l&&s(a,r)<l){for(var c=function(e){for(var t=[0,0,0],r=0;r<e.length;r++)t[0]+=e[r][0],t[1]+=e[r][1],t[2]+=e[r][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([n,r,i,a]),u=[],d=0;d<e.width*e.height;d++){var h=s(c,[e.data[4*d],e.data[4*d+1],e.data[4*d+2]]);u[d]=h<l?0:255}return u}}(e,this.threshold());return t&&function(e,t){for(var r=0;r<e.width*e.height;r++)e.data[4*r+3]=t[r]}(e,t=function(e,t,r){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],a=Math.round(Math.sqrt(n.length)),i=Math.floor(a/2),o=[],s=0;s<r;s++)for(var l=0;l<t;l++){for(var c=s*t+l,u=0,d=0;d<a;d++)for(var h=0;h<a;h++){var f=s+d-i,p=l+h-i;if(f>=0&&f<r&&p>=0&&p<t){var g=n[d*a+h];u+=e[f*t+p]*g}}o[c]=u}return o}(t=function(e,t,r){for(var n=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(n.length)),i=Math.floor(a/2),o=[],s=0;s<r;s++)for(var l=0;l<t;l++){for(var c=s*t+l,u=0,d=0;d<a;d++)for(var h=0;h<a;h++){var f=s+d-i,p=l+h-i;if(f>=0&&f<r&&p>=0&&p<t){var g=n[d*a+h];u+=e[f*t+p]*g}}o[c]=u>=1020?255:0}return o}(t=function(e,t,r){for(var n=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(n.length)),i=Math.floor(a/2),o=[],s=0;s<r;s++)for(var l=0;l<t;l++){for(var c=s*t+l,u=0,d=0;d<a;d++)for(var h=0;h<a;h++){var f=s+d-i,p=l+h-i;if(f>=0&&f<r&&p>=0&&p<t){var g=n[d*a+h];u+=e[f*t+p]*g}}o[c]=2040===u?255:0}return o}(t,e.width,e.height),e.width,e.height),e.width,e.height)),e},n.Factory.addGetterSetter(a.Node,"threshold",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},5191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const n=r(8065),a=r(9144),i=r(1801),o=r(1618),s=r(9554),l=r(2941),c=r(6494),u=r(5804),d=r(7289),h=r(1300),f=r(7980),p=r(1008),g=r(3971),m=r(3810),v=r(3169),b=r(1222),x=r(3535),y=r(4940),w=r(2672),S=r(8098),C=r(5783),T=r(3602),k=r(2715),E=r(2078),_=r(4082),A=r(2544),F=r(7205),P=r(8332),R=r(5053),j=r(9195),N=r(1485),I=r(7264),O=r(1518),D=r(3699),L=r(8019),M=r(3672),z=r(1126);t.Konva=n.Konva.Util._assign(n.Konva,{Arc:a.Arc,Arrow:i.Arrow,Circle:o.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:d.Path,Rect:h.Rect,RegularPolygon:f.RegularPolygon,Ring:p.Ring,Sprite:g.Sprite,Star:m.Star,Text:v.Text,TextPath:b.TextPath,Transformer:x.Transformer,Wedge:y.Wedge,Filters:{Blur:w.Blur,Brighten:S.Brighten,Contrast:C.Contrast,Emboss:T.Emboss,Enhance:k.Enhance,Grayscale:E.Grayscale,HSL:_.HSL,HSV:A.HSV,Invert:F.Invert,Kaleidoscope:P.Kaleidoscope,Mask:R.Mask,Noise:j.Noise,Pixelate:N.Pixelate,Posterize:I.Posterize,RGB:O.RGB,RGBA:D.RGBA,Sepia:L.Sepia,Solarize:M.Solarize,Threshold:z.Threshold}})},5242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const n=r(7149),a=r(3243),i=r(1189),o=r(4602);var s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,c=["fill","stroke","shadowColor"];class u{constructor(e,t,r,n,a,i,o){this.prop=e,this.propFunc=t,this.begin=n,this._pos=n,this.duration=i,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=a-this.begin,this.pause()}fire(e){var t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class d{constructor(e){var r,i,c=this,h=e.node,f=h._id,p=e.easing||t.Easings.Linear,g=!!e.yoyo;r="undefined"===typeof e.duration?.3:0===e.duration?.001:e.duration,this.node=h,this._id=l++;var m=h.getLayer()||(h instanceof o.Konva.Stage?h.getLayers():null);for(i in m||n.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new a.Animation((function(){c.tween.onEnterFrame()}),m),this.tween=new u(i,(function(e){c._tweenFunc(e)}),p,0,1,1e3*r,g),this._addListeners(),d.attrs[f]||(d.attrs[f]={}),d.attrs[f][this._id]||(d.attrs[f][this._id]={}),d.tweens[f]||(d.tweens[f]={}),e)void 0===s[i]&&this._addAttr(i,e[i]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){var r,a,i,o,s,l,u,h,f=this.node,p=f._id;if((i=d.tweens[p][e])&&delete d.attrs[p][i][e],r=f.getAttr(e),n.Util._isArray(t))if(a=[],s=Math.max(t.length,r.length),"points"===e&&t.length!==r.length&&(t.length>r.length?(u=r,r=n.Util._prepareArrayForTween(r,t,f.closed())):(l=t,t=n.Util._prepareArrayForTween(t,r,f.closed()))),0===e.indexOf("fill"))for(o=0;o<s;o++)if(o%2===0)a.push(t[o]-r[o]);else{var g=n.Util.colorToRGBA(r[o]);h=n.Util.colorToRGBA(t[o]),r[o]=g,a.push({r:h.r-g.r,g:h.g-g.g,b:h.b-g.b,a:h.a-g.a})}else for(o=0;o<s;o++)a.push(t[o]-r[o]);else-1!==c.indexOf(e)?(r=n.Util.colorToRGBA(r),a={r:(h=n.Util.colorToRGBA(t)).r-r.r,g:h.g-r.g,b:h.b-r.b,a:h.a-r.a}):a=t-r;d.attrs[p][this._id][e]={start:r,diff:a,end:t,trueEnd:l,trueStart:u},d.tweens[p][e]=this._id}_tweenFunc(e){var t,r,a,i,o,s,l,u,h=this.node,f=d.attrs[h._id][this._id];for(t in f){if(a=(r=f[t]).start,i=r.diff,u=r.end,n.Util._isArray(a))if(o=[],l=Math.max(a.length,u.length),0===t.indexOf("fill"))for(s=0;s<l;s++)s%2===0?o.push((a[s]||0)+i[s]*e):o.push("rgba("+Math.round(a[s].r+i[s].r*e)+","+Math.round(a[s].g+i[s].g*e)+","+Math.round(a[s].b+i[s].b*e)+","+(a[s].a+i[s].a*e)+")");else for(s=0;s<l;s++)o.push((a[s]||0)+i[s]*e);else o=-1!==c.indexOf(t)?"rgba("+Math.round(a.r+i.r*e)+","+Math.round(a.g+i.g*e)+","+Math.round(a.b+i.b*e)+","+(a.a+i.a*e)+")":a+i*e;h.setAttr(t,o)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,t=d.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,t=d.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e,t=this.node._id,r=this._id,n=d.tweens[t];for(e in this.pause(),n)delete d.tweens[t][e];delete d.attrs[t][r]}}t.Tween=d,d.attrs={},d.tweens={},i.Node.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new d(e).play()},t.Easings={BackEaseIn(e,t,r,n){var a=1.70158;return r*(e/=n)*e*((a+1)*e-a)+t},BackEaseOut(e,t,r,n){var a=1.70158;return r*((e=e/n-1)*e*((a+1)*e+a)+1)+t},BackEaseInOut(e,t,r,n){var a=1.70158;return(e/=n/2)<1?r/2*(e*e*((1+(a*=1.525))*e-a))+t:r/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+t},ElasticEaseIn(e,t,r,n,a,i){var o=0;return 0===e?t:1===(e/=n)?t+r:(i||(i=.3*n),!a||a<Math.abs(r)?(a=r,o=i/4):o=i/(2*Math.PI)*Math.asin(r/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/i)+t)},ElasticEaseOut(e,t,r,n,a,i){var o=0;return 0===e?t:1===(e/=n)?t+r:(i||(i=.3*n),!a||a<Math.abs(r)?(a=r,o=i/4):o=i/(2*Math.PI)*Math.asin(r/a),a*Math.pow(2,-10*e)*Math.sin((e*n-o)*(2*Math.PI)/i)+r+t)},ElasticEaseInOut(e,t,r,n,a,i){var o=0;return 0===e?t:2===(e/=n/2)?t+r:(i||(i=n*(.3*1.5)),!a||a<Math.abs(r)?(a=r,o=i/4):o=i/(2*Math.PI)*Math.asin(r/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/i)*-.5+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/i)*.5+r+t)},BounceEaseOut:(e,t,r,n)=>(e/=n)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,r,n,a)=>n-t.Easings.BounceEaseOut(a-e,0,n,a)+r,BounceEaseInOut:(e,r,n,a)=>e<a/2?.5*t.Easings.BounceEaseIn(2*e,0,n,a)+r:.5*t.Easings.BounceEaseOut(2*e-a,0,n,a)+.5*n+r,EaseIn:(e,t,r,n)=>r*(e/=n)*e+t,EaseOut:(e,t,r,n)=>-r*(e/=n)*(e-2)+t,EaseInOut:(e,t,r,n)=>(e/=n/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,r,n)=>r*(e/=n)*e*e*e*e+t,StrongEaseOut:(e,t,r,n)=>r*((e=e/n-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,r,n)=>(e/=n/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,r,n)=>r*e/n+t}},5783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contrast=void 0;const n=r(1751),a=r(1189),i=r(9910);t.Contrast=function(e){var t,r=Math.pow((this.contrast()+100)/100,2),n=e.data,a=n.length,i=150,o=150,s=150;for(t=0;t<a;t+=4)i=n[t],o=n[t+1],s=n[t+2],i/=255,i-=.5,i*=r,i+=.5,o/=255,o-=.5,o*=r,o+=.5,s/=255,s-=.5,s*=r,s+=.5,i=(i*=255)<0?0:i>255?255:i,o=(o*=255)<0?0:o>255?255:o,s=(s*=255)<0?0:s>255?255:s,n[t]=i,n[t+1]=o,n[t+2]=s},n.Factory.addGetterSetter(a.Node,"contrast",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},5804:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Line=void 0;const n=r(1751),a=r(3304),i=r(9910),o=r(4602);function s(e,t,r,n,a,i,o){var s=Math.sqrt(Math.pow(r-e,2)+Math.pow(n-t,2)),l=Math.sqrt(Math.pow(a-r,2)+Math.pow(i-n,2)),c=o*s/(s+l),u=o*l/(s+l);return[r-c*(a-e),n-c*(i-t),r+u*(a-e),n+u*(i-t)]}function l(e,t){var r,n,a=e.length,i=[];for(r=2;r<a-2;r+=2)n=s(e[r-2],e[r-1],e[r],e[r+1],e[r+2],e[r+3],t),isNaN(n[0])||(i.push(n[0]),i.push(n[1]),i.push(e[r]),i.push(e[r+1]),i.push(n[2]),i.push(n[3]));return i}class c extends a.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(e){var t,r,n,a=this.points(),i=a.length,o=this.tension(),s=this.closed(),l=this.bezier();if(i){if(e.beginPath(),e.moveTo(a[0],a[1]),0!==o&&i>4){for(r=(t=this.getTensionPoints()).length,n=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);n<r-2;)e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);s||e.quadraticCurveTo(t[r-2],t[r-1],a[i-2],a[i-1])}else if(l)for(n=2;n<i;)e.bezierCurveTo(a[n++],a[n++],a[n++],a[n++],a[n++],a[n++]);else for(n=2;n<i;n+=2)e.lineTo(a[n],a[n+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,r=this.tension(),n=s(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),a=s(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),i=l(e,r);return[n[2],n[3]].concat(i).concat([a[0],a[1],e[t-2],e[t-1],a[2],a[3],n[0],n[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var t,r,n=(e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points())[0],a=e[0],i=e[1],o=e[1],s=0;s<e.length/2;s++)t=e[2*s],r=e[2*s+1],n=Math.min(n,t),a=Math.max(a,t),i=Math.min(i,r),o=Math.max(o,r);return{x:n,y:i,width:a-n,height:o-i}}}t.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,o._registerNode)(c),n.Factory.addGetterSetter(c,"closed",!1),n.Factory.addGetterSetter(c,"bezier",!1),n.Factory.addGetterSetter(c,"tension",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(c,"points",[],(0,i.getNumberArrayValidator)())},5941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];t.getCubicArcLength=(e,n,a)=>{let i,o,s;i=a/2,o=0;for(let l=0;l<20;l++)s=i*t.tValues[20][l]+i,o+=t.cValues[20][l]*r(e,n,s);return i*o};function r(e,t,r){const a=n(1,r,e),i=n(1,r,t),o=a*a+i*i;return Math.sqrt(o)}t.getQuadraticArcLength=(e,t,r)=>{void 0===r&&(r=1);const n=e[0]-2*e[1]+e[2],a=t[0]-2*t[1]+t[2],i=2*e[1]-2*e[0],o=2*t[1]-2*t[0],s=4*(n*n+a*a),l=4*(n*i+a*o),c=i*i+o*o;if(0===s)return r*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));const u=l/(2*s),d=r+u,h=c/s-u*u,f=d*d+h>0?Math.sqrt(d*d+h):0,p=u*u+h>0?Math.sqrt(u*u+h):0,g=u+Math.sqrt(u*u+h)!==0?h*Math.log(Math.abs((d+f)/(u+p))):0;return Math.sqrt(s)/2*(d*f-u*p+g)};const n=(e,r,a)=>{const i=a.length-1;let o,s;if(0===i)return 0;if(0===e){s=0;for(let e=0;e<=i;e++)s+=t.binomialCoefficients[i][e]*Math.pow(1-r,i-e)*Math.pow(r,e)*a[e];return s}o=new Array(i);for(let t=0;t<i;t++)o[t]=i*(a[t+1]-a[t]);return n(e-1,r,o)};t.t2length=(e,t,r)=>{let n=1,a=e/t,i=(e-r(a))/t,o=0;for(;n>.001;){const s=r(a+i),l=Math.abs(e-s)/t;if(l<n)n=l,a+=i;else{const o=r(a-i),s=Math.abs(e-o)/t;s<n?(n=s,a-=i):i/=2}if(o++,o>500)break}return a}},6338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;const n=r(7149),a=r(4598),i=r(4602);class o extends a.Container{_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&n.Util.throw("You may only add groups and shapes to groups.")}}t.Group=o,o.prototype.nodeType="Group",(0,i._registerNode)(o)},6494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=t.Label=void 0;const n=r(1751),a=r(3304),i=r(6338),o=r(9910),s=r(4602);var l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="up",u="right",d="down",h="left",f=l.length;class p extends i.Group{constructor(e){super(e),this.on("add.konva",(function(e){this._addListeners(e.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t,r=this,n=function(){r._sync()};for(t=0;t<f;t++)e.on(l[t]+"Change.konva",n)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e,t,r,n,a,i,o,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),r=l.pointerDirection(),n=l.pointerWidth(),o=l.pointerHeight(),a=0,i=0,r){case c:a=e/2,i=-1*o;break;case u:a=e+n,i=t/2;break;case d:a=e/2,i=t+o;break;case h:a=-1*n,i=t/2}l.setAttrs({x:-1*a,y:-1*i,width:e,height:t}),s.setAttrs({x:-1*a,y:-1*i})}}}t.Label=p,p.prototype.className="Label",(0,s._registerNode)(p);class g extends a.Shape{_sceneFunc(e){var t=this.width(),r=this.height(),n=this.pointerDirection(),a=this.pointerWidth(),i=this.pointerHeight(),o=this.cornerRadius();let s=0,l=0,f=0,p=0;"number"===typeof o?s=l=f=p=Math.min(o,t/2,r/2):(s=Math.min(o[0]||0,t/2,r/2),l=Math.min(o[1]||0,t/2,r/2),p=Math.min(o[2]||0,t/2,r/2),f=Math.min(o[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(s,0),n===c&&(e.lineTo((t-a)/2,0),e.lineTo(t/2,-1*i),e.lineTo((t+a)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),n===u&&(e.lineTo(t,(r-i)/2),e.lineTo(t+a,r/2),e.lineTo(t,(r+i)/2)),e.lineTo(t,r-p),e.arc(t-p,r-p,p,0,Math.PI/2,!1),n===d&&(e.lineTo((t+a)/2,r),e.lineTo(t/2,r+i),e.lineTo((t-a)/2,r)),e.lineTo(f,r),e.arc(f,r-f,f,Math.PI/2,Math.PI,!1),n===h&&(e.lineTo(0,(r+i)/2),e.lineTo(-1*a,r/2),e.lineTo(0,(r-i)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,r=this.pointerWidth(),n=this.pointerHeight(),a=this.pointerDirection(),i=this.width(),o=this.height();return a===c?(t-=n,o+=n):a===d?o+=n:a===h?(e-=1.5*r,i+=r):a===u&&(i+=1.5*r),{x:e,y:t,width:i,height:o}}}t.Tag=g,g.prototype.className="Tag",(0,s._registerNode)(g),n.Factory.addGetterSetter(g,"pointerDirection","none"),n.Factory.addGetterSetter(g,"pointerWidth",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(g,"pointerHeight",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(g,"cornerRadius",0,(0,o.getNumberOrArrayOfNumbersValidator)(4))},7149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const n=r(4602);class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new a(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){var t=Math.cos(e),r=Math.sin(e),n=this.m[0]*t+this.m[2]*r,a=this.m[1]*t+this.m[3]*r,i=this.m[0]*-r+this.m[2]*t,o=this.m[1]*-r+this.m[3]*t;return this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){var r=this.m[0]+this.m[2]*t,n=this.m[1]+this.m[3]*t,a=this.m[2]+this.m[0]*e,i=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=n,this.m[2]=a,this.m[3]=i,this}multiply(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],n=this.m[0]*e.m[2]+this.m[2]*e.m[3],a=this.m[1]*e.m[2]+this.m[3]*e.m[3],i=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=n,this.m[3]=a,this.m[4]=i,this.m[5]=o,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,n=-this.m[2]*e,a=this.m[0]*e,i=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=n,this.m[3]=a,this.m[4]=i,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var e=this.m[0],r=this.m[1],n=this.m[2],a=this.m[3],i=e*a-r*n;let o={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=r){var s=Math.sqrt(e*e+r*r);o.rotation=r>0?Math.acos(e/s):-Math.acos(e/s),o.scaleX=s,o.scaleY=i/s,o.skewX=(e*n+r*a)/i,o.skewY=0}else if(0!=n||0!=a){var l=Math.sqrt(n*n+a*a);o.rotation=Math.PI/2-(a>0?Math.acos(-n/l):-Math.acos(n/l)),o.scaleX=i/l,o.scaleY=l,o.skewX=0,o.skewY=(e*n+r*a)/i}return o.rotation=t.Util._getRotation(o.rotation),o}}t.Transform=a;var i=Math.PI/180,o=180/Math.PI,s="Konva error: ",l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];const d="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)};t.Util={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!==typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){u.push(e),1===u.length&&d((function(){const e=u;u=[],e.forEach((function(e){e()}))}))},createCanvasElement(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch(t){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,r){var n=t.Util.createImageElement();n.onload=function(){r(n)},n.src=e},_rgbToHex:(e,t,r)=>((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){for(var e=(16777215*Math.random()|0).toString(16);e.length<6;)e="0"+e;return"#"+e},getRGB(e){var t;return e in l?{r:(t=l[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=c.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",t.Util._namedColorToRBA(e)||t.Util._hex3ColorToRGBA(e)||t.Util._hex4ColorToRGBA(e)||t.Util._hex6ColorToRGBA(e)||t.Util._hex8ColorToRGBA(e)||t.Util._rgbColorToRGBA(e)||t.Util._rgbaColorToRGBA(e)||t.Util._hslColorToRGBA(e)),_namedColorToRBA(e){var t=l[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...r]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),n=Number(r[0])/360,a=Number(r[1])/100,i=Number(r[2])/100;let o,s,l;if(0===a)return l=255*i,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o=i<.5?i*(1+a):i+a-i*a;const c=2*i-o,u=[0,0,0];for(let e=0;e<3;e++)s=n+1/3*-(e-1),s<0&&s++,s>1&&s--,l=6*s<1?c+6*(o-c)*s:2*s<1?o:3*s<2?c+(o-c)*(2/3-s)*6:c,u[e]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){var t={};for(var r in e)this._isPlainObject(e[r])?t[r]=this.cloneObject(e[r]):this._isArray(e[r])?t[r]=this.cloneArray(e[r]):t[r]=e[r];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*i,radToDeg:e=>e*o,_degToRad:e=>(t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(e)),_radToDeg:e=>(t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(e)),_getRotation:e=>n.Konva.angleDeg?t.Util.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(s+e)},error(e){console.error(s+e)},warn(e){n.Konva.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(var r in e)t(r,e[r])},_inRange:(e,t,r)=>t<=e&&e<r,_getProjectionToSegment(e,t,r,n,a,i){var o,s,l,c=(e-r)*(e-r)+(t-n)*(t-n);if(0==c)o=e,s=t,l=(a-r)*(a-r)+(i-n)*(i-n);else{var u=((a-e)*(r-e)+(i-t)*(n-t))/c;u<0?(o=e,s=t,l=(e-a)*(e-a)+(t-i)*(t-i)):u>1?(o=r,s=n,l=(r-a)*(r-a)+(n-i)*(n-i)):l=((o=e+u*(r-e))-a)*(o-a)+((s=t+u*(n-t))-i)*(s-i)}return[o,s,l]},_getProjectionToLine(e,r,n){var a=t.Util.cloneObject(e),i=Number.MAX_VALUE;return r.forEach((function(o,s){if(n||s!==r.length-1){var l=r[(s+1)%r.length],c=t.Util._getProjectionToSegment(o.x,o.y,l.x,l.y,e.x,e.y),u=c[0],d=c[1],h=c[2];h<i&&(a.x=u,a.y=d,i=h)}})),a},_prepareArrayForTween(e,r,n){var a,i=[],o=[];if(e.length>r.length){var s=r;r=e,e=s}for(a=0;a<e.length;a+=2)i.push({x:e[a],y:e[a+1]});for(a=0;a<r.length;a+=2)o.push({x:r[a],y:r[a+1]});var l=[];return o.forEach((function(e){var r=t.Util._getProjectionToLine(e,i,n);l.push(r.x),l.push(r.y)})),l},_prepareToStringify(e){var r;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(r=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||t.Util._isElement(e[n])){if(!r.configurable)return null;delete e[n]}else if(null===t.Util._prepareToStringify(e[n])){if(!r.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(var r in t)e[r]=t[r];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(){if(n.Konva.releaseCanvasOnDestroy){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((e=>{e.width=0,e.height=0}))}},drawRoundedRectPath(e,t,r,n){let a=0,i=0,o=0,s=0;"number"===typeof n?a=i=o=s=Math.min(n,t/2,r/2):(a=Math.min(n[0]||0,t/2,r/2),i=Math.min(n[1]||0,t/2,r/2),s=Math.min(n[2]||0,t/2,r/2),o=Math.min(n[3]||0,t/2,r/2)),e.moveTo(a,0),e.lineTo(t-i,0),e.arc(t-i,i,i,3*Math.PI/2,0,!1),e.lineTo(t,r-s),e.arc(t-s,r-s,s,0,Math.PI/2,!1),e.lineTo(o,r),e.arc(o,r-o,o,Math.PI/2,Math.PI,!1),e.lineTo(0,a),e.arc(a,a,a,Math.PI,3*Math.PI/2,!1)}}},7205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Invert=void 0;t.Invert=function(e){var t,r=e.data,n=r.length;for(t=0;t<n;t+=4)r[t]=255-r[t],r[t+1]=255-r[t+1],r[t+2]=255-r[t+2]}},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(m=!1,y(e),!g)if(null!==n(c))g=!0,N(S);else{var t=n(u);null!==t&&I(w,t.startTime-e)}}function S(e,r){g=!1,m&&(m=!1,b(E),E=-1),p=!0;var i=f;try{for(y(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!F());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?h.callback=s:h===n(c)&&a(c),y(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&I(w,d.startTime-r),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,T=!1,k=null,E=-1,_=5,A=-1;function F(){return!(t.unstable_now()-A<_)}function P(){if(null!==k){var e=t.unstable_now();A=e;var r=!0;try{r=k(!0,e)}finally{r?C():(T=!1,k=null)}}else T=!1}if("function"===typeof x)C=function(){x(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=P,C=function(){j.postMessage(null)}}else C=function(){v(P,0)};function N(e){k=e,T||(T=!0,C())}function I(e,r){E=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(m?(b(E),E=-1):m=!0,I(w,i-o))):(e.sortIndex=s,r(c,e),g||p||(g=!0,N(S))),e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},7264:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Posterize=void 0;const n=r(1751),a=r(1189),i=r(9910);t.Posterize=function(e){var t,r=Math.round(254*this.levels())+1,n=e.data,a=n.length,i=255/r;for(t=0;t<a;t+=1)n[t]=Math.floor(n[t]/i)*i},n.Factory.addGetterSetter(a.Node,"levels",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},7289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;const n=r(1751),a=r(3304),i=r(4602),o=r(5941);class s extends a.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=s.parsePathData(this.data()),this.pathLength=s.getPathLength(this.dataArray)}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var r=!1,n=0;n<t.length;n++){var a=t[n].command,i=t[n].points;switch(a){case"L":e.lineTo(i[0],i[1]);break;case"M":e.moveTo(i[0],i[1]);break;case"C":e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":e.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var o=i[0],s=i[1],l=i[2],c=i[3],u=i[4],d=i[5],h=i[6],f=i[7],p=l>c?l:c,g=l>c?1:l/c,m=l>c?c/l:1;e.translate(o,s),e.rotate(h),e.scale(g,m),e.arc(0,0,p,u,u+d,1-f),e.scale(1/g,1/m),e.rotate(-h),e.translate(-o,-s);break;case"z":r=!0,e.closePath()}}r||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach((function(t){if("A"===t.command){var r=t.points[4],n=t.points[5],a=t.points[4]+n,i=Math.PI/180;if(Math.abs(r-a)<i&&(i=Math.abs(r-a)),n<0)for(let n=r-i;n>a;n-=i){const r=s.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],n,0);e.push(r.x,r.y)}else for(let n=r+i;n<a;n+=i){const r=s.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],n,0);e.push(r.x,r.y)}}else if("C"===t.command)for(let o=0;o<=1;o+=.01){const r=s.getPointOnCubicBezier(o,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(r.x,r.y)}else e=e.concat(t.points)}));for(var t,r,n=e[0],a=e[0],i=e[1],o=e[1],l=0;l<e.length/2;l++)t=e[2*l],r=e[2*l+1],isNaN(t)||(n=Math.min(n,t),a=Math.max(a,t)),isNaN(r)||(i=Math.min(i,r),o=Math.max(o,r));return{x:n,y:i,width:a-n,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return s.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))}static getPathLength(e){let t=0;for(var r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){var r,n=0,a=t.length;if(!a)return null;for(;n<a&&e>t[n].pathLength;)e-=t[n].pathLength,++n;if(n===a)return{x:(r=t[n-1].points.slice(-2))[0],y:r[1]};if(e<.01)return{x:(r=t[n].points.slice(0,2))[0],y:r[1]};var i=t[n],l=i.points;switch(i.command){case"L":return s.getPointOnLine(e,i.start.x,i.start.y,l[0],l[1]);case"C":return s.getPointOnCubicBezier((0,o.t2length)(e,s.getPathLength(t),(e=>(0,o.getCubicArcLength)([i.start.x,l[0],l[2],l[4]],[i.start.y,l[1],l[3],l[5]],e))),i.start.x,i.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return s.getPointOnQuadraticBezier((0,o.t2length)(e,s.getPathLength(t),(e=>(0,o.getQuadraticArcLength)([i.start.x,l[0],l[2]],[i.start.y,l[1],l[3]],e))),i.start.x,i.start.y,l[0],l[1],l[2],l[3]);case"A":var c=l[0],u=l[1],d=l[2],h=l[3],f=l[4],p=l[5],g=l[6];return f+=p*e/i.pathLength,s.getPointOnEllipticalArc(c,u,d,h,f,g)}return null}static getPointOnLine(e,t,r,n,a,i,o){void 0===i&&(i=t),void 0===o&&(o=r);var s=(a-r)/(n-t+1e-8),l=Math.sqrt(e*e/(1+s*s));n<t&&(l*=-1);var c,u=s*l;if(n===t)c={x:i,y:o+u};else if((o-r)/(i-t+1e-8)===s)c={x:i+l,y:o+u};else{var d,h,f=this.getLineLength(t,r,n,a),p=(i-t)*(n-t)+(o-r)*(a-r);d=t+(p/=f*f)*(n-t),h=r+p*(a-r);var g=this.getLineLength(i,o,d,h),m=Math.sqrt(e*e-g*g);l=Math.sqrt(m*m/(1+s*s)),n<t&&(l*=-1),c={x:d+l,y:h+(u=s*l)}}return c}static getPointOnCubicBezier(e,t,r,n,a,i,o,s,l){function c(e){return e*e*e}function u(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function h(e){return(1-e)*(1-e)*(1-e)}return{x:s*c(e)+i*u(e)+n*d(e)+t*h(e),y:l*c(e)+o*u(e)+a*d(e)+r*h(e)}}static getPointOnQuadraticBezier(e,t,r,n,a,i,o){function s(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:i*s(e)+n*l(e)+t*c(e),y:o*s(e)+a*l(e)+r*c(e)}}static getPointOnEllipticalArc(e,t,r,n,a,i){var o=Math.cos(i),s=Math.sin(i),l=r*Math.cos(a),c=n*Math.sin(a);return{x:e+(l*o-c*s),y:t+(l*s+c*o)}}static parsePathData(e){if(!e)return[];var t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var n=0;n<r.length;n++)t=t.replace(new RegExp(r[n],"g"),"|"+r[n]);var a,i=t.split("|"),o=[],s=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(n=1;n<i.length;n++){var d=i[n],h=d.charAt(0);for(d=d.slice(1),s.length=0;a=u.exec(d);)s.push(a[0]);for(var f=[],p=0,g=s.length;p<g;p++)if("00"!==s[p]){var m=parseFloat(s[p]);isNaN(m)?f.push(0):f.push(m)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var v,b,x,y,w,S,C,T,k,E,_="",A=[],F=l,P=c;switch(h){case"l":l+=f.shift(),c+=f.shift(),_="L",A.push(l,c);break;case"L":l=f.shift(),c=f.shift(),A.push(l,c);break;case"m":var R=f.shift(),j=f.shift();if(l+=R,c+=j,_="M",o.length>2&&"z"===o[o.length-1].command)for(var N=o.length-2;N>=0;N--)if("M"===o[N].command){l=o[N].points[0]+R,c=o[N].points[1]+j;break}A.push(l,c),h="l";break;case"M":l=f.shift(),c=f.shift(),_="M",A.push(l,c),h="L";break;case"h":l+=f.shift(),_="L",A.push(l,c);break;case"H":l=f.shift(),_="L",A.push(l,c);break;case"v":c+=f.shift(),_="L",A.push(l,c);break;case"V":c=f.shift(),_="L",A.push(l,c);break;case"C":A.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),c=f.shift(),A.push(l,c);break;case"c":A.push(l+f.shift(),c+f.shift(),l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),_="C",A.push(l,c);break;case"S":b=l,x=c,"C"===(v=o[o.length-1]).command&&(b=l+(l-v.points[2]),x=c+(c-v.points[3])),A.push(b,x,f.shift(),f.shift()),l=f.shift(),c=f.shift(),_="C",A.push(l,c);break;case"s":b=l,x=c,"C"===(v=o[o.length-1]).command&&(b=l+(l-v.points[2]),x=c+(c-v.points[3])),A.push(b,x,l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),_="C",A.push(l,c);break;case"Q":A.push(f.shift(),f.shift()),l=f.shift(),c=f.shift(),A.push(l,c);break;case"q":A.push(l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),_="Q",A.push(l,c);break;case"T":b=l,x=c,"Q"===(v=o[o.length-1]).command&&(b=l+(l-v.points[0]),x=c+(c-v.points[1])),l=f.shift(),c=f.shift(),_="Q",A.push(b,x,l,c);break;case"t":b=l,x=c,"Q"===(v=o[o.length-1]).command&&(b=l+(l-v.points[0]),x=c+(c-v.points[1])),l+=f.shift(),c+=f.shift(),_="Q",A.push(b,x,l,c);break;case"A":y=f.shift(),w=f.shift(),S=f.shift(),C=f.shift(),T=f.shift(),k=l,E=c,l=f.shift(),c=f.shift(),_="A",A=this.convertEndpointToCenterParameterization(k,E,l,c,C,T,y,w,S);break;case"a":y=f.shift(),w=f.shift(),S=f.shift(),C=f.shift(),T=f.shift(),k=l,E=c,l+=f.shift(),c+=f.shift(),_="A",A=this.convertEndpointToCenterParameterization(k,E,l,c,C,T,y,w,S)}o.push({command:_||h,points:A,start:{x:F,y:P},pathLength:this.calcLength(F,P,_||h,A)})}"z"!==h&&"Z"!==h||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,r,n){var a,i,l,c,u=s;switch(r){case"L":return u.getLineLength(e,t,n[0],n[1]);case"C":return(0,o.getCubicArcLength)([e,n[0],n[2],n[4]],[t,n[1],n[3],n[5]],1);case"Q":return(0,o.getQuadraticArcLength)([e,n[0],n[2]],[t,n[1],n[3]],1);case"A":a=0;var d=n[4],h=n[5],f=n[4]+h,p=Math.PI/180;if(Math.abs(d-f)<p&&(p=Math.abs(d-f)),i=u.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],d,0),h<0)for(c=d-p;c>f;c-=p)l=u.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),a+=u.getLineLength(i.x,i.y,l.x,l.y),i=l;else for(c=d+p;c<f;c+=p)l=u.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),a+=u.getLineLength(i.x,i.y,l.x,l.y),i=l;return l=u.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],f,0),a+=u.getLineLength(i.x,i.y,l.x,l.y)}return 0}static convertEndpointToCenterParameterization(e,t,r,n,a,i,o,s,l){var c=l*(Math.PI/180),u=Math.cos(c)*(e-r)/2+Math.sin(c)*(t-n)/2,d=-1*Math.sin(c)*(e-r)/2+Math.cos(c)*(t-n)/2,h=u*u/(o*o)+d*d/(s*s);h>1&&(o*=Math.sqrt(h),s*=Math.sqrt(h));var f=Math.sqrt((o*o*(s*s)-o*o*(d*d)-s*s*(u*u))/(o*o*(d*d)+s*s*(u*u)));a===i&&(f*=-1),isNaN(f)&&(f=0);var p=f*o*d/s,g=f*-s*u/o,m=(e+r)/2+Math.cos(c)*p-Math.sin(c)*g,v=(t+n)/2+Math.sin(c)*p+Math.cos(c)*g,b=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},x=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},y=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(x(e,t))},w=y([1,0],[(u-p)/o,(d-g)/s]),S=[(u-p)/o,(d-g)/s],C=[(-1*u-p)/o,(-1*d-g)/s],T=y(S,C);return x(S,C)<=-1&&(T=Math.PI),x(S,C)>=1&&(T=0),0===i&&T>0&&(T-=2*Math.PI),1===i&&T<0&&(T+=2*Math.PI),[m,v,o,s,w,T,c,i]}}t.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(s),n.Factory.addGetterSetter(s,"data")},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},7980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegularPolygon=void 0;const n=r(1751),a=r(3304),i=r(9910),o=r(4602);class s extends a.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(var n=0;n<e;n++)r.push({x:t*Math.sin(2*n*Math.PI/e),y:-1*t*Math.cos(2*n*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var t=e[0].x,r=e[0].y,n=e[0].x,a=e[0].y;return e.forEach((e=>{t=Math.min(t,e.x),r=Math.max(r,e.x),n=Math.min(n,e.y),a=Math.max(a,e.y)})),{x:t,y:n,width:r-t,height:a-n}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(s),n.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(s,"sides",0,(0,i.getNumberValidator)())},8019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sepia=void 0;t.Sepia=function(e){var t,r,n,a,i=e.data,o=i.length;for(t=0;t<o;t+=4)r=i[t+0],n=i[t+1],a=i[t+2],i[t+0]=Math.min(255,.393*r+.769*n+.189*a),i[t+1]=Math.min(255,.349*r+.686*n+.168*a),i[t+2]=Math.min(255,.272*r+.534*n+.131*a)}},8065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const n=r(4602),a=r(7149),i=r(1189),o=r(4598),s=r(4367),l=r(1416),c=r(3994),u=r(6338),d=r(8727),h=r(3304),f=r(3243),p=r(5242),g=r(3354),m=r(589);t.Konva=a.Util._assign(n.Konva,{Util:a.Util,Transform:a.Transform,Node:i.Node,Container:o.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:u.Group,DD:d.DD,Shape:h.Shape,shapes:h.shapes,Animation:f.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:m.Canvas}),t.default=t.Konva},8098:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Brighten=void 0;const n=r(1751),a=r(1189),i=r(9910);t.Brighten=function(e){var t,r=255*this.brightness(),n=e.data,a=n.length;for(t=0;t<a;t+=4)n[t]+=r,n[t+1]+=r,n[t+2]+=r},n.Factory.addGetterSetter(a.Node,"brightness",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},8332:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kaleidoscope=void 0;const n=r(1751),a=r(1189),i=r(7149),o=r(9910);t.Kaleidoscope=function(e){var t,r,n,a,o,s,l,c,u,d=e.width,h=e.height,f=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(d*(p%360)/360);if(!(f<1)){var m=i.Util.createCanvasElement();m.width=d,m.height=h;var v=m.getContext("2d").getImageData(0,0,d,h);i.Util.releaseCanvas(m),function(e,t,r){var n,a,i,o,s=e.data,l=t.data,c=e.width,u=e.height,d=r.polarCenterX||c/2,h=r.polarCenterY||u/2,f=0,p=0,g=0,m=0,v=Math.sqrt(d*d+h*h);a=c-d,i=u-h,v=(o=Math.sqrt(a*a+i*i))>v?o:v;var b,x,y,w,S=u,C=c,T=360/C*Math.PI/180;for(x=0;x<C;x+=1)for(y=Math.sin(x*T),w=Math.cos(x*T),b=0;b<S;b+=1)a=Math.floor(d+v*b/S*w),f=s[0+(n=4*((i=Math.floor(h+v*b/S*y))*c+a))],p=s[n+1],g=s[n+2],m=s[n+3],l[0+(n=4*(x+b*c))]=f,l[n+1]=p,l[n+2]=g,l[n+3]=m}(e,v,{polarCenterX:d/2,polarCenterY:h/2});for(var b=d/Math.pow(2,f);b<=8;)b*=2,f-=1;var x=b=Math.ceil(b),y=0,w=x,S=1;for(g+b>d&&(y=x,w=0,S=-1),r=0;r<h;r+=1)for(t=y;t!==w;t+=S)c=4*(d*r+Math.round(t+g)%d),a=v.data[c+0],o=v.data[c+1],s=v.data[c+2],l=v.data[c+3],u=4*(d*r+t),v.data[u+0]=a,v.data[u+1]=o,v.data[u+2]=s,v.data[u+3]=l;for(r=0;r<h;r+=1)for(x=Math.floor(b),n=0;n<f;n+=1){for(t=0;t<x+1;t+=1)c=4*(d*r+t),a=v.data[c+0],o=v.data[c+1],s=v.data[c+2],l=v.data[c+3],u=4*(d*r+2*x-t-1),v.data[u+0]=a,v.data[u+1]=o,v.data[u+2]=s,v.data[u+3]=l;x*=2}!function(e,t,r){var n,a,i,o,s,l,c=e.data,u=t.data,d=e.width,h=e.height,f=r.polarCenterX||d/2,p=r.polarCenterY||h/2,g=0,m=0,v=0,b=0,x=Math.sqrt(f*f+p*p);a=d-f,i=h-p,x=(l=Math.sqrt(a*a+i*i))>x?l:x;var y,w,S,C=h,T=d,k=r.polarRotation||0;for(a=0;a<d;a+=1)for(i=0;i<h;i+=1)o=a-f,s=i-p,y=Math.sqrt(o*o+s*s)*C/x,w=(w=(180*Math.atan2(s,o)/Math.PI+360+k)%360)*T/360,S=Math.floor(w),g=c[0+(n=4*(Math.floor(y)*d+S))],m=c[n+1],v=c[n+2],b=c[n+3],u[0+(n=4*(i*d+a))]=g,u[n+1]=m,u[n+2]=v,u[n+3]=b}(v,e,{polarRotation:0})}},n.Factory.addGetterSetter(a.Node,"kaleidoscopePower",2,(0,o.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(a.Node,"kaleidoscopeAngle",0,(0,o.getNumberValidator)(),n.Factory.afterSetFilter)},8463:(e,t,r)=>{"use strict";e.exports=r(485)},8727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const n=r(4602),a=r(7149);t.DD={get isDragging(){var e=!1;return t.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){var e;return t.DD._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const r=[];t.DD._dragElements.forEach(((t,n)=>{const{node:i}=t,o=i.getStage();o.setPointersPositions(e),void 0===t.pointerId&&(t.pointerId=a.Util._getFirstPointerId(e));const s=o._changedPointerPositions.find((e=>e.id===t.pointerId));if(s){if("dragging"!==t.dragStatus){var l=i.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<l)return;if(i.startDrag({evt:e}),!i.isDragging())return}i._setDragPosition(e,t),r.push(i)}})),r.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(e){const r=[];t.DD._dragElements.forEach((a=>{const{node:i}=a,o=i.getStage();e&&o.setPointersPositions(e);if(!o._changedPointerPositions.find((e=>e.id===a.pointerId)))return;"dragging"!==a.dragStatus&&"stopped"!==a.dragStatus||(t.DD.justDragged=!0,n.Konva._mouseListenClick=!1,n.Konva._touchListenClick=!1,n.Konva._pointerListenClick=!1,a.dragStatus="stopped");const s=a.node.getLayer()||a.node instanceof n.Konva.Stage&&a.node;s&&-1===r.indexOf(s)&&r.push(s)})),r.forEach((e=>{e.draw()}))},_endDragAfter(e){t.DD._dragElements.forEach(((r,n)=>{"stopped"===r.dragStatus&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:e},!0),"dragging"!==r.dragStatus&&t.DD._dragElements.delete(n)}))}},n.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},9144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arc=void 0;const n=r(1751),a=r(3304),i=r(4602),o=r(9910),s=r(4602);class l extends a.Shape{_sceneFunc(e){var t=i.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),n=i.Konva.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(n,Math.PI)),o=Math.sin(Math.min(Math.max(Math.PI,n),3*Math.PI/2)),s=Math.sin(Math.min(n,Math.PI/2)),l=a*(a>0?e:t),c=o*(o>0?e:t),u=s*(s>0?t:e);return{x:l,y:r?-1*u:c,width:1*t-l,height:u-c}}}t.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(l),n.Factory.addGetterSetter(l,"innerRadius",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(l,"outerRadius",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(l,"angle",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(l,"clockwise",!1,(0,o.getBooleanValidator)())},9195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Noise=void 0;const n=r(1751),a=r(1189),i=r(9910);t.Noise=function(e){var t,r=255*this.noise(),n=e.data,a=n.length,i=r/2;for(t=0;t<a;t+=4)n[t+0]+=i-2*i*Math.random(),n[t+1]+=i-2*i*Math.random(),n[t+2]+=i-2*i*Math.random()},n.Factory.addGetterSetter(a.Node,"noise",.2,(0,i.getNumberValidator)(),n.Factory.afterSetFilter)},9485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.releaseCapture=t.setPointerCapture=t.hasPointerCapture=t.createEvent=t.getCapturedShape=void 0;const n=r(4602),a=new Map,i=void 0!==n.Konva._global.PointerEvent;function o(e){return{evt:e,pointerId:e.pointerId}}function s(e,t){const r=a.get(e);if(!r)return;const n=r.getStage();n&&n.content,a.delete(e),i&&r._fire("lostpointercapture",o(new PointerEvent("lostpointercapture")))}t.getCapturedShape=function(e){return a.get(e)},t.createEvent=o,t.hasPointerCapture=function(e,t){return a.get(e)===t},t.setPointerCapture=function(e,t){s(e),t.getStage()&&(a.set(e,t),i&&t._fire("gotpointercapture",o(new PointerEvent("gotpointercapture"))))},t.releaseCapture=s},9554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ellipse=void 0;const n=r(1751),a=r(3304),i=r(9910),o=r(4602);class s extends a.Shape{_sceneFunc(e){var t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}t.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,o._registerNode)(s),n.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),n.Factory.addGetterSetter(s,"radiusX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(s,"radiusY",0,(0,i.getNumberValidator)())},9714:(e,t,r)=>{"use strict";e.exports=r(4861)},9910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentValidator=t.getBooleanValidator=t.getNumberArrayValidator=t.getFunctionValidator=t.getStringOrGradientValidator=t.getStringValidator=t.getNumberOrAutoValidator=t.getNumberOrArrayOfNumbersValidator=t.getNumberValidator=t.alphaComponent=t.RGBComponent=void 0;const n=r(4602),a=r(7149);function i(e){return a.Util._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||a.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}t.RGBComponent=function(e){return e>255?255:e<0?0:Math.round(e)},t.alphaComponent=function(e){return e>1?1:e<1e-4?1e-4:e},t.getNumberValidator=function(){if(n.Konva.isUnminified)return function(e,t){return a.Util._isNumber(e)||a.Util.warn(i(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}},t.getNumberOrArrayOfNumbersValidator=function(e){if(n.Konva.isUnminified)return function(t,r){let n=a.Util._isNumber(t),o=a.Util._isArray(t)&&t.length==e;return n||o||a.Util.warn(i(t)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+e+")"),t}},t.getNumberOrAutoValidator=function(){if(n.Konva.isUnminified)return function(e,t){return a.Util._isNumber(e)||"auto"===e||a.Util.warn(i(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}},t.getStringValidator=function(){if(n.Konva.isUnminified)return function(e,t){return a.Util._isString(e)||a.Util.warn(i(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}},t.getStringOrGradientValidator=function(){if(n.Konva.isUnminified)return function(e,t){const r=a.Util._isString(e),n="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return r||n||a.Util.warn(i(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}},t.getFunctionValidator=function(){if(n.Konva.isUnminified)return function(e,t){return a.Util._isFunction(e)||a.Util.warn(i(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}},t.getNumberArrayValidator=function(){if(n.Konva.isUnminified)return function(e,t){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&e instanceof r||(a.Util._isArray(e)?e.forEach((function(e){a.Util._isNumber(e)||a.Util.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):a.Util.warn(i(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}},t.getBooleanValidator=function(){if(n.Konva.isUnminified)return function(e,t){return!0===e||!1===e||a.Util.warn(i(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}},t.getComponentValidator=function(e){if(n.Konva.isUnminified)return function(t,r){return void 0===t||null===t||a.Util.isObject(t)||a.Util.warn(i(t)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+e),t}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".258b012d.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";r.l=(n,a,i,o)=>{if(e[n])e[n].push(a);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[a];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,o=n[0],s=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)l(r)}for(t&&t(n);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{appendChild:()=>md,appendChildToContainer:()=>vd,appendInitialChild:()=>Xu,cancelTimeout:()=>ud,clearContainer:()=>Fd,commitMount:()=>Cd,commitTextUpdate:()=>Sd,commitUpdate:()=>Td,createInstance:()=>Qu,createTextInstance:()=>Ju,detachDeletedInstance:()=>Pd,finalizeInitialChildren:()=>Zu,getChildHostContext:()=>ld,getCurrentEventPriority:()=>Rd,getPublicInstance:()=>ed,getRootHostContext:()=>sd,hideInstance:()=>kd,hideTextInstance:()=>Ed,idlePriority:()=>qu.unstable_IdlePriority,insertBefore:()=>bd,insertInContainerBefore:()=>xd,isPrimaryRenderer:()=>fd,noTimeout:()=>dd,now:()=>qu.unstable_now,prepareForCommit:()=>td,preparePortalMount:()=>rd,prepareUpdate:()=>nd,removeChild:()=>yd,removeChildFromContainer:()=>wd,resetAfterCommit:()=>ad,resetTextContent:()=>id,run:()=>qu.unstable_runWithPriority,scheduleTimeout:()=>cd,shouldDeprioritizeSubtree:()=>od,shouldSetTextContent:()=>hd,supportsMutation:()=>gd,unhideInstance:()=>_d,unhideTextInstance:()=>Ad,warnsIfNotActing:()=>pd});var t=r(5043),n=r(4391),a=(r(4358),"popstate");function i(){return h((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return c("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function d(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function h(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=n,d=i.history,h="POP",f=null,p=g();function g(){return(d.state||{idx:null}).idx}function m(){h="POP";let e=g(),t=null==e?null:e-p;p=e,f&&f({action:h,location:b.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${r}`),new URL(r,t)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let b={get action(){return h},get location(){return e(i,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(a,m),f=e,()=>{i.removeEventListener(a,m),f=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let n=c(b.location,e,t);r&&r(n,e),p=g()+1;let a=l(n,p),o=b.createHref(n);try{d.pushState(a,"",o)}catch($d){if($d instanceof DOMException&&"DataCloneError"===$d.name)throw $d;i.location.assign(o)}s&&f&&f({action:h,location:b.location,delta:1})},replace:function(e,t){h="REPLACE";let n=c(b.location,e,t);r&&r(n,e),p=g();let a=l(n,p),i=b.createHref(n);d.replaceState(a,"",i),s&&f&&f({action:h,location:b.location,delta:0})},go:e=>d.go(e)};return b}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,r,n){let a=A(("string"===typeof t?d(t):t).pathname||"/",r);if(null==a)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=_(a);o=k(i[s],e,n)}return o}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(n),`Absolute route path "${s.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(n.length));let l=N([n,s.relativePath]),c=r.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:T(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of m(e.path))a(e,t,r);else a(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=m(n.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,b=3,x=2,y=1,w=10,S=-2,C=e=>"*"===e;function T(e,t){let r=e.split("/"),n=r.length;return r.some(C)&&(n+=S),t&&(n+=x),r.filter((e=>!C(e))).reduce(((e,t)=>e+(v.test(t)?b:""===t?y:w)),n)}function k(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:N([i,u.pathname]),pathnameBase:I(N([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=N([i,u.pathnameBase]))}return o}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=l[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[r];return e[n]=a&&!s?void 0:(s||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function _(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch($d){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${$d}).`),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function F(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e){let t=P(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function j(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=d(e):(n={...e},o(!n.pathname||!n.pathname.includes("?"),F("?","pathname","search",n)),o(!n.pathname||!n.pathname.includes("#"),F("#","pathname","hash",n)),o(!n.search||!n.search.includes("#"),F("#","search","hash",n)));let i,s=""===e||""===n.pathname,l=s?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?d(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:O(n),hash:D(a)}}(n,i),u=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var N=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function L(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var M=["POST","PUT","PATCH","DELETE"],z=(new Set(M),["GET",...M]);new Set(z),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var U=t.createContext(null);U.displayName="DataRouterState";var W=t.createContext({isTransitioning:!1});W.displayName="ViewTransition";var G=t.createContext(new Map);G.displayName="Fetchers";var H=t.createContext(null);H.displayName="Await";var V=t.createContext(null);V.displayName="Navigation";var q=t.createContext(null);q.displayName="Location";var K=t.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var Y=t.createContext(null);Y.displayName="RouteError";function X(){return null!=t.useContext(q)}function Q(){return o(X(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(q).location}var J="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){t.useContext(V).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=ue("useNavigate"),r=he("useNavigate"),n=t.useRef(!1);Z((()=>{n.current=!0}));let a=t.useCallback((async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(n.current,J),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:r,...a}))}),[e,r]);return a}():function(){o(X(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:r,navigator:n}=t.useContext(V),{matches:a}=t.useContext(K),{pathname:i}=Q(),l=JSON.stringify(R(a)),c=t.useRef(!1);Z((()=>{c.current=!0}));let u=t.useCallback((function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,J),!c.current)return;if("number"===typeof t)return void n.go(t);let o=j(t,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==r&&(o.pathname="/"===o.pathname?r:N([r,o.pathname])),(a.replace?n.replace:n.push)(o,a.state,a)}),[r,n,l,i,e]);return u}()}t.createContext(null);function te(){let{matches:e}=t.useContext(K),r=e[e.length-1];return r?r.params:{}}function re(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(K),{pathname:a}=Q(),i=JSON.stringify(R(n));return t.useMemo((()=>j(e,JSON.parse(i),a,"path"===r)),[e,i,a,r])}function ne(e,r,n,a){o(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=t.useContext(V),{matches:c}=t.useContext(K),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",m=u&&u.route;{let e=m&&m.path||"";ge(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,b=Q();if(r){let e="string"===typeof r?d(r):r;o("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=b;let x=v.pathname||"/",y=x;if("/"!==g){let e=g.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!l&&n&&n.matches&&n.matches.length>0?n.matches:f(e,{pathname:y});s(m||null!=w,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),s(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=le(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:N([g,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:N([g,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,a);return r&&S?t.createElement(q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function ae(){let e=fe(),r=L(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:i},n):null,s)}var ie=t.createElement(ae,null),oe=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function se(e){let{routeContext:r,match:n,children:a}=e,i=t.useContext(B);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(K.Provider,{value:r},a)}function le(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=n?.errors;if(null!=i){let e=a.findIndex((e=>e.route.id&&void 0!==i?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight(((e,o,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&o.route.id?i[o.route.id]:void 0,h=o.route.errorElement||ie,s&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let p=r.concat(a.slice(0,c+1)),g=()=>{let r;return r=u?h:d?f:o.route.Component?t.createElement(o.route.Component,null):o.route.element?o.route.element:e,t.createElement(se,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:r})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?t.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(e){let r=t.useContext(B);return o(r,ce(e)),r}function de(e){let r=t.useContext(U);return o(r,ce(e)),r}function he(e){let r=function(e){let r=t.useContext(K);return o(r,ce(e)),r}(e),n=r.matches[r.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function fe(){let e=t.useContext(Y),r=de("useRouteError"),n=he("useRouteError");return void 0!==e?e:r.errors?.[n]}var pe={};function ge(e,t,r){t||pe[e]||(pe[e]=!0,s(!1,r))}t.memo((function(e){let{routes:t,future:r,state:n}=e;return ne(t,void 0,n,r)}));function me(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve(e){let{basename:r="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:c=!1}=e;o(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof a&&(a=d(a));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:v="default"}=a,b=t.useMemo((()=>{let e=A(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:i}}),[u,f,p,g,m,v,i]);return s(null!=b,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==b?null:t.createElement(V.Provider,{value:h},t.createElement(q.Provider,{children:n,value:b}))}function be(e){let{children:t,location:r}=e;return ne(xe(t),r)}t.Component;function xe(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,((e,a)=>{if(!t.isValidElement(e))return;let i=[...r,a];if(e.type===t.Fragment)return void n.push.apply(n,xe(e.props.children,i));o(e.type===me,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=xe(e.props.children,i)),n.push(s)})),n}var ye="get",we="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var Ce=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ke(e){return null==e||Te.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${we}"`),null)}function Ee(e,t){let r,n,a,i,o;if(Se(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");n=o?A(o,t):null,r=e.getAttribute("method")||ye,a=ke(e.getAttribute("enctype"))||we,i=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(n=s?A(s,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||ye,a=ke(e.getAttribute("formenctype"))||ke(o.getAttribute("enctype"))||we,i=new FormData(o,e),!function(){if(null===Ce)try{new FormData(document.createElement("form"),0),Ce=!1}catch(e){Ce=!0}return Ce}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,n)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ye,n=null,a=we,o=e}var s;return i&&"text/plain"===a&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}function _e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ae(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch($d){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error($d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Fe(e){return null!=e&&"string"===typeof e.page}function Pe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Re(e,t,r,n,a,i){let o=(e,t)=>!r[t]||e.route.id!==r[t].route.id,s=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>o(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0})):[]}function je(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a})).flat(1),[...new Set(n)];var n}function Ne(e,t){let r=new Set,n=new Set(t);return e.reduce(((e,a)=>{if(t&&!Fe(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let i=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(i)||(r.add(i),e.push({key:i,link:a})),e}),[])}function Ie(e){return{__html:e}}Symbol("SingleFetchRedirect");function Oe(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===A(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}t.Component;function De(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(L(r))return t.createElement(Le,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),i);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(Le,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Le(e){let{title:r,renderScripts:n,isOutsideRemixApp:a,children:i}=e,{routeModules:o}=We();return o.root?.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?t.createElement(Ye,null):null)))}function Me(e){return!0===e}function ze(){let e=t.useContext(B);return _e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Be(){let e=t.useContext(U);return _e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ue=t.createContext(void 0);function We(){let e=t.useContext(Ue);return _e(e,"You must render this element inside a <HydratedRouter> element"),e}function Ge(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function $e(e,t,r){if(r&&!Ke)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function He(e){let{page:r,...n}=e,{router:a}=ze(),i=t.useMemo((()=>f(a.routes,r,a.basename)),[a.routes,r,a.basename]);return i?t.createElement(qe,{page:r,matches:i,...n}):null}function Ve(e){let{manifest:r,routeModules:n}=We(),[a,i]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,r){return Ne((await Promise.all(e.map((async e=>{let n=t.routes[e.route.id];if(n){let e=await Ae(n,r);return e.links?e.links():[]}return[]})))).flat(1).filter(Pe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,r,n).then((e=>{t||i(e)})),()=>{t=!0}}),[e,r,n]),a}function qe(e){let{page:r,matches:n,...a}=e,i=Q(),{manifest:o,routeModules:s}=We(),{basename:l}=ze(),{loaderData:c,matches:u}=Be(),d=t.useMemo((()=>Re(r,n,u,o,i,"data")),[r,n,u,o,i]),h=t.useMemo((()=>Re(r,n,u,o,i,"assets")),[r,n,u,o,i]),f=t.useMemo((()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach((r=>{let n=o.routes[r.route.id];n&&n.hasLoader&&(!d.some((e=>e.route.id===r.route.id))&&r.route.id in c&&s[r.route.id]?.shouldRevalidate||n.hasClientLoader?t=!0:e.add(r.route.id))})),0===e.size)return[];let a=Oe(r,l);return t&&e.size>0&&a.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[l,c,i,o,d,n,r,s]),p=t.useMemo((()=>je(h,o)),[h,o]),g=Ve(h);return t.createElement(t.Fragment,null,f.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a}))),p.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...a}))),g.map((e=>{let{key:r,link:n}=e;return t.createElement("link",{key:r,...n})})))}Ue.displayName="FrameworkContext";var Ke=!1;function Ye(e){let{manifest:r,serverHandoffString:n,isSpaMode:a,ssr:i,renderMeta:o}=We(),{router:s,static:l,staticContext:c}=ze(),{matches:u}=Be(),d=Me(i);o&&(o.didRenderScripts=!0);let h=$e(u,null,a);t.useEffect((()=>{0}),[]);let p=t.useMemo((()=>{let a=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=l?`${r.hmr?.runtime?`import ${JSON.stringify(r.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(r.url)}`};\n${h.map(((e,t)=>{let n=`route${t}`,a=r.routes[e.route.id];_e(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:`${n}_clientAction`}]:[],...o?[{module:o,varName:`${n}_clientLoader`}]:[],...s?[{module:s,varName:`${n}_clientMiddleware`}]:[],...l?[{module:l,varName:`${n}_HydrateFallback`}]:[],{module:c,varName:`${n}_main`}];return 1===u.length?`import * as ${n} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${n} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,a=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push(`/${i.join("/")}`),i.pop();o.forEach((e=>{let r=f(t.routes,e,t.basename);r&&r.forEach((e=>a.add(e.route.id)))}));let s=[...a].reduce(((e,t)=>Object.assign(e,{[t]:n.routes[t]})),{});return{...n,routes:s,sri:!!r||void 0}}(r,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(r.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(a),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(i),type:"module",async:!0}))}),[]),g=Ke?[]:(r.entry.imports.concat(je(h,r,{includeHydrateFallback:!0})),[...new Set(m)]);var m;let v="object"===typeof r.sri?r.sri:{};return Ke?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,d?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:v[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:v[r.entry.module],suppressHydrationWarning:!0}),g.map((r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:v[r],suppressHydrationWarning:!0}))),p)}function Xe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qe&&(window.__reactRouterVersion="7.5.0")}catch(ph){}function Je(e){let{basename:r,children:n,window:a}=e,o=t.useRef();null==o.current&&(o.current=i({window:a,v5Compat:!0}));let s=o.current,[l,c]=t.useState({action:s.action,location:s.location}),u=t.useCallback((e=>{t.startTransition((()=>c(e)))}),[c]);return t.useLayoutEffect((()=>s.listen(u)),[s,u]),t.createElement(ve,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:s})}var Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=t.forwardRef((function(e,r){let n,{onClick:a,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:g,preventScrollReset:m,viewTransition:v,...b}=e,{basename:x}=t.useContext(V),y="string"===typeof g&&Ze.test(g),w=!1;if("string"===typeof g&&y&&(n=g,Qe))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),r=A(t.pathname,x);t.origin===e.origin&&null!=r?g=r+t.search+t.hash:w=!0}catch(ph){s(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=t.useContext(V),{hash:i,pathname:s,search:l}=re(e,{relative:r}),c=s;return"/"!==n&&(c="/"===s?n:N([n,s])),a.createHref({pathname:c,search:l,hash:i})}(g,{relative:c}),[C,T,k]=function(e,r){let n=t.useContext(Ue),[a,i]=t.useState(!1),[o,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,f=t.useRef(null);t.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(a){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:Ge(l,p),onBlur:Ge(c,g),onMouseEnter:Ge(u,p),onMouseLeave:Ge(d,g),onTouchStart:Ge(h,p)}]:[!1,f,{}]}(l,b),E=function(e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=Q(),d=re(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:u(c)===u(d);l(e,{replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:s})}}),[c,l,d,n,a,r,e,i,o,s])}(g,{replace:h,state:f,target:p,preventScrollReset:m,relative:c,viewTransition:v});let _=t.createElement("a",{...b,...k,href:n||S,onClick:w||d?a:function(e){a&&a(e),e.defaultPrevented||E(e)},ref:Xe(r,T),target:p,"data-discover":y||"render"!==i?void 0:"true"});return C&&!y?t.createElement(t.Fragment,null,_,t.createElement(He,{page:S})):_}));et.displayName="Link",t.forwardRef((function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=re(c,{relative:h.relative}),p=Q(),g=t.useContext(U),{navigator:m,basename:v}=t.useContext(V),b=null!=g&&function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(W);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=nt("useViewTransitionState"),i=re(e,{relative:r.relative});if(!n.isTransitioning)return!1;let s=A(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=A(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=E(i.pathname,l)||null!=E(i.pathname,s)}(f)&&!0===u,x=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,y=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(y=y.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&v&&(w=A(w,v)||w);const S="/"!==x&&x.endsWith("/")?x.length-1:x.length;let C,T=y===x||!s&&y.startsWith(x)&&"/"===y.charAt(S),k=null!=w&&(w===x||!s&&w.startsWith(x)&&"/"===w.charAt(x.length)),_={isActive:T,isPending:k,isTransitioning:b},F=T?n:void 0;C="function"===typeof i?i(_):[i,T?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(_):l;return t.createElement(et,{...h,"aria-current":F,className:C,ref:r,style:P,to:c,viewTransition:u},"function"===typeof d?d(_):d)})).displayName="NavLink";var tt=t.forwardRef(((e,r)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:l,state:c,method:d=ye,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m,...v}=e,b=ot(),x=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(V),a=t.useContext(K);o(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s={...re(e||".",{relative:r})},l=Q();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();s.search=r?`?${r}`:""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:N([n,s.pathname]));return u(s)}(h,{relative:p}),y="get"===d.toLowerCase()?"get":"post",w="string"===typeof h&&Ze.test(h);return t.createElement("form",{ref:r,method:y,action:x,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||d;b(t||e.currentTarget,{fetcherKey:a,method:r,navigate:i,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:m})},...v,"data-discover":w||"render"!==n?void 0:"true"})}));function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nt(e){let r=t.useContext(B);return o(r,rt(e)),r}tt.displayName="Form";var at=0,it=()=>`__${String(++at)}__`;function ot(){let{router:e}=nt("useSubmit"),{basename:r}=t.useContext(V),n=he("useRouteId");return t.useCallback((async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:s,formData:l,body:c}=Ee(t,r);if(!1===a.navigate){let t=a.fetcherKey||it();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,r,n])}new TextEncoder;let st=function(e){return e.Received="Received",e.Stored="Storage",e.Processing="Processing",e.Packaged="Packaged",e}({}),lt=function(e){return e.Pounds="lbs",e.Gallons="gallons",e.Liters="liters",e.Barrels="barrels",e.Count="count",e}({}),ct=function(e){return e.SuperAdmin="SuperAdmin",e.Admin="Admin",e.Sales="Sales",e.Production="Production",e}({});let ut=function(e){return e.Grain="Grain",e.Sugar="Sugar",e.Hops="Hops",e.Yeast="Yeast",e.Water="Water",e.Spirits="Spirits",e.Botanical="Botanical",e.Mash="Mash",e.Aging="Aging",e.Packaging="Packaging",e.Other="Other",e}({}),dt=function(e){return e.Beer="Beer",e.Wine="Wine",e.Spirits="Spirits",e}({}),ht=function(e){return e.Malt="Malt",e.Spirits="Spirits",e.Wine="Wine",e.Merchandise="Merchandise",e.Cider="Cider",e.Seltzer="Seltzer",e}({}),ft=function(e){return e.Storage="Storage",e.Processing="Processing",e.Production="Production",e}({});var pt=r(579);const gt="https://tilly.onrender.com",mt=e=>{let{inventory:r,refreshInventory:n}=e;const[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[m,v]=(0,t.useState)(""),[b,x]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[S,C]=(0,t.useState)({batchId:"",productId:0,recipeId:0,siteId:"",equipmentId:null}),[T,k]=(0,t.useState)({name:"",productId:0,ingredients:[{itemName:"",quantity:0,unit:"lbs"}],quantity:0,unit:"barrels"}),[E,_]=(0,t.useState)(null),[A,F]=(0,t.useState)(!1),[P,R]=(0,t.useState)(null),[j,N]=(0,t.useState)([]),[I,O]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{const e=[{url:`${gt}/api/batches`,setter:i,name:"batches"},{url:`${gt}/api/products`,setter:s,name:"products"},{url:`${gt}/api/sites`,setter:d,name:"sites"},{url:`${gt}/api/items`,setter:g,name:"items"}],t=await Promise.all(e.map((e=>{let{url:t}=e;return fetch(t,{headers:{Accept:"application/json"}})})));for(let r=0;r<t.length;r++){const n=t[r],{name:a,setter:i}=e[r];if(!n.ok){const e=await n.text();throw new Error(`Failed to fetch ${a}: HTTP ${n.status}, Response: ${e.slice(0,50)}`)}i(await n.json())}}catch(e){console.error("Fetch error:",e),_("Failed to load production data: "+e.message)}})()}),[]),(0,t.useEffect)((()=>{S.siteId?fetch(`${gt}/api/equipment?siteId=${S.siteId}`).then((e=>e.json())).then((e=>f(e))).catch((e=>{console.error("Fetch equipment error:",e),_("Failed to load equipment: "+e.message)})):f([])}),[S.siteId]);const D=(e,t,r)=>{const n=[...T.ingredients];n[e]={...n[e],[t]:r},k({...T,ingredients:n})},L=a.filter((e=>e.batchId.toLowerCase().includes(m.toLowerCase())||e.productName&&e.productName.toLowerCase().includes(m.toLowerCase())));return(0,pt.jsxs)("div",{className:"page-container",children:[(0,pt.jsx)("h2",{children:"Production"}),E&&(0,pt.jsx)("div",{className:"error",children:E}),(0,pt.jsxs)("div",{className:"inventory-actions",children:[(0,pt.jsx)("button",{onClick:()=>x(!0),children:"Add New Batch"}),(0,pt.jsx)("button",{onClick:()=>w(!0),children:"Add Recipe"}),(0,pt.jsx)("button",{onClick:()=>{j.length>0&&O(!0)},disabled:0===j.length,style:{backgroundColor:j.length>0?"#2196F3":"#ccc",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:j.length>0?"pointer":"not-allowed"},children:"Batch Actions"})]}),(0,pt.jsx)("div",{style:{marginBottom:"20px"},children:(0,pt.jsx)("input",{type:"text",value:m,onChange:e=>v(e.target.value),placeholder:"Search by Batch ID or Product Name",style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})}),(0,pt.jsx)("div",{className:"inventory-table-container",children:(0,pt.jsxs)("table",{className:"inventory-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)("input",{type:"checkbox",checked:j.length===L.length&&L.length>0,onChange:()=>N(j.length===L.length?[]:L.map((e=>e.batchId)))})}),(0,pt.jsx)("th",{children:"Batch ID"}),(0,pt.jsx)("th",{children:"Product"}),(0,pt.jsx)("th",{children:"Site"}),(0,pt.jsx)("th",{children:"Status"}),(0,pt.jsx)("th",{children:"Date"})]})}),(0,pt.jsx)("tbody",{children:L.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:(0,pt.jsx)("input",{type:"checkbox",checked:j.includes(e.batchId),onChange:()=>{return t=e.batchId,void N((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),(0,pt.jsx)("td",{children:(0,pt.jsx)(et,{to:`/production/${e.batchId}`,style:{color:"#2196F3",textDecoration:"underline"},children:e.batchId})}),(0,pt.jsx)("td",{children:e.productName||"Unknown"}),(0,pt.jsx)("td",{children:e.siteName||e.siteId}),(0,pt.jsx)("td",{children:e.status}),(0,pt.jsx)("td",{children:e.date})]},e.batchId)))})]})}),b&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Add New Batch"}),(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Batch ID (required):"}),(0,pt.jsx)("input",{type:"text",value:S.batchId||"",onChange:e=>C({...S,batchId:e.target.value}),placeholder:"Enter Batch ID",style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Product (required):"}),(0,pt.jsxs)("select",{value:S.productId||"",onChange:e=>{const t=parseInt(e.target.value,10);C({...S,productId:t,recipeId:0}),(async e=>{if(e)try{const t=await fetch(`${gt}/api/recipes?productId=${e}`,{headers:{Accept:"application/json"}});if(!t.ok){const e=await t.text();throw new Error(`Failed to fetch recipes: HTTP ${t.status}, Response: ${e.slice(0,50)}`)}const r=await t.json();c(r)}catch(t){console.error("Fetch recipes error:",t),_("Failed to fetch recipes: "+t.message),c([])}else c([])})(t)},style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Product"}),o.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Recipe (required):"}),(0,pt.jsxs)("select",{value:S.recipeId||"",onChange:e=>C({...S,recipeId:parseInt(e.target.value,10)}),disabled:!S.productId,style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Recipe"}),l.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Site (required):"}),(0,pt.jsxs)("select",{value:S.siteId||"",onChange:e=>C({...S,siteId:e.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Site"}),u.map((e=>(0,pt.jsx)("option",{value:e.siteId,children:e.name},e.siteId)))]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Equipment (optional):"}),(0,pt.jsxs)("select",{value:S.equipmentId||"",onChange:e=>C({...S,equipmentId:parseInt(e.target.value,10)||null}),disabled:!S.siteId,style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Equipment"}),h.map((e=>(0,pt.jsx)("option",{value:e.equipmentId,children:e.name},e.equipmentId)))]})]})]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(!S.batchId||!S.productId||!S.recipeId||!S.siteId)return void _("All fields are required");const e=o.find((e=>e.id===S.productId));if(!e)return void _("Invalid product selected");if(!l.find((e=>e.id===S.recipeId)))return void _("Invalid recipe selected");const t={batchId:S.batchId,productId:S.productId,recipeId:S.recipeId,siteId:S.siteId,status:"In Progress",date:(new Date).toISOString().split("T")[0],equipmentId:S.equipmentId||null};try{var r;const o=await fetch(`${gt}/api/batches`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!o.ok){const e=await o.text();let t=`Add batch error: HTTP ${o.status}, Response: ${e.slice(0,50)}`;try{t=JSON.parse(e).error||t,t.includes("Insufficient inventory")?(R(t),F(!0)):_(t)}catch{_(t)}throw new Error(t)}const s=await o.json();i([...a,{...s,productName:e.name,siteName:null===(r=u.find((e=>e.siteId===t.siteId)))||void 0===r?void 0:r.name}]),x(!1),C({batchId:"",productId:0,recipeId:0,siteId:"",equipmentId:null}),c([]),f([]),console.log("handleAddBatch: Refreshing inventory after batch creation",{batchId:t.batchId}),await n();const l=await fetch(`${gt}/api/inventory?siteId=${t.siteId}`),d=await l.json();console.log("handleAddBatch: Inventory after batch creation",d),_(null),R(null),F(!1)}catch(s){console.error("Add batch error:",s),A||_("Failed to add batch: "+s.message)}},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Create"}),(0,pt.jsx)("button",{onClick:()=>{x(!1),C({batchId:"",productId:0,recipeId:0,siteId:"",equipmentId:null}),_(null)},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})}),A&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2100},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"300px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",textAlign:"center"},children:[(0,pt.jsx)("h3",{style:{color:"#F86752",marginBottom:"10px"},children:"Inventory Error"}),(0,pt.jsx)("p",{style:{color:"#555",marginBottom:"20px"},children:P}),(0,pt.jsx)("button",{onClick:()=>{F(!1),R(null)},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"OK"})]})}),y&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"500px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",maxHeight:"90vh",overflowY:"auto"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Create New Recipe"}),(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Recipe Name (required):"}),(0,pt.jsx)("input",{type:"text",value:T.name,onChange:e=>k({...T,name:e.target.value}),placeholder:"Enter recipe name",style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Product (required):"}),(0,pt.jsxs)("select",{value:T.productId||"",onChange:e=>k({...T,productId:parseInt(e.target.value,10)}),style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Product"}),o.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Recipe Quantity (required):"}),(0,pt.jsx)("input",{type:"number",value:T.quantity||"",onChange:e=>k({...T,quantity:parseFloat(e.target.value)||0}),placeholder:"Enter quantity (e.g., 10)",step:"0.01",min:"0",style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Unit (required):"}),(0,pt.jsxs)("select",{value:T.unit,onChange:e=>k({...T,unit:e.target.value}),style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"barrels",children:"Barrels"}),(0,pt.jsx)("option",{value:"gallons",children:"Gallons"}),(0,pt.jsx)("option",{value:"liters",children:"Liters"})]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Ingredients (required):"}),T.ingredients.map(((e,t)=>(0,pt.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px",alignItems:"center"},children:[(0,pt.jsxs)("select",{value:e.itemName,onChange:e=>D(t,"itemName",e.target.value),style:{width:"200px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Item"}),p.filter((e=>e.enabled)).map((e=>(0,pt.jsx)("option",{value:e.name,children:e.name},e.name)))]}),(0,pt.jsx)("input",{type:"number",value:e.quantity||"",onChange:e=>D(t,"quantity",parseFloat(e.target.value)||0),placeholder:"Quantity",step:"0.01",min:"0",style:{width:"100px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}}),(0,pt.jsxs)("select",{value:e.unit,onChange:e=>D(t,"unit",e.target.value),style:{width:"100px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"lbs",children:"lbs"}),(0,pt.jsx)("option",{value:"kg",children:"kg"}),(0,pt.jsx)("option",{value:"oz",children:"oz"}),(0,pt.jsx)("option",{value:"gal",children:"gal"}),(0,pt.jsx)("option",{value:"l",children:"l"})]}),(0,pt.jsx)("button",{onClick:()=>(e=>{k({...T,ingredients:T.ingredients.filter(((t,r)=>r!==e))})})(t),style:{backgroundColor:"#F86752",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Remove"})]},t))),(0,pt.jsx)("button",{onClick:()=>{k({...T,ingredients:[...T.ingredients,{itemName:"",quantity:0,unit:"lbs"}]})},style:{backgroundColor:"#2196F3",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginTop:"10px"},children:"Add Ingredient"})]})]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(!T.name||!T.productId||T.quantity<=0||!T.unit||T.ingredients.some((e=>!e.itemName||e.quantity<=0||!e.unit)))_("Recipe name, product, valid quantity, unit, and ingredients with units are required");else try{const e=await fetch(`${gt}/api/recipes`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({...T,ingredients:T.ingredients.map((e=>({itemName:e.itemName,quantity:e.quantity,unit:e.unit})))})});if(!e.ok){const t=await e.text();throw new Error(`Add recipe error: HTTP ${e.status}, Response: ${t.slice(0,50)}`)}const t=e.headers.get("content-type");if(!t||!t.includes("application/json")){const r=await e.text();throw new Error(`Invalid response for recipe: Expected JSON, got ${t}, Response: ${r.slice(0,50)}`)}const r=await e.json();c([...l,r]),w(!1),k({name:"",productId:0,ingredients:[{itemName:"",quantity:0,unit:"lbs"}],quantity:0,unit:"barrels"}),_(null)}catch(e){console.error("Add recipe error:",e),_("Failed to add recipe: "+e.message)}},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Create"}),(0,pt.jsx)("button",{onClick:()=>{w(!1),k({name:"",productId:0,ingredients:[{itemName:"",quantity:0,unit:"lbs"}],quantity:0,unit:"barrels"}),_(null)},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})}),I&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"300px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",textAlign:"center"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px"},children:"Batch Actions"}),(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,pt.jsx)("button",{onClick:async()=>{try{const e=j.map((e=>fetch(`${gt}/api/batches/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({status:"Completed"})}).then((t=>{if(!t.ok)throw new Error(`Failed to complete batch ${e}: HTTP ${t.status}`);return t.json()}))));await Promise.all(e),i((e=>e.map((e=>j.includes(e.batchId)?{...e,status:"Completed"}:e)))),N([]),O(!1),_(null)}catch(e){console.error("Complete batches error:",e),_("Failed to complete batches: "+e.message)}},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Complete Selected"}),(0,pt.jsx)("button",{onClick:async()=>{try{const e=j.map((e=>fetch(`${gt}/api/batches/${e}`,{method:"DELETE",headers:{Accept:"application/json"}}).then((t=>{if(!t.ok)throw new Error(`Failed to delete batch ${e}: HTTP ${t.status}`)}))));await Promise.all(e),i((e=>e.filter((e=>!j.includes(e.batchId))))),N([]),O(!1),_(null)}catch(e){console.error("Delete batches error:",e),_("Failed to delete batches: "+e.message)}},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Delete Selected"}),(0,pt.jsx)("button",{onClick:()=>{O(!1),_(null)},style:{backgroundColor:"#ccc",color:"#555",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#bbb",onMouseOut:e=>e.currentTarget.style.backgroundColor="#ccc",children:"Cancel"})]})]})})]})},vt="https://tilly.onrender.com",bt=()=>{const{batchId:e}=te(),r=ee(),[n,a]=(0,t.useState)({date:"",notes:"",temperature:void 0,gravity:void 0}),[i,o]=(0,t.useState)(null),[s,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const t=await fetch(`${vt}/api/batches/${e}/brewlog`,{headers:{Accept:"application/json"}});if(!t.ok){const e=await t.text();throw new Error(`Failed to fetch brew log: HTTP ${t.status}, Response: ${e.slice(0,50)}`)}const r=await t.json();r.date&&a(r)}catch(t){console.error("Fetch brew log error:",t),o("Failed to load brew log: "+t.message)}})()}),[e]);return(0,pt.jsxs)("div",{className:"page-container",children:[(0,pt.jsxs)("h2",{children:["Brew Day Log for Batch ",e]}),i&&(0,pt.jsx)("div",{className:"error",children:i}),s&&(0,pt.jsx)("div",{style:{color:"#28A745",backgroundColor:"#e6ffe6",padding:"10px",borderRadius:"4px",marginBottom:"10px",textAlign:"center"},children:s}),(0,pt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),n.date&&n.notes)try{const t=await fetch(`${vt}/api/batches/${e}/brewlog`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!t.ok){const e=await t.text();throw new Error(`Failed to save brew log: HTTP ${t.status}, Response: ${e.slice(0,50)}`)}o(null),l("Brew log saved successfully"),setTimeout((()=>{l(null),r(`/production/${e}`)}),2e3)}catch(a){console.error("Save brew log error:",a),o("Failed to save brew log: "+a.message)}else o("Date and notes are required")},className:"batch-details",children:[(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("label",{children:"Date:"}),(0,pt.jsx)("input",{type:"date",value:n.date,onChange:e=>a({...n,date:e.target.value}),required:!0,style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"200px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("label",{children:"Notes:"}),(0,pt.jsx)("textarea",{value:n.notes,onChange:e=>a({...n,notes:e.target.value}),required:!0,placeholder:"Enter brew day notes (e.g., fermentation details)",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"300px",height:"100px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("label",{children:"Temperature (\xb0C):"}),(0,pt.jsx)("input",{type:"number",value:n.temperature||"",onChange:e=>a({...n,temperature:parseFloat(e.target.value)||void 0}),placeholder:"Optional",step:"0.1",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("label",{children:"Gravity:"}),(0,pt.jsx)("input",{type:"number",value:n.gravity||"",onChange:e=>a({...n,gravity:parseFloat(e.target.value)||void 0}),placeholder:"Optional",step:"0.001",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100px"}})]}),(0,pt.jsx)("button",{type:"submit",style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save Brew Log"}),(0,pt.jsx)("button",{type:"button",onClick:()=>r(`/production/${e}`),style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",marginLeft:"10px"},children:"Cancel"})]})]})},xt="https://tilly.onrender.com",yt="DSP-AL-20010",wt=e=>{let{inventory:r,refreshInventory:n}=e;const[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)({identifier:"",toAccount:"Storage",proofGallons:""}),[h,f]=(0,t.useState)({identifier:"",quantityLost:"",proofGallonsLost:"",reason:"",date:(new Date).toISOString().split("T")[0]}),[p,g]=(0,t.useState)(""),[m,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),[y,w]=(0,t.useState)(null),S=ee(),C="https://tilly.onrender.com";(0,t.useEffect)((()=>{console.log("Inventory prop received:",r);const e=r.filter((e=>["Received","Stored"].includes(e.status)));console.log("Filtered Received/Stored:",e)}),[r]),(0,t.useEffect)((()=>{(async()=>{const e=await fetch(`${xt}/api/daily-summary`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})().then(i).catch((e=>console.error("Daily summary error:",e)))}),[]),(0,t.useEffect)((()=>{r.length>0&&(async()=>{try{const e=await fetch(`${C}/api/sites`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();console.log("Fetched sites:",t),c(t);const n=r.map((e=>e.siteId)).filter(Boolean).reduce(((e,t)=>e.includes(t)?e:[...e,t]),[]);0===n.length&&n.push(yt);const a=n.map((e=>fetch(`${C}/api/locations?siteId=${encodeURIComponent(e)}`).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})))),i=(await Promise.all(a)).flat();console.log("Fetched locations:",i),s(i)}catch(e){console.error("Failed to fetch locations or sites:",e),w("Failed to fetch locations or sites: "+e.message)}})()}),[C,yt]);const T=e=>{if(!e)return"Unknown Location";const t=o.find((t=>t.locationId===e));return t?t.name:"Unknown Location"},k=e=>{if(!e)return"Unknown Site";const t=l.find((t=>t.siteId===e));return t?t.name:"Unknown Site"},E=e=>e.identifier||"N/A",_=r.filter((e=>["Received","Stored"].includes(e.status)&&((E(e)||"").toLowerCase().includes(p.toLowerCase())||(e.type||"").toLowerCase().includes(p.toLowerCase())||(e.description||"").toLowerCase().includes(p.toLowerCase()))));return(0,pt.jsxs)("div",{style:{padding:"20px",backgroundColor:"#2E4655",color:"#FFFFFF",fontFamily:"Arial, sans-serif"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",textAlign:"center"},children:"Inventory Management"}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("button",{onClick:()=>S("/receive"),style:{padding:"10px 20px",backgroundColor:"#EEC930",color:"#000",border:"none",borderRadius:"4px"},children:"Receive Inventory"}),(0,pt.jsx)("button",{onClick:()=>v(!0),style:{marginLeft:"10px",padding:"10px 20px",backgroundColor:"#EEC930",color:"#000",border:"none",borderRadius:"4px"},children:"Move Inventory"}),(0,pt.jsx)("button",{onClick:()=>x(!0),style:{marginLeft:"10px",padding:"10px 20px",backgroundColor:"#EEC930",color:"#000",border:"none",borderRadius:"4px"},children:"Record Loss"})]}),(0,pt.jsx)("div",{style:{marginBottom:"20px"},children:(0,pt.jsx)("input",{type:"text",placeholder:"Search by Item-Lot, Type, or Description",value:p,onChange:e=>g(e.target.value),style:{padding:"10px",width:"300px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"}})}),y&&(0,pt.jsx)("div",{style:{color:"#F86752",backgroundColor:"#ffe6e6",padding:"10px",borderRadius:"4px",marginBottom:"10px",textAlign:"center"},children:y}),(0,pt.jsx)("h3",{style:{color:"#EEC930"},children:"Received/Stored Inventory"}),(0,pt.jsx)("div",{style:{overflowX:"auto"},children:(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"#fff",borderRadius:"8px",marginBottom:"20px"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Item-Lot"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Type"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Quantity"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Unit"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Received Date"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Location"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Site"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Source"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Description"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Unit Cost"})]})}),(0,pt.jsx)("tbody",{children:_.map(((e,t)=>(0,pt.jsxs)("tr",{onClick:()=>(e=>{const t=encodeURIComponent(E(e).replace(/\//g,"_"));S(`/inventory/${t}`)})(e),style:{cursor:"pointer"},children:[(0,pt.jsx)("td",{style:{padding:"10px"},children:E(e)}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.type}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.quantity}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.unit}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.receivedDate}),(0,pt.jsx)("td",{style:{padding:"10px"},children:T(e.locationId)}),(0,pt.jsx)("td",{style:{padding:"10px"},children:k(e.siteId)}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.source||"Unknown"}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.description||"N/A"}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.cost||"N/A"})]},t)))})]})}),(0,pt.jsx)("h3",{style:{color:"#EEC930"},children:"Daily Summary"}),(0,pt.jsx)("div",{style:{overflowX:"auto"},children:(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Date"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Account"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Type"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Total Proof Gallons"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Location"})]})}),(0,pt.jsx)("tbody",{children:a.map(((e,t)=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{style:{padding:"10px"},children:e.date}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.account}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.type}),(0,pt.jsx)("td",{style:{padding:"10px"},children:parseFloat(e.totalProofGallons).toFixed(2)}),(0,pt.jsx)("td",{style:{padding:"10px"},children:T(e.locationId)})]},t)))})]})}),m&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,pt.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"5px",color:"#000"},children:[(0,pt.jsx)("h3",{children:"Move Inventory"}),(0,pt.jsx)("input",{type:"text",placeholder:"Item-Lot (e.g., Grain-NGS123)",value:u.identifier,onChange:e=>d({...u,identifier:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",boxSizing:"border-box",width:"100%"}}),(0,pt.jsxs)("select",{value:u.toAccount,onChange:e=>d({...u,toAccount:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",width:"100%"},children:[(0,pt.jsx)("option",{value:"Storage",children:"Storage"}),(0,pt.jsx)("option",{value:"Processing",children:"Processing"}),(0,pt.jsx)("option",{value:"Production",children:"Production"})]}),(0,pt.jsx)("input",{type:"number",placeholder:"Proof Gallons",value:u.proofGallons,onChange:e=>d({...u,proofGallons:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",boxSizing:"border-box",width:"100%"}}),(0,pt.jsx)("button",{onClick:async()=>{if(u.identifier&&u.proofGallons)try{const e=await fetch(`${C}/api/move`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,proofGallons:parseFloat(u.proofGallons)})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);await n(),d({identifier:"",toAccount:"Storage",proofGallons:""}),v(!1),w(null)}catch(e){console.error("Move error:",e),w("Failed to move item: "+e.message)}else w("Please fill in Identifier and Proof Gallons.")},style:{padding:"10px 20px",backgroundColor:"#EEC930",color:"#000",border:"none",borderRadius:"4px",marginRight:"10px"},children:"Move"}),(0,pt.jsx)("button",{onClick:()=>v(!1),style:{padding:"10px 20px",backgroundColor:"#ccc",color:"#000",border:"none",borderRadius:"4px"},children:"Cancel"})]})}),b&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,pt.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"5px",color:"#000"},children:[(0,pt.jsx)("h3",{children:"Record Loss"}),(0,pt.jsx)("input",{type:"text",placeholder:"Item-Lot (e.g., Grain-NGS123)",value:h.identifier,onChange:e=>f({...h,identifier:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",boxSizing:"border-box",width:"100%"}}),(0,pt.jsx)("input",{type:"number",placeholder:"Quantity Lost",value:h.quantityLost,onChange:e=>f({...h,quantityLost:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",boxSizing:"border-box",width:"100%"}}),(0,pt.jsx)("input",{type:"number",placeholder:"Proof Gallons Lost",value:h.proofGallonsLost,onChange:e=>f({...h,proofGallonsLost:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",boxSizing:"border-box",width:"100%"}}),(0,pt.jsx)("input",{type:"text",placeholder:"Reason for Loss",value:h.reason,onChange:e=>f({...h,reason:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",boxSizing:"border-box",width:"100%"}}),(0,pt.jsx)("input",{type:"date",value:h.date,onChange:e=>f({...h,date:e.target.value}),style:{display:"block",marginBottom:"10px",padding:"8px",boxSizing:"border-box",width:"100%"}}),(0,pt.jsx)("button",{onClick:async()=>{if(h.identifier&&h.quantityLost&&h.proofGallonsLost&&h.reason)try{const e=await fetch(`${C}/api/record-loss`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,dspNumber:yt})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);await n(),f({identifier:"",quantityLost:"",proofGallonsLost:"",reason:"",date:(new Date).toISOString().split("T")[0]}),x(!1),w(null)}catch(e){console.error("Record loss error:",e),w("Failed to record loss: "+e.message)}else w("Please fill in all fields.")},style:{padding:"10px 20px",backgroundColor:"#EEC930",color:"#000",border:"none",borderRadius:"4px",marginRight:"10px"},children:"Record Loss"}),(0,pt.jsx)("button",{onClick:()=>x(!1),style:{padding:"10px 20px",backgroundColor:"#ccc",color:"#000",border:"none",borderRadius:"4px"},children:"Cancel"})]})})]})},St=e=>{let{inventory:r,refreshInventory:n}=e;const[a,i]=(0,t.useState)({batchId:"",product:"Old Black Bear Vodka",proofGallons:"",targetProof:"80",netContents:"",alcoholContent:"",healthWarning:!1}),[o,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(null),h="https://tilly.onrender.com";(0,t.useEffect)((()=>{console.log("Processing inventory:",r)}),[r]);const f=e=>`${e.item}-${e.lotNumber}`,p=async e=>{try{if(!(await fetch(`${h}/api/update-batch-id`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldBatchId:e,newBatchId:l})})).ok)throw new Error("Failed to update batch ID");await n(),s(null),c(""),d(null)}catch(t){console.error("Update error:",t),d("Failed to update batch ID: "+t.message)}};return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Processing"}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h3",{children:"Package Product"}),(0,pt.jsx)("input",{type:"text",placeholder:"Batch ID in Processing (e.g., Spirits-NGS123)",value:a.batchId,onChange:e=>i({...a,batchId:e.target.value})}),(0,pt.jsxs)("select",{value:a.product,onChange:e=>i({...a,product:e.target.value}),children:[(0,pt.jsx)("option",{value:"Old Black Bear Vodka",children:"Old Black Bear Vodka (Vodka)"}),(0,pt.jsx)("option",{value:"Old Black Bear Gin",children:"Old Black Bear Gin (Gin)"}),(0,pt.jsx)("option",{value:"Old Black Bear Rum",children:"Old Black Bear Rum (Rum)"}),(0,pt.jsx)("option",{value:"Shine-O-Mite",children:"Shine-O-Mite (Moonshine)"})]}),(0,pt.jsx)("input",{type:"number",placeholder:"Proof Gallons",value:a.proofGallons,onChange:e=>i({...a,proofGallons:e.target.value}),step:"0.01"}),(0,pt.jsx)("input",{type:"number",placeholder:"Target Proof",value:a.targetProof,onChange:e=>i({...a,targetProof:e.target.value}),step:"0.01"}),(0,pt.jsx)("input",{type:"text",placeholder:"Net Contents",value:a.netContents,onChange:e=>i({...a,netContents:e.target.value})}),(0,pt.jsx)("input",{type:"text",placeholder:"Alcohol Content",value:a.alcoholContent,onChange:e=>i({...a,alcoholContent:e.target.value})}),(0,pt.jsxs)("label",{children:[(0,pt.jsx)("input",{type:"checkbox",checked:a.healthWarning,onChange:e=>i({...a,healthWarning:e.target.checked})}),"Include Health Warning (Required)"]}),(0,pt.jsx)("button",{onClick:async()=>{if(!a.batchId||!a.proofGallons||!a.targetProof||!a.netContents||!a.alcoholContent||!a.healthWarning)return void d("Please fill in all fields and confirm health warning.");const e=parseFloat(a.proofGallons),t=parseFloat(a.targetProof),o=.198129,s=r.find((e=>f(e)===a.batchId.trim()&&"Processing"===e.account));if(!s)return void d("Batch not found in Processing!");const l=e/(t/100),c=l-e/(parseFloat(s.proof||"0")/100),u=.98*l,p=Math.floor(u/o),g=p*o*(t/100);try{const e=await fetch(`${h}/api/package`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batchId:a.batchId,product:a.product,proofGallons:g.toFixed(2),targetProof:t.toFixed(2),waterVolume:c.toFixed(2),bottleCount:p,netContents:a.netContents,alcoholContent:a.alcoholContent,healthWarning:a.healthWarning,toAccount:"Processing",date:(new Date).toISOString().split("T")[0]})});if(!e.ok){const t=await e.text();throw new Error(`HTTP error! status: ${e.status}, body: ${t}`)}const r=await e.json();console.log("Package response:",r),await n(),i({batchId:"",product:"Old Black Bear Vodka",proofGallons:"",targetProof:"80",netContents:"",alcoholContent:"",healthWarning:!1}),d(null)}catch(m){console.error("Package error:",m),d("Failed to package item: "+m.message)}},children:"Complete Packaging"}),u&&(0,pt.jsx)("p",{style:{color:"red"},children:u})]}),(0,pt.jsx)("h2",{children:"Processing Inventory"}),(0,pt.jsx)("h3",{children:"Liquid in Processing"}),(0,pt.jsxs)("table",{children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Batch ID"}),(0,pt.jsx)("th",{children:"Type"}),(0,pt.jsx)("th",{children:"Quantity (WG)"}),(0,pt.jsx)("th",{children:"Proof"}),(0,pt.jsx)("th",{children:"Proof Gallons"}),(0,pt.jsx)("th",{children:"Date Received"}),(0,pt.jsx)("th",{children:"Source"}),(0,pt.jsx)("th",{children:"DSP Number"}),(0,pt.jsx)("th",{children:"Actions"})]})}),(0,pt.jsx)("tbody",{children:r.filter((e=>"Processing"===e.account&&"Processing"===e.status)).map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:o===f(e)?(0,pt.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value)}):f(e)}),(0,pt.jsx)("td",{children:e.type}),(0,pt.jsx)("td",{children:e.quantity||"0.00"}),(0,pt.jsx)("td",{children:e.proof||"0.00"}),(0,pt.jsx)("td",{children:e.proofGallons||"0.00"}),(0,pt.jsx)("td",{children:e.receivedDate||"N/A"}),(0,pt.jsx)("td",{children:e.source||"N/A"}),(0,pt.jsx)("td",{children:e.dspNumber||"N/A"}),(0,pt.jsx)("td",{children:o===f(e)?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("button",{onClick:()=>p(f(e)),children:"Save"}),(0,pt.jsx)("button",{onClick:()=>s(null),children:"Cancel"})]}):(0,pt.jsx)("button",{onClick:()=>{s(f(e)),c(f(e))},children:"Edit"})})]},f(e))))})]}),(0,pt.jsx)("h3",{children:"Bottled in Processing"}),(0,pt.jsxs)("table",{children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Batch ID"}),(0,pt.jsx)("th",{children:"Type"}),(0,pt.jsx)("th",{children:"Quantity (WG)"}),(0,pt.jsx)("th",{children:"Proof"}),(0,pt.jsx)("th",{children:"Proof Gallons"}),(0,pt.jsx)("th",{children:"Date Packaged"}),(0,pt.jsx)("th",{children:"Source"}),(0,pt.jsx)("th",{children:"DSP Number"}),(0,pt.jsx)("th",{children:"Actions"})]})}),(0,pt.jsx)("tbody",{children:r.filter((e=>"Processing"===e.account&&"Packaged"===e.status)).map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:o===f(e)?(0,pt.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value)}):f(e)}),(0,pt.jsx)("td",{children:e.type}),(0,pt.jsx)("td",{children:e.quantity||"0.00"}),(0,pt.jsx)("td",{children:e.proof||"0.00"}),(0,pt.jsx)("td",{children:e.proofGallons||"0.00"}),(0,pt.jsx)("td",{children:e.receivedDate||"N/A"}),(0,pt.jsx)("td",{children:e.source||"N/A"}),(0,pt.jsx)("td",{children:e.dspNumber||"N/A"}),(0,pt.jsx)("td",{children:o===f(e)?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("button",{onClick:()=>p(f(e)),children:"Save"}),(0,pt.jsx)("button",{onClick:()=>s(null),children:"Cancel"})]}):(0,pt.jsx)("button",{onClick:()=>{s(f(e)),c(f(e))},children:"Edit"})})]},f(e))))})]})]})},Ct=()=>(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Sales & Distribution"}),(0,pt.jsx)("p",{children:"Sales features coming soon."})]}),Tt="https://tilly.onrender.com",kt=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(null),s=ee(),l=JSON.parse(localStorage.getItem("user")||"{}"),c=[ct.SuperAdmin,ct.Admin].includes(l.role);(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{const e=await fetch(`${Tt}/api/users`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();r(t)}catch(e){console.error("Fetch users error:",e),o("Failed to fetch users: "+e.message)}};return(0,pt.jsxs)("div",{className:"page-container",style:{overflowY:"auto",maxHeight:"100vh"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",fontSize:"24px",marginBottom:"20px",textAlign:"center"},children:"Users List"}),i&&(0,pt.jsx)("div",{className:"error",children:i}),(0,pt.jsxs)("div",{className:"inventory-actions",children:[(0,pt.jsx)("button",{onClick:()=>{c?s("/users/new"):o("Only Super Admin or Admin can add users")},disabled:!c,children:"Add User"}),(0,pt.jsx)("button",{onClick:async()=>{if(c)if(0!==n.length)try{const e=await fetch(`${Tt}/api/users`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({emails:n})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);a([]),u(),o(null)}catch(e){console.error("Delete users error:",e),o("Failed to delete users: "+e.message)}else o("No users selected to delete");else o("Only Super Admin or Admin can delete users")},disabled:!c||0===n.length,children:"Delete User"}),(0,pt.jsx)("button",{onClick:()=>(async e=>{if(c)if(0!==n.length)try{const t=await fetch(`${Tt}/api/users`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({emails:n,enabled:e})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);a([]),u(),o(null)}catch(t){console.error("Toggle enable error:",t),o(`Failed to ${e?"enable":"disable"} users: `+t.message)}else o("No users selected to enable/disable");else o("Only Super Admin or Admin can enable/disable users")})(!1),disabled:!c||0===n.length,children:"Disable User"})]}),(0,pt.jsx)("div",{className:"inventory-table-container",children:(0,pt.jsxs)("table",{className:"inventory-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Select"}),(0,pt.jsx)("th",{children:"Email"}),(0,pt.jsx)("th",{children:"Role"}),(0,pt.jsx)("th",{children:"Status"})]})}),(0,pt.jsx)("tbody",{children:e.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:(0,pt.jsx)("input",{type:"checkbox",checked:n.includes(e.email),onChange:()=>{return t=e.email,void a((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},disabled:!c})}),(0,pt.jsx)("td",{children:(0,pt.jsx)(et,{to:`/users/${e.email}`,children:e.email})}),(0,pt.jsx)("td",{children:e.role}),(0,pt.jsx)("td",{children:e.enabled?"Enabled":"Disabled"})]},e.email)))})]})})]})};var Et={version:"0.18.5"},_t=1200,At=1252,Ft=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Pt={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Rt=function(e){-1!=Ft.indexOf(e)&&(At=Pt[0]=e)};var jt=function(e){_t=e,Rt(e)};function Nt(){jt(1200),Rt(1252)}function It(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Ot,Dt=function(e){return String.fromCharCode(e)},Lt=function(e){return String.fromCharCode(e)};var Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function zt(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0,l=0,c=0;c<e.length;)i=(r=e.charCodeAt(c++))>>2,o=(3&r)<<4|(n=e.charCodeAt(c++))>>4,s=(15&n)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(n)?s=l=64:isNaN(a)&&(l=64),t+=Mt.charAt(i)+Mt.charAt(o)+Mt.charAt(s)+Mt.charAt(l);return t}function Bt(e){var t="",r=0,n=0,a=0,i=0,o=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)r=Mt.indexOf(e.charAt(l++))<<2|(i=Mt.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(r),n=(15&i)<<4|(o=Mt.indexOf(e.charAt(l++)))>>2,64!==o&&(t+=String.fromCharCode(n)),a=(3&o)<<6|(s=Mt.indexOf(e.charAt(l++))),64!==s&&(t+=String.fromCharCode(a));return t}var Ut=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),Wt=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(ph){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Gt(e){return Ut?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function $t(e){return Ut?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var Ht=function(e){return Ut?Wt(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function Vt(e){if("undefined"===typeof ArrayBuffer)return Ht(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function qt(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}var Kt=Ut?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:Wt(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var Yt=/\u0000/g,Xt=/[\u0001-\u0006]/g;function Qt(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Jt(e,t){var r=""+e;return r.length>=t?r:dn("0",t-r.length)+r}function Zt(e,t){var r=""+e;return r.length>=t?r:dn(" ",t-r.length)+r}function er(e,t){var r=""+e;return r.length>=t?r:r+dn(" ",t-r.length)}var tr=Math.pow(2,32);function rr(e,t){return e>tr||e<-tr?function(e,t){var r=""+Math.round(e);return r.length>=t?r:dn("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:dn("0",t-r.length)+r}(Math.round(e),t)}function nr(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var ar=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ir=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var or={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},sr={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},lr={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cr(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,s=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(s=(d=Math.floor(a))*o+i,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=o,o=s,l=c,c=u;if(u>t&&(c>t?(u=l,s=i):(u=c,s=o)),!r)return[0,n*s,u];var h=Math.floor(n*s/u);return[h,n*s-h*u,u]}function ur(e,t,r){if(e>2958465||e<0)return null;var n=0|e,a=Math.floor(86400*(e-n)),i=0,o=[],s={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,86400==++a&&(s.T=a=0,++n,++s.D)),60===n)o=r?[1317,10,29]:[1900,2,29],i=3;else if(0===n)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var dr=new Date(1899,11,31,0,0,0),hr=dr.getTime(),fr=new Date(1900,2,1,0,0,0);function pr(e,t){var r=e.getTime();return t?r-=1262304e5:e>=fr&&(r+=864e5),(r-(hr+6e4*(e.getTimezoneOffset()-dr.getTimezoneOffset())))/864e5}function gr(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mr(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=gr(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=gr(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),gr(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function vr(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):mr(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Mr(14,pr(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function br(e,t,r,n){var a,i="",o=0,s=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=r.m,c=t.length;break;case 3:return ir[r.m-1][1];case 5:return ir[r.m-1][0];default:return ir[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=r.d,c=t.length;break;case 3:return ar[r.q][0];default:return ar[r.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(s=n>=2?3===n?1e3:100:1===n?10:1,(o=Math.round(s*(r.S+r.u)))>=60*s&&(o=0),"s"===t?0===o?"0":""+o/s:(i=Jt(o,2+n),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):Jt(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*r.D+r.H;break;case"[m]":case"[mm]":a=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":a=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?Jt(a,c):""}function xr(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var yr=/%/g;function wr(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+wr(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),-1===(r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(a+i)%a)+"."+n.substr(i)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Sr=/# (\?+)( ?)\/( ?)(\d+)/;var Cr=/^#*0*\.([0#]+)/,Tr=/\).*[0#]/,kr=/\(###\) ###\\?-####/;function Er(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function _r(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Ar(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Fr(e,t,r){if(40===e.charCodeAt(0)&&!t.match(Tr)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fr("n",n,r):"("+Fr("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return jr(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(yr,""),a=t.length-n.length;return jr(e,n,r*Math.pow(10,2*a))+dn("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return wr(t,r);if(36===t.charCodeAt(0))return"$"+Fr(e,t.substr(" "==t.charAt(1)?2:1),r);var a,i,o,s,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+rr(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=rr(r,0))&&(a=""),a.length>t.length?a:Er(t.substr(0,t.length-a.length))+a;if(i=t.match(Sr))return function(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,s=n;return r+(0===i?"":""+i)+" "+(0===o?dn(" ",e[1].length+1+e[4].length):Zt(o,e[1].length)+e[2]+"/"+e[3]+Jt(s,e[4].length))}(i,l,c);if(t.match(/^#+0+$/))return c+rr(l,t.length-t.indexOf("0"));if(i=t.match(Cr))return a=_r(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Er(i[1])).replace(/\.$/,"."+Er(i[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+dn("0",Er(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+_r(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+xr(rr(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fr(e,t,-r):xr(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,i[1].length)))+"."+Jt(Ar(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Fr(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qt(Fr(e,t.replace(/[\\-]/g,""),r)),o=0,Qt(Qt(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<a.length?a.charAt(o++):"0"===e?"0":""})));if(t.match(kr))return"("+(a=Fr(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=cr(l,Math.pow(10,o)-1,!1),a=""+c," "==(u=jr("n",i[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=er(s[2],o)).length<i[4].length&&(u=Er(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c+((s=cr(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?Zt(s[1],o)+i[2]+"/"+i[3]+er(s[2],o):dn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=rr(r,0),t.length<=a.length?a:Er(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,h=t.length-a.length-d;return Er(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Ar(r,i[1].length),r<0?"-"+Fr(e,t,-r):xr(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?Jt(0,3-e.length):"")+e}))+"."+Jt(o,i[1].length);switch(t){case"###,##0.00":return Fr(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=xr(rr(l,0));return"0"!==f?c+f:"";case"###,###.00":return Fr(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Fr(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Pr(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Pr(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),!(r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(a+i)%a)+"."+n.substr(i)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Rr(e,t,r){if(40===e.charCodeAt(0)&&!t.match(Tr)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Rr("n",n,r):"("+Rr("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return jr(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(yr,""),a=t.length-n.length;return jr(e,n,r*Math.pow(10,2*a))+dn("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return Pr(t,r);if(36===t.charCodeAt(0))return"$"+Rr(e,t.substr(" "==t.charAt(1)?2:1),r);var a,i,o,s,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Jt(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,0===r&&(a=""),a.length>t.length?a:Er(t.substr(0,t.length-a.length))+a;if(i=t.match(Sr))return function(e,t,r){return r+(0===t?"":""+t)+dn(" ",e[1].length+2+e[4].length)}(i,l,c);if(t.match(/^#+0+$/))return c+Jt(l,t.length-t.indexOf("0"));if(i=t.match(Cr))return a=(a=(""+r).replace(/^([^\.]+)$/,"$1."+Er(i[1])).replace(/\.$/,"."+Er(i[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+dn("0",Er(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+xr(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Rr(e,t,-r):xr(""+r)+"."+dn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Rr(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Qt(Rr(e,t.replace(/[\\-]/g,""),r)),o=0,Qt(Qt(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<a.length?a.charAt(o++):"0"===e?"0":""})));if(t.match(kr))return"("+(a=Rr(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=cr(l,Math.pow(10,o)-1,!1),a=""+c," "==(u=jr("n",i[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=er(s[2],o)).length<i[4].length&&(u=Er(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c+((s=cr(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?Zt(s[1],o)+i[2]+"/"+i[3]+er(s[2],o):dn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Er(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,h=t.length-a.length-d;return Er(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Rr(e,t,-r):xr(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?Jt(0,3-e.length):"")+e}))+"."+Jt(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=xr(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return Rr(e,t.slice(0,t.lastIndexOf(".")),r)+Er(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function jr(e,t,r){return(0|r)===r?Rr(e,t,r):Fr(e,t,r)}var Nr=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ir(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":nr(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(Nr))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var Or=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Dr(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function Lr(e,t){var r=function(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!==typeof t)return[4,4===r.length||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var i=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,i];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var o=r[0].match(Or),s=r[1].match(Or);return Dr(t,o)?[n,r[0]]:Dr(t,s)?[n,r[1]]:[n,r[null!=o&&null!=s?2:1]]}return[n,i]}function Mr(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:or)[e])&&(n=r.table&&r.table[sr[e]]||or[sr[e]]),null==n&&(n=lr[e]||"General")}if(nr(n,0))return vr(t,r);t instanceof Date&&(t=pr(t,r.date1904));var a=Lr(n,t);if(nr(a[1]))return vr(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var a,i,o,s=[],l="",c=0,u="",d="t",h="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!nr(e,c))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(o=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(o);s[s.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";s[s.length]={t:p,v:f},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=ur(t,r,"2"===e.charAt(c+1))))return"";s[s.length]={t:"X",v:e.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=ur(t,r)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===d.toLowerCase()&&(u="M"),"h"===u&&(u=h),s[s.length]={t:u,v:l},d=u;break;case"A":case"a":case"\u4e0a":var g={t:u,v:u};if(null==a&&(a=ur(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(g.v=a.H>=12?"P":"A"),g.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(g.v=a.H>=12?"PM":"AM"),g.t="T",c+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=a&&(g.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),g.t="T",c+=5,h="h"):(g.t="t",++c),null==a&&"T"===g.t)return"";s[s.length]=g,d=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(Nr)){if(null==a&&null==(a=ur(t,r)))return"";s[s.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ir(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;s[s.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;s[s.length]={t:u,v:l},d=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":s[s.length]={t:1===n?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:u,v:u},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++c}var m,v=0,b=0;for(c=s.length-1,d="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=h,d="h",v<1&&(v=1);break;case"s":(m=s[c].v.match(/\.0+$/))&&(b=Math.max(b,m[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":d=s[c].t;break;case"m":"s"===d&&(s[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[c].v.match(/[Hh]/)&&(v=1),v<2&&s[c].v.match(/[Mm]/)&&(v=2),v<3&&s[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var x,y="";for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=br(s[c].t.charCodeAt(0),s[c].v,a,b),s[c].t="t";break;case"n":case"?":for(x=c+1;null!=s[x]&&("?"===(u=s[x].t)||"D"===u||(" "===u||"t"===u)&&null!=s[x+1]&&("?"===s[x+1].t||"t"===s[x+1].t&&"/"===s[x+1].v)||"("===s[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[x].v||" "===s[x].v&&null!=s[x+1]&&"?"==s[x+1].t));)s[c].v+=s[x].v,s[x]={v:"",t:";"},++x;y+=s[c].v,c=x-1;break;case"G":s[c].t="t",s[c].v=vr(t,r)}var w,S,C="";if(y.length>0){40==y.charCodeAt(0)?(w=t<0&&45===y.charCodeAt(0)?-t:t,S=jr("n",y,w)):(S=jr("n",y,w=t<0&&n>1?-t:t),w<0&&s[0]&&"t"==s[0].t&&(S=S.substr(1),s[0].v="-"+s[0].v)),x=S.length-1;var T=s.length;for(c=0;c<s.length;++c)if(null!=s[c]&&"t"!=s[c].t&&s[c].v.indexOf(".")>-1){T=c;break}var k=s.length;if(T===s.length&&-1===S.indexOf("E")){for(c=s.length-1;c>=0;--c)null!=s[c]&&-1!=="n?".indexOf(s[c].t)&&(x>=s[c].v.length-1?(x-=s[c].v.length,s[c].v=S.substr(x+1,s[c].v.length)):x<0?s[c].v="":(s[c].v=S.substr(0,x+1),x=-1),s[c].t="t",k=c);x>=0&&k<s.length&&(s[k].v=S.substr(0,x+1)+s[k].v)}else if(T!==s.length&&-1===S.indexOf("E")){for(x=S.indexOf(".")-1,c=T;c>=0;--c)if(null!=s[c]&&-1!=="n?".indexOf(s[c].t)){for(i=s[c].v.indexOf(".")>-1&&c===T?s[c].v.indexOf(".")-1:s[c].v.length-1,C=s[c].v.substr(i+1);i>=0;--i)x>=0&&("0"===s[c].v.charAt(i)||"#"===s[c].v.charAt(i))&&(C=S.charAt(x--)+C);s[c].v=C,s[c].t="t",k=c}for(x>=0&&k<s.length&&(s[k].v=S.substr(0,x+1)+s[k].v),x=S.indexOf(".")+1,c=T;c<s.length;++c)if(null!=s[c]&&(-1!=="n?(".indexOf(s[c].t)||c===T)){for(i=s[c].v.indexOf(".")>-1&&c===T?s[c].v.indexOf(".")+1:0,C=s[c].v.substr(0,i);i<s[c].v.length;++i)x<S.length&&(C+=S.charAt(x++));s[c].v=C,s[c].t="t",k=c}}}for(c=0;c<s.length;++c)null!=s[c]&&"n?".indexOf(s[c].t)>-1&&(w=n>1&&t<0&&c>0&&"-"===s[c-1].v?-t:t,s[c].v=jr(s[c].t,s[c].v,w),s[c].t="t");var E="";for(c=0;c!==s.length;++c)null!=s[c]&&(E+=s[c].v);return E}(a[1],t,r,a[0])}function zr(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(void 0!=or[r]){if(or[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return or[t]=e,t}function Br(e){for(var t=0;392!=t;++t)void 0!==e[t]&&zr(e[t],t)}function Ur(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',or=e}var Wr=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var Gr=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)a[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=a[t]=r>>>8^e[255&r];var i=[];for(n=1;16!=n;++n)i[n-1]="undefined"!==typeof Int32Array?a.subarray(256*n,256*n+256):a.slice(256*n,256*n+256);return i}(t),n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],l=r[5],c=r[6],u=r[7],d=r[8],h=r[9],f=r[10],p=r[11],g=r[12],m=r[13],v=r[14];return e.table=t,e.bstr=function(e,r){for(var n=~r,a=0,i=e.length;a<i;)n=n>>>8^t[255&(n^e.charCodeAt(a++))];return~n},e.buf=function(e,r){for(var b=~r,x=e.length-15,y=0;y<x;)b=v[e[y++]^255&b]^m[e[y++]^b>>8&255]^g[e[y++]^b>>16&255]^p[e[y++]^b>>>24]^f[e[y++]]^h[e[y++]]^d[e[y++]]^u[e[y++]]^c[e[y++]]^l[e[y++]]^s[e[y++]]^o[e[y++]]^i[e[y++]]^a[e[y++]]^n[e[y++]]^t[e[y++]];for(x+=15;y<x;)b=b>>>8^t[255&(b^e[y++])];return~b},e.str=function(e,r){for(var n=~r,a=0,i=e.length,o=0,s=0;a<i;)(o=e.charCodeAt(a++))<128?n=n>>>8^t[255&(n^o)]:o<2048?n=(n=n>>>8^t[255&(n^(192|o>>6&31))])>>>8^t[255&(n^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),s=1023&e.charCodeAt(a++),n=(n=(n=(n=n>>>8^t[255&(n^(240|o>>8&7))])>>>8^t[255&(n^(128|o>>2&63))])>>>8^t[255&(n^(128|s>>6&15|(3&o)<<4))])>>>8^t[255&(n^(128|63&s))]):n=(n=(n=n>>>8^t[255&(n^(224|o>>12&15))])>>>8^t[255&(n^(128|o>>6&63))])>>>8^t[255&(n^(128|63&o))];return~n},e}(),$r=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function i(e){Ba(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),a=e.read_shift(2),i=e.l+a,o={};if(21589===n)1&(r=e.read_shift(1))&&(o.mtime=e.read_shift(4)),a>5&&(2&r&&(o.atime=e.read_shift(4)),4&r&&(o.ctime=e.read_shift(4))),o.mtime&&(o.mt=new Date(1e3*o.mtime));e.l=i,t[n]=o}return t}function o(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=S(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(Ut&&Buffer.isBuffer(e)?e.toString("binary"):S(e)).split("\r\n"),a=0,i="";for(a=0;a<n.length;++a)if(i=n[a],/^Content-Location:/i.test(i)&&(i=i.slice(i.indexOf("file")),r||(r=i.slice(0,i.lastIndexOf("/")+1)),i.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),i.slice(0,r.length)!=r););var o=(n[1]||"").match(/boundary="(.*?)"/);if(!o)throw new Error("MAD cannot find boundary");var s="--"+(o[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};h(u);var d,f=0;for(a=0;a<n.length;++a){var p=n[a];p!==s&&p!==s+"--"||(f++&&ce(u,n.slice(d,a),r),d=a)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,a,i,o,s,f=512,p=[],g=e.slice(0,512);Ba(g,0);var m=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(b,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(g);switch(r=m[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==m[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==f&&Ba(g=e.slice(0,f),28);var x=e.slice(0,f);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(g,r);var y=g.read_shift(4,"i");if(3===r&&0!==y)throw new Error("# Directory Sectors: Expected 0 saw "+y);g.l+=4,i=g.read_shift(4,"i"),g.l+=4,g.chk("00100000","Mini Stream Cutoff Size: "),o=g.read_shift(4,"i"),n=g.read_shift(4,"i"),s=g.read_shift(4,"i"),a=g.read_shift(4,"i");for(var w=-1,C=0;C<109&&!((w=g.read_shift(4,"i"))<0);++C)p[C]=w;var T=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],a=1;a<r;++a)n[a-1]=e.slice(a*t,(a+1)*t);return n[r-1]=e.slice(r*t),n}(e,f);c(s,a,T,f,p);var k=function(e,t,r,n){var a=e.length,i=[],o=[],s=[],l=[],c=n-1,u=0,d=0,h=0,f=0;for(u=0;u<a;++u)if(s=[],(h=u+t)>=a&&(h-=a),!o[h]){l=[];var p=[];for(d=h;d>=0;){p[d]=!0,o[d]=!0,s[s.length]=d,l.push(e[d]);var g=r[Math.floor(4*d/n)];if(n<4+(f=4*d&c))throw new Error("FAT boundary crossed: "+d+" 4 "+n);if(!e[g])break;if(p[d=ja(e[g],f)])break}i[h]={nodes:s,data:sa([l])}}return i}(T,i,p,f);k[i].name="!Directory",n>0&&o!==v&&(k[o].name="!MiniFAT"),k[p[0]].name="!FAT",k.fat_addrs=p,k.ssz=f;var E=[],_=[],A=[];!function(e,t,r,n,a,i,o,s){for(var c,h=0,f=n.length?2:0,p=t[e].data,g=0,m=0;g<p.length;g+=128){var b=p.slice(g,g+128);Ba(b,64),m=b.read_shift(2),c=ca(b,0,m-f),n.push(c);var x={name:c,type:b.read_shift(1),color:b.read_shift(1),L:b.read_shift(4,"i"),R:b.read_shift(4,"i"),C:b.read_shift(4,"i"),clsid:b.read_shift(16),state:b.read_shift(4,"i"),start:0,size:0};0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(x.ct=d(b,b.l-8)),0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(x.mt=d(b,b.l-8)),x.start=b.read_shift(4,"i"),x.size=b.read_shift(4,"i"),x.size<0&&x.start<0&&(x.size=x.type=0,x.start=v,x.name=""),5===x.type?(h=x.start,a>0&&h!==v&&(t[h].name="!StreamData")):x.size>=4096?(x.storage="fat",void 0===t[x.start]&&(t[x.start]=u(r,x.start,t.fat_addrs,t.ssz)),t[x.start].name=x.name,x.content=t[x.start].data.slice(0,x.size)):(x.storage="minifat",x.size<0?x.size=0:h!==v&&x.start!==v&&t[h]&&(x.content=l(x,t[h].data,(t[s]||{}).data))),x.content&&Ba(x.content,0),i[c]=x,o.push(x)}}(i,k,T,E,n,{},_,o),function(e,t,r){for(var n=0,a=0,i=0,o=0,s=0,l=r.length,c=[],u=[];n<l;++n)c[n]=u[n]=n,t[n]=r[n];for(;s<u.length;++s)a=e[n=u[s]].L,i=e[n].R,o=e[n].C,c[n]===n&&(-1!==a&&c[a]!==a&&(c[n]=c[a]),-1!==i&&c[i]!==i&&(c[n]=c[i])),-1!==o&&(c[o]=n),-1!==a&&n!=c[n]&&(c[a]=c[n],u.lastIndexOf(a)<s&&u.push(a)),-1!==i&&n!=c[n]&&(c[i]=c[n],u.lastIndexOf(i)<s&&u.push(i));for(n=1;n<l;++n)c[n]===n&&(-1!==i&&c[i]!==i?c[n]=c[i]:-1!==a&&c[a]!==a&&(c[n]=c[a]));for(n=1;n<l;++n)if(0!==e[n].type){if((s=n)!=c[s])do{s=c[s],t[n]=t[s]+"/"+t[n]}while(0!==s&&-1!==c[s]&&s!=c[s]);c[n]=-1}for(t[0]+="/",n=1;n<l;++n)2!==e[n].type&&(t[n]+="/")}(_,A,E),E.shift();var F={FileIndex:_,FullPaths:A};return t&&t.raw&&(F.raw={header:x,sectors:T}),F}function l(e,t,r){for(var n=e.start,a=e.size,i=[],o=n;r&&a>0&&o>=0;)i.push(t.slice(o*m,o*m+m)),a-=m,o=ja(r,4*o);return 0===i.length?Wa(0):Kt(i).slice(0,e.size)}function c(e,t,r,n,a){var i=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var o=r[e],s=(n>>>2)-1;if(!o)return;for(var l=0;l<s&&(i=ja(o,4*l))!==v;++l)a.push(i);c(ja(o,n-4),t-1,r,n,a)}}function u(e,t,r,n,a){var i=[],o=[];a||(a=[]);var s=n-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,i[i.length]=l,o.push(e[l]);var u=r[Math.floor(4*l/n)];if(n<4+(c=4*l&s))throw new Error("FAT boundary crossed: "+l+" 4 "+n);if(!e[u])break;l=ja(e[u],c)}return{nodes:i,data:sa([o])}}function d(e,t){return new Date(1e3*(Ra(e,t+4)/1e7*Math.pow(2,32)+Ra(e,t)/1e7-11644473600))}function h(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="\x01Sh33tJ5";if($r.find(e,"/"+t))return;var r=Wa(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){h(e);for(var a=!1,i=!1,o=e.FullPaths.length-1;o>=0;--o){var s=e.FileIndex[o];switch(s.type){case 0:i?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(s.R*s.L*s.C)&&(a=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},d=[];for(o=0;o<e.FullPaths.length;++o)u[e.FullPaths[o]]=!0,0!==e.FileIndex[o].type&&d.push([e.FullPaths[o],e.FileIndex[o]]);for(o=0;o<d.length;++o){var f=r(d[o][0]);(i=u[f])||(d.push([f,{name:n(f).replace("/",""),type:1,clsid:y,ct:l,mt:l,content:null}]),u[f]=!0)}for(d.sort((function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),a=0,i=0,o=Math.min(r.length,n.length);a<o;++a){if(i=r[a].length-n[a].length)return i;if(r[a]!=n[a])return r[a]<n[a]?-1:1}return r.length-n.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],o=0;o<d.length;++o)e.FullPaths[o]=d[o][0],e.FileIndex[o]=d[o][1];for(o=0;o<d.length;++o){var p=e.FileIndex[o],g=e.FullPaths[o];if(p.name=n(g).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||y,0===o)p.C=d.length>1?1:-1,p.size=0,p.type=5;else if("/"==g.slice(-1)){for(c=o+1;c<d.length&&r(e.FullPaths[c])!=g;++c);for(p.C=c>=d.length?-1:c,c=o+1;c<d.length&&r(e.FullPaths[c])!=r(g);++c);p.R=c>=d.length?-1:c,p.type=1}else r(e.FullPaths[o+1]||"")==r(g)&&(p.R=o+1),p.type=2}}}function p(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],i=e.FullPaths[0],o=i,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(o=e.FullPaths[l].slice(i.length),(s=e.FileIndex[l]).size&&s.content&&"\x01Sh33tJ5"!=o){o=o.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=s.content,u=Ut&&Buffer.isBuffer(c)?c.toString("binary"):S(c),d=0,h=Math.min(1024,u.length),f=0,p=0;p<=h;++p)(f=u.charCodeAt(p))>=32&&f<128&&++d;var g=d>=4*h/5;a.push(n),a.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+o),a.push("Content-Transfer-Encoding: "+(g?"quoted-printable":"base64")),a.push("Content-Type: "+oe(s,o)),a.push(""),a.push(g?le(u):se(u))}return a.push(n+"--\r\n"),a.join("\r\n")}(e,r);if(f(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],i=[],o=Wa(1),s=r.compression?8:0,l=0;0;var c=0,u=0,d=0,h=0,f=e.FullPaths[0],p=f,g=e.FileIndex[0],m=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(g=e.FileIndex[c]).size&&g.content&&"\x01Sh33tJ5"!=p){var b=d,x=Wa(p.length);for(u=0;u<p.length;++u)x.write_shift(1,127&p.charCodeAt(u));x=x.slice(0,x.l),m[h]=Gr.buf(g.content,0);var y=g.content;8==s&&(y=C(y)),(o=Wa(30)).write_shift(4,67324752),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),g.mt?a(o,g.mt):o.write_shift(4,0),o.write_shift(-4,8&l?0:m[h]),o.write_shift(4,8&l?0:y.length),o.write_shift(4,8&l?0:g.content.length),o.write_shift(2,x.length),o.write_shift(2,0),d+=o.length,n.push(o),d+=x.length,n.push(x),d+=y.length,n.push(y),8&l&&((o=Wa(12)).write_shift(-4,m[h]),o.write_shift(4,y.length),o.write_shift(4,g.content.length),d+=o.l,n.push(o)),(o=Wa(46)).write_shift(4,33639248),o.write_shift(2,0),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),o.write_shift(4,0),o.write_shift(-4,m[h]),o.write_shift(4,y.length),o.write_shift(4,g.content.length),o.write_shift(2,x.length),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(4,0),o.write_shift(4,b),v+=o.l,i.push(o),v+=x.length,i.push(x),++h}return o=Wa(22),o.write_shift(4,101010256),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,h),o.write_shift(2,h),o.write_shift(4,v),o.write_shift(4,d),o.write_shift(2,0),Kt([Kt(n),Kt(i),o])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var a=e.FileIndex[n];if(a.content){var i=a.content.length;i>0&&(i<4096?t+=i+63>>6:r+=i+511>>9)}}for(var o=e.FullPaths.length+3>>2,s=t+127>>7,l=(t+7>>3)+r+o+s,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var d=[1,u,c,s,o,r,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),i=Wa(n[7]<<9),o=0,s=0;for(o=0;o<8;++o)i.write_shift(1,x[o]);for(o=0;o<8;++o)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),o=0;o<3;++o)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,n[2]),i.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:v),i.write_shift(4,n[3]),i.write_shift(-4,n[1]?n[0]-1:v),i.write_shift(4,n[1]),o=0;o<109;++o)i.write_shift(-4,o<n[2]?n[1]+o:-1);if(n[1])for(s=0;s<n[1];++s){for(;o<236+127*s;++o)i.write_shift(-4,o<n[2]?n[1]+o:-1);i.write_shift(-4,s===n[1]-1?v:s+1)}var l=function(e){for(s+=e;o<s-1;++o)i.write_shift(-4,o+1);e&&(++o,i.write_shift(-4,v))};for(s=o=0,s+=n[1];o<s;++o)i.write_shift(-4,w.DIFSECT);for(s+=n[2];o<s;++o)i.write_shift(-4,w.FATSECT);l(n[3]),l(n[4]);for(var c=0,u=0,d=e.FileIndex[0];c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&((u=d.content.length)<4096||(d.start=s,l(u+511>>9)));for(l(n[6]+7>>3);511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(s=o=0,c=0;c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&(!(u=d.content.length)||u>=4096||(d.start=s,l(u+63>>6)));for(;511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(o=0;o<n[4]<<2;++o){var h=e.FullPaths[o];if(h&&0!==h.length){d=e.FileIndex[o],0===o&&(d.start=d.size?d.start-1:v);var p=0===o&&r.root||d.name;if(u=2*(p.length+1),i.write_shift(64,p,"utf16le"),i.write_shift(2,u),i.write_shift(1,d.type),i.write_shift(1,d.color),i.write_shift(-4,d.L),i.write_shift(-4,d.R),i.write_shift(-4,d.C),d.clsid)i.write_shift(16,d.clsid,"hex");else for(c=0;c<4;++c)i.write_shift(4,0);i.write_shift(4,d.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,d.start),i.write_shift(4,d.size),i.write_shift(4,0)}else{for(c=0;c<17;++c)i.write_shift(4,0);for(c=0;c<3;++c)i.write_shift(4,-1);for(c=0;c<12;++c)i.write_shift(4,0)}}for(o=1;o<e.FileIndex.length;++o)if((d=e.FileIndex[o]).size>=4096)if(i.l=d.start+1<<9,Ut&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+511&-512;else{for(c=0;c<d.size;++c)i.write_shift(1,d.content[c]);for(;511&c;++c)i.write_shift(1,0)}for(o=1;o<e.FileIndex.length;++o)if((d=e.FileIndex[o]).size>0&&d.size<4096)if(Ut&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+63&-64;else{for(c=0;c<d.size;++c)i.write_shift(1,d.content[c]);for(;63&c;++c)i.write_shift(1,0)}if(Ut)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}t.version="1.2.1";var g,m=64,v=-2,b="d0cf11e0a1b11ae1",x=[208,207,17,224,161,177,26,225],y="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:b,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function S(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function C(e){return g?g.deflateRawSync(e):K(e)}var T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var A="undefined"!==typeof Uint8Array,F=A?new Uint8Array(256):[],P=0;P<256;++P)F[P]=_(P);function R(e,t){var r=F[255&e];return t<=8?r>>>8-t:(r=r<<8|F[e>>8&255],t<=16?r>>>16-t:(r=r<<8|F[e>>16&255])>>>24-t)}function j(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function N(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function I(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function O(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function D(e,t,r){var n=7&t,a=t>>>3,i=(1<<r)-1,o=e[a]>>>n;return r<8-n?o&i:(o|=e[a+1]<<8-n,r<16-n?o&i:(o|=e[a+2]<<16-n,r<24-n?o&i:(o|=e[a+3]<<24-n)&i))}function L(e,t,r){var n=7&t,a=t>>>3;return n<=5?e[a]|=(7&r)<<n:(e[a]|=r<<n&255,e[a+1]=(7&r)>>8-n),t+3}function M(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function z(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function B(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function U(e,t){var r=e.length,n=2*r>t?2*r:t+5,a=0;if(r>=t)return e;if(Ut){var i=$t(n);if(e.copy)e.copy(i);else for(;a<e.length;++a)i[a]=e[a];return i}if(A){var o=new Uint8Array(n);if(o.set)o.set(e);else for(;a<r;++a)o[a]=e[a];return o}return e.length=n,e}function W(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function G(e,t,r){var n=1,a=0,i=0,o=0,s=0,l=e.length,c=A?new Uint16Array(32):W(32);for(i=0;i<32;++i)c[i]=0;for(i=l;i<r;++i)e[i]=0;l=e.length;var u=A?new Uint16Array(l):W(l);for(i=0;i<l;++i)c[a=e[i]]++,n<a&&(n=a),u[i]=0;for(c[0]=0,i=1;i<=n;++i)c[i+16]=s=s+c[i-1]<<1;for(i=0;i<l;++i)0!=(s=e[i])&&(u[i]=c[s+16]++);var d=0;for(i=0;i<l;++i)if(0!=(d=e[i]))for(s=R(u[i],n)>>n-d,o=(1<<n+4-d)-1;o>=0;--o)t[s|o<<d]=15&d|i<<4;return n}var $=A?new Uint16Array(512):W(512),H=A?new Uint16Array(32):W(32);if(!A){for(var V=0;V<512;++V)$[V]=0;for(V=0;V<32;++V)H[V]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);G(e,H,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);G(r,$,288)}();var q=function(){for(var e=A?new Uint8Array(32768):[],t=0,r=0;t<E.length-1;++t)for(;r<E[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=A?new Uint8Array(259):[];for(t=0,r=0;t<k.length-1;++t)for(;r<k[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),a=r+n==e.length;for(t.write_shift(1,+a),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var a=0,i=0,o=A?new Uint16Array(32768):[];i<t.length;){var s=Math.min(65535,t.length-i);if(s<10){for(7&(a=L(r,a,+!(i+s!=t.length)))&&(a+=8-(7&a)),r.l=a/8|0,r.write_shift(2,s),r.write_shift(2,65535&~s);s-- >0;)r[r.l++]=t[i++];a=8*r.l}else{a=L(r,a,+!(i+s!=t.length)+2);for(var l=0;s-- >0;){var c=t[i],u=-1,d=0;if((u=o[l=32767&(l<<5^c)])&&((u|=-32768&i)>i&&(u-=32768),u<i))for(;t[u+d]==t[i+d]&&d<250;)++d;if(d>2){(c=n[d])<=22?a=z(r,a,F[c+1]>>1)-1:(z(r,a,3),z(r,a+=5,F[c-23]>>5),a+=3);var h=c<8?0:c-4>>2;h>0&&(B(r,a,d-k[c]),a+=h),c=e[i-u],a=z(r,a,F[c]>>3),a-=3;var f=c<4?0:c-2>>1;f>0&&(B(r,a,i-u-E[c]),a+=f);for(var p=0;p<d;++p)o[l]=32767&i,l=32767&(l<<5^t[i]),++i;s-=d-1}else c<=143?c+=48:a=M(r,a,1),a=z(r,a,F[c]),o[l]=32767&i,++i}a=z(r,a,0)-1}}return r.l=(a+7)/8|0,r.l}(t,r)}}();function K(e){var t=Wa(50+Math.floor(1.1*e.length)),r=q(e,t);return t.slice(0,r)}var Y=A?new Uint16Array(32768):W(32768),X=A?new Uint16Array(32768):W(32768),Q=A?new Uint16Array(128):W(128),J=1,Z=1;function ee(e,t){var r=I(e,t)+257,n=I(e,t+=5)+1,a=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var i=0,o=A?new Uint8Array(19):W(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=A?new Uint8Array(8):W(8),u=A?new Uint8Array(8):W(8),d=o.length,h=0;h<a;++h)o[T[h]]=i=N(e,t),l<i&&(l=i),c[i]++,t+=3;var f=0;for(c[0]=0,h=1;h<=l;++h)u[h]=f=f+c[h-1]<<1;for(h=0;h<d;++h)0!=(f=o[h])&&(s[h]=u[f]++);var p=0;for(h=0;h<d;++h)if(0!=(p=o[h])){f=F[s[h]]>>8-p;for(var g=(1<<7-p)-1;g>=0;--g)Q[f|g<<p]=7&p|h<<3}var m=[];for(l=1;m.length<r+n;)switch(t+=7&(f=Q[O(e,t)]),f>>>=3){case 16:for(i=3+j(e,t),t+=2,f=m[m.length-1];i-- >0;)m.push(f);break;case 17:for(i=3+N(e,t),t+=3;i-- >0;)m.push(0);break;case 18:for(i=11+O(e,t),t+=7;i-- >0;)m.push(0);break;default:m.push(f),l<f&&(l=f)}var v=m.slice(0,r),b=m.slice(r);for(h=r;h<286;++h)v[h]=0;for(h=n;h<30;++h)b[h]=0;return J=G(v,Y,286),Z=G(b,X,30),t}function te(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[Gt(t),2];for(var r=0,n=0,a=$t(t||1<<18),i=0,o=a.length>>>0,s=0,l=0;0==(1&n);)if(n=N(e,r),r+=3,n>>>1!=0)for(n>>1==1?(s=9,l=5):(r=ee(e,r),s=J,l=Z);;){!t&&o<i+32767&&(o=(a=U(a,i+32767)).length);var c=D(e,r,s),u=n>>>1==1?$[c]:Y[c];if(r+=15&u,0===((u>>>=4)>>>8&255))a[i++]=u;else{if(256==u)break;var d=(u-=257)<8?0:u-4>>2;d>5&&(d=0);var h=i+k[u];d>0&&(h+=D(e,r,d),r+=d),c=D(e,r,l),r+=15&(u=n>>>1==1?H[c]:X[c]);var f=(u>>>=4)<4?0:u-2>>1,p=E[u];for(f>0&&(p+=D(e,r,f),r+=f),!t&&o<h&&(o=(a=U(a,h+100)).length);i<h;)a[i]=a[i-p],++i}}else{7&r&&(r+=8-(7&r));var g=e[r>>>3]|e[1+(r>>>3)]<<8;if(r+=32,g>0)for(!t&&o<i+g&&(o=(a=U(a,i+g)).length);g-- >0;)a[i++]=e[r>>>3],r+=8}return t?[a,r+7>>>3]:[a.slice(0,i),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function re(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function ne(e,t){var r=e;Ba(r,0);var n={FileIndex:[],FullPaths:[]};h(n,{root:t.root});for(var a=r.length-4;(80!=r[a]||75!=r[a+1]||5!=r[a+2]||6!=r[a+3])&&a>=0;)--a;r.l=a+4,r.l+=4;var o=r.read_shift(2);r.l+=6;var s=r.read_shift(4);for(r.l=s,a=0;a<o;++a){r.l+=20;var l=r.read_shift(4),c=r.read_shift(4),u=r.read_shift(2),d=r.read_shift(2),f=r.read_shift(2);r.l+=8;var p=r.read_shift(4),g=i(r.slice(r.l+u,r.l+u+d));r.l+=u+d+f;var m=r.l;r.l=p+4,ae(r,l,c,n,g),r.l=m}return n}function ae(e,t,r,n,a){e.l+=2;var o=e.read_shift(2),s=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,a=31&r,i=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(i-1),n.setDate(a);var o=31&t,s=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(s),n.setSeconds(o<<1),n}(e);if(8257&o)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),d=e.read_shift(2),h=e.read_shift(2),f="",p=0;p<d;++p)f+=String.fromCharCode(e[e.l++]);if(h){var m=i(e.slice(e.l,e.l+h));(m[21589]||{}).mt&&(l=m[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=h;var v=e.slice(e.l,e.l+c);switch(s){case 8:v=function(e,t){if(!g)return te(e,t);var r=new(0,g.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var b=!1;8&o&&(134695760==e.read_shift(4)&&(e.read_shift(4),b=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&re(b,"Bad compressed size: "+t+" != "+c),u!=r&&re(b,"Bad uncompressed size: "+r+" != "+u),ue(n,f,v,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oe(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&ie[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&ie[n[1]]?ie[n[1]]:"application/octet-stream"}function se(e){for(var t=zt(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<n.length;++a){var i=n[a];if(0!=i.length)for(var o=0;o<i.length;){var s=76,l=i.slice(o,o+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=i.slice(o,o+s),(o+=s)<i.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function ce(e,t,r){for(var n,a="",i="",o="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":o=c[2].trim();break;case"content-transfer-encoding":i=c[2].trim()}}switch(++s,i.toLowerCase()){case"base64":n=Ht(Bt(t.slice(s).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return Ht(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+i)}var u=ue(e,a.slice(r.length),n,{unsafe:!0});o&&(u.ctype=o)}function ue(e,t,r,a){var i=a&&a.unsafe;i||h(e);var o=!i&&$r.find(e,t);if(!o){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),o={name:n(t),type:2},e.FileIndex.push(o),e.FullPaths.push(s),i||$r.utils.cfb_gc(e)}return o.content=r,o.size=r?r.length:0,a&&(a.CLSID&&(o.clsid=a.CLSID),a.mt&&(o.mt=a.mt),a.ct&&(o.ct=a.ct)),o}return t.find=function(e,t){var r=e.FullPaths.map((function(e){return e.toUpperCase()})),n=r.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),a=!1;47===t.charCodeAt(0)?(a=!0,t=r[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var i=t.toUpperCase(),o=!0===a?r.indexOf(i):n.indexOf(i);if(-1!==o)return e.FileIndex[o];var s=!i.match(Xt);for(i=i.replace(Yt,""),s&&(i=i.replace(Xt,"!")),o=0;o<r.length;++o){if((s?r[o].replace(Xt,"!"):r[o]).replace(Yt,"")==i)return e.FileIndex[o];if((s?n[o].replace(Xt,"!"):n[o]).replace(Yt,"")==i)return e.FileIndex[o]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||Ut&&Buffer.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return o(),s(e.readFileSync(t),r)}(t,r);case"base64":return s(Ht(Bt(t)),r);case"binary":return s(Ht(t),r)}return s(t,r)},t.parse=s,t.write=function(t,r){var n=p(t,r);switch(r&&r.type||"buffer"){case"file":return o(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:S(n);case"base64":return zt("string"==typeof n?n:S(n));case"buffer":if(Ut)return Buffer.isBuffer(n)?n:Wt(n);case"array":return"string"==typeof n?Ht(n):n}return n},t.writeFile=function(t,r,n){o();var a=p(t,n);e.writeFileSync(r,a)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:ue,cfb_del:function(e,t){h(e);var r=$r.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){h(e);var a=$r.find(e,t);if(a)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==a)return e.FileIndex[i].name=n(r),e.FullPaths[i]=r,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:Ia,CheckField:za,prep_blob:Ba,bconcat:Kt,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");g=e}catch(ph){console.error("cannot use native zlib: "+(ph.message||ph))}},_deflateRaw:K,_inflateRaw:te,consts:w},t}();let Hr;function Vr(e){return"string"===typeof e?Vt(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function qr(e,t,r){if("undefined"!==typeof Hr&&Hr.writeFileSync)return r?Hr.writeFileSync(e,t,r):Hr.writeFileSync(e,t);if("undefined"!==typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Vt(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?jn(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!==typeof Blob){var a=new Blob([Vr(n)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),i}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=qt(t)),s.write(t),s.close(),t}catch(ph){if(!ph.message||!ph.message.match(/onstruct/))throw ph}throw new Error("cannot save file "+e)}function Kr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Yr(e,t){for(var r=[],n=Kr(e),a=0;a!==n.length;++a)null==r[e[n[a]][t]]&&(r[e[n[a]][t]]=n[a]);return r}function Xr(e){for(var t=[],r=Kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Qr(e){for(var t=[],r=Kr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var Jr=new Date(1899,11,30,0,0,0);function Zr(e,t){var r=e.getTime();return t&&(r-=1263168e5),(r-(Jr.getTime()+6e4*(e.getTimezoneOffset()-Jr.getTimezoneOffset())))/864e5}var en=new Date,tn=Jr.getTime()+6e4*(en.getTimezoneOffset()-Jr.getTimezoneOffset()),rn=en.getTimezoneOffset();function nn(e){var t=new Date;return t.setTime(24*e*60*60*1e3+tn),t.getTimezoneOffset()!==rn&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-rn)),t}var an=new Date("2017-02-19T19:06:09.000Z"),on=isNaN(an.getFullYear())?new Date("2/19/17"):an,sn=2017==on.getFullYear();function ln(e,t){var r=new Date(e);if(sn)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==on.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)),i}function cn(e,t){if(Ut&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return jn(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return jn(It(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return jn(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return jn(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return r[e]||e}))}catch(ph){}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function un(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=un(e[r]));return t}function dn(e,t){for(var r="";r.length<t;)r+=e;return r}function hn(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return r*=100,""}));return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,(function(e,t){return r=-r,t})),isNaN(t=Number(n))?t:t/r):t/r}var fn=["january","february","march","april","may","june","july","august","september","october","november","december"];function pn(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==fn.indexOf(o))return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}function gn(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=Ut?Wt(r):function(e){for(var t=[],r=0,n=e.length+250,a=Gt(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var s=1023&e.charCodeAt(++i);a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|s>>6&15|(3&o)<<4,a[r++]=128|63&s}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|63&o;r>n&&(t.push(a.slice(0,r)),r=0,a=Gt(65535),n=65530)}return t.push(a.slice(0,r)),Kt(t)}(r),$r.utils.cfb_add(e,t,n);$r.utils.cfb_add(e,t,r)}else e.file(t,r)}function mn(){return $r.utils.cfb_new()}var vn='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var bn={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xn=Xr(bn),yn=/[&<>'"]/g,wn=/[\u0000-\u0008\u000b-\u001f]/g;function Sn(e){return(e+"").replace(yn,(function(e){return xn[e]})).replace(wn,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function Cn(e){return Sn(e).replace(/ /g,"_x0020_")}var Tn=/[\u0000-\u001f]/g;function kn(e){return(e+"").replace(yn,(function(e){return xn[e]})).replace(/\n/g,"<br/>").replace(Tn,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function En(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _n(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(a=e.charCodeAt(r++),n>191&&n<224?(o=(31&n)<<6,o|=63&a,t+=String.fromCharCode(o)):(i=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&i):(s=((7&n)<<18|(63&a)<<12|(63&i)<<6|63&(o=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function An(e){var t,r,n,a=Gt(2*e.length),i=1,o=0,s=0;for(r=0;r<e.length;r+=i)i=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),i=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),i=3):(i=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(a[o++]=255&s,a[o++]=s>>>8,s=0),a[o++]=t%256,a[o++]=t>>>8;return a.slice(0,o).toString("ucs2")}function Fn(e){return Wt(e,"binary").toString("utf8")}var Pn="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Rn=Ut&&(Fn(Pn)==_n(Pn)&&Fn||An(Pn)==_n(Pn)&&An)||_n,jn=Ut?function(e){return Wt(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},Nn=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}();var In=/(^\s|\s$|\n)/;function On(e,t){return"<"+e+(t.match(In)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Dn(e){return Kr(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function Ln(e,t,r){return"<"+e+(null!=r?Dn(r):"")+(null!=t?(t.match(In)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Mn(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(ph){if(t)throw ph}return""}var zn="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Bn="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Un="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Wn="http://schemas.openxmlformats.org/package/2006/content-types",Gn="http://schemas.openxmlformats.org/package/2006/relationships",$n="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Hn="http://purl.org/dc/elements/1.1/",Vn="http://purl.org/dc/terms/",qn="http://purl.org/dc/dcmitype/",Kn="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Yn="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Xn="http://www.w3.org/2001/XMLSchema-instance",Qn="http://www.w3.org/2001/XMLSchema",Jn=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Zn="urn:schemas-microsoft-com:office:office",ea="urn:schemas-microsoft-com:office:excel",ta="urn:schemas-microsoft-com:office:spreadsheet",ra="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",na="http://macVmlSchemaUri",aa="urn:schemas-microsoft-com:vml",ia="http://www.w3.org/TR/REC-html40";var oa=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,a=e[0][r].length;n<a;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},sa=Ut?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:Wt(e)}))):oa(e)}:oa,la=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Fa(e,a)));return n.join("").replace(Yt,"")},ca=Ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Yt,""):la(e,t,r)}:la,ua=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},da=Ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):ua(e,t,r)}:ua,ha=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Aa(e,a)));return n.join("")},fa=Ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):ha(e,t,r)}:ha,pa=function(e,t){var r=Ra(e,t);return r>0?fa(e,t+4,t+4+r-1):""},ga=pa,ma=function(e,t){var r=Ra(e,t);return r>0?fa(e,t+4,t+4+r-1):""},va=ma,ba=function(e,t){var r=2*Ra(e,t);return r>0?fa(e,t+4,t+4+r-1):""},xa=ba,ya=function(e,t){var r=Ra(e,t);return r>0?ca(e,t+4,t+4+r):""},wa=ya,Sa=function(e,t){var r=Ra(e,t);return r>0?fa(e,t+4,t+4+r):""},Ca=Sa,Ta=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],i=5;i>=0;--i)a=256*a+e[t+i];return 2047==n?0==a?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}(e,t)},ka=Ta,Ea=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function _a(){ca=function(e,t,r){return Ot.utils.decode(1200,e.slice(t,r)).replace(Yt,"")},fa=function(e,t,r){return Ot.utils.decode(65001,e.slice(t,r))},ga=function(e,t){var r=Ra(e,t);return r>0?Ot.utils.decode(At,e.slice(t+4,t+4+r-1)):""},va=function(e,t){var r=Ra(e,t);return r>0?Ot.utils.decode(_t,e.slice(t+4,t+4+r-1)):""},xa=function(e,t){var r=2*Ra(e,t);return r>0?Ot.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},wa=function(e,t){var r=Ra(e,t);return r>0?Ot.utils.decode(1200,e.slice(t+4,t+4+r)):""},Ca=function(e,t){var r=Ra(e,t);return r>0?Ot.utils.decode(65001,e.slice(t+4,t+4+r)):""}}Ut&&(ga=function(e,t){if(!Buffer.isBuffer(e))return pa(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},va=function(e,t){if(!Buffer.isBuffer(e))return ma(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},xa=function(e,t){if(!Buffer.isBuffer(e))return ba(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},wa=function(e,t){if(!Buffer.isBuffer(e))return ya(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},Ca=function(e,t){if(!Buffer.isBuffer(e))return Sa(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},ka=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Ta(e,t)},Ea=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof Ot&&_a();var Aa=function(e,t){return e[t]},Fa=function(e,t){return 256*e[t+1]+e[t]},Pa=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},Ra=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ja=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Na=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ia(e,t){var r,n,a,i,o,s,l="",c=[];switch(t){case"dbcs":if(s=this.l,Ut&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(o=0;o<e;++o)l+=String.fromCharCode(Fa(this,s)),s+=2;e*=2;break;case"utf8":l=fa(this,this.l,this.l+e);break;case"utf16le":e*=2,l=ca(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof Ot)return Ia.call(this,e,"dbcs");l=Ot.utils.decode(_t,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=ga(this,this.l),e=4+Ra(this,this.l);break;case"lpstr-cp":l=va(this,this.l),e=4+Ra(this,this.l);break;case"lpwstr":l=xa(this,this.l),e=4+2*Ra(this,this.l);break;case"lpp4":e=4+Ra(this,this.l),l=wa(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Ra(this,this.l),l=Ca(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=Aa(this,this.l+e++));)c.push(Dt(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=Fa(this,this.l+e));)c.push(Dt(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",s=this.l,o=0;o<e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return a=Aa(this,s),this.l=s+1,i=Ia.call(this,e-o,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(Dt(Fa(this,s))),s+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof Ot){l=Ot.utils.decode(_t,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",s=this.l,o=0;o!=e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return a=Aa(this,s),this.l=s+1,i=Ia.call(this,e-o,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(Dt(Aa(this,s))),s+=1}l=c.join("");break;default:switch(e){case 1:return r=Aa(this,this.l),this.l++,r;case 2:return r=("i"===t?Pa:Fa)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(r=(e>0?ja:Na)(this,this.l),this.l+=4,r):(n=Ra(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return n=8==e?ka(this,this.l):ka([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:l=da(this,this.l,e)}}return this.l+=e,l}var Oa=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Da=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},La=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function Ma(e,t,r){var n=0,a=0;if("dbcs"===r){for(a=0;a!=t.length;++a)La(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if("sbcs"===r){if("undefined"!==typeof Ot&&874==At)for(a=0;a!=t.length;++a){var i=Ot.utils.encode(At,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);n=t.length}else{if("hex"===r){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===r){var o=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,Oa(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?0==o?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[r+s]=255&i;e[r+6]=(15&a)<<4|15&i,e[r+7]=a>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,Da(this,t,this.l)}}return this.l+=n,this}function za(e,t){var r=da(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ba(e,t){e.l=t,e.read_shift=Ia,e.chk=za,e.write_shift=Ma}function Ua(e,t){e.l+=t}function Wa(e){var t=Gt(e);return Ba(t,0),t}function Ga(){var e=[],t=Ut?256:2048,r=function(e){var t=Wa(e);return Ba(t,0),t},n=r(t),a=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},i=function(e){return n&&e<n.length-n.l?n:(a(),n=r(Math.max(e+1,t)))};return{next:i,push:function(e){a(),null==(n=e).l&&(n.l=n.length),i(t)},end:function(){return a(),Kt(e)},_bufs:e}}function $a(e,t,r,n){var a,i=+t;if(!isNaN(i)){n||(n=nc[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,128+(127&i)),o.write_shift(1,i>>7));for(var s=0;4!=s;++s){if(!(n>=128)){o.write_shift(1,n);break}o.write_shift(1,128+(127&n)),n>>=7}n>0&&Ea(r)&&e.push(r)}}function Ha(e,t,r){var n=un(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Va(e,t,r){var n=un(e);return n.s=Ha(n.s,t.s,r),n.e=Ha(n.e,t.s,r),n}function qa(e,t){if(e.cRel&&e.c<0)for(e=un(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=un(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ei(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function Ka(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?qa(e.s,t.biff)+":"+qa(e.e,t.biff):(e.s.rRel?"":"$")+Xa(e.s.r)+":"+(e.e.rRel?"":"$")+Xa(e.e.r):(e.s.cRel?"":"$")+Ja(e.s.c)+":"+(e.e.cRel?"":"$")+Ja(e.e.c)}function Ya(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Xa(e){return""+(e+1)}function Qa(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ja(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Za(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ei(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ti(e){var t=e.indexOf(":");return-1==t?{s:Za(e),e:Za(e)}:{s:Za(e.slice(0,t)),e:Za(e.slice(t+1))}}function ri(e,t){return"undefined"===typeof t||"number"===typeof t?ri(e.s,e.e):("string"!==typeof e&&(e=ei(e)),"string"!==typeof t&&(t=ei(t)),e==t?e:e+":"+t)}function ni(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ai(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Mr(e.z,r?Zr(t):t)}catch(ph){}try{return e.w=Mr((e.XF||{}).numFmtId||(r?14:0),r?Zr(t):t)}catch(ph){return""+t}}function ii(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?Bi[e.v]||e.v:ai(e,void 0==t?e.v:t))}function oi(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function si(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense;var i=e||(a?[]:{}),o=0,s=0;if(i&&null!=n.origin){if("number"==typeof n.origin)o=n.origin;else{var l="string"==typeof n.origin?Za(n.origin):n.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ni(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==o&&(c.e.r=o=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var f={v:t[d][h]},p=o+d,g=s+h;if(c.s.r>p&&(c.s.r=p),c.s.c>g&&(c.s.c=g),c.e.r<p&&(c.e.r=p),c.e.c<g&&(c.e.c=g),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else{if(!n.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=n.dateNF||or[14],n.cellDates?(f.t="d",f.w=Mr(f.z,Zr(f.v))):(f.t="n",f.v=Zr(f.v),f.w=Mr(f.z,f.v))):f.t="s";else f=t[d][h];if(a)i[p]||(i[p]=[]),i[p][g]&&i[p][g].z&&(f.z=i[p][g].z),i[p][g]=f;else{var m=ei({c:g,r:p});i[m]&&i[m].z&&(f.z=i[m].z),i[m]=f}}}return c.s.c<1e7&&(i["!ref"]=ri(c)),i}function li(e,t){return si(null,e,t)}function ci(e,t){return t||(t=Wa(4)),t.write_shift(4,e),t}function ui(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function di(e,t){var r=!1;return null==t&&(r=!0,t=Wa(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function hi(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fi(e,t){var r=e.l,n=e.read_shift(1),a=ui(e),i=[],o={t:a,h:a};if(0!==(1&n)){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(hi(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var pi=fi;function gi(e,t){var r=!1;return null==t&&(r=!0,t=Wa(23+4*e.t.length)),t.write_shift(1,1),di(e.t,t),t.write_shift(4,1),function(e,t){t||(t=Wa(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function mi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function vi(e,t){return null==t&&(t=Wa(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function bi(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function xi(e,t){return null==t&&(t=Wa(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var yi=ui,wi=di;function Si(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Ci(e,t){var r=!1;return null==t&&(r=!0,t=Wa(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Ti=ui,ki=Si,Ei=Ci;function _i(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var a=0===n?ka([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):ja(t,0)>>2;return r?a/100:a}function Ai(e,t){null==t&&(t=Wa(4));var r=0,n=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?a:e)<<2)+(r+2))}function Fi(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Pi=Fi,Ri=function(e,t){return t||(t=Wa(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function ji(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ni(e,t){return(t||Wa(8)).write_shift(8,e,"f")}function Ii(e,t){if(t||(t=Wa(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var Oi=80,Di={1:{n:"CodePage",t:2},2:{n:"Category",t:Oi},3:{n:"PresentationFormat",t:Oi},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:Oi},15:{n:"Company",t:Oi},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:Oi},27:{n:"ContentStatus",t:Oi},28:{n:"Language",t:Oi},29:{n:"Version",t:Oi},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Li={1:{n:"CodePage",t:2},2:{n:"Title",t:Oi},3:{n:"Subject",t:Oi},4:{n:"Author",t:Oi},5:{n:"Keywords",t:Oi},6:{n:"Comments",t:Oi},7:{n:"Template",t:Oi},8:{n:"LastAuthor",t:Oi},9:{n:"RevNumber",t:Oi},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:Oi},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Mi(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var zi=un(Mi([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Bi={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ui={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Wi={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Gi(e,t){var r,n=function(e){for(var t=[],r=Kr(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(Ui),a=[];a[a.length]=vn,a[a.length]=Ln("Types",null,{xmlns:Wn,"xmlns:xsd":Qn,"xmlns:xsi":Xn}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return Ln("Default",null,{Extension:e[0],ContentType:e[1]})})));var i=function(n){e[n]&&e[n].length>0&&(r=e[n][0],a[a.length]=Ln("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:Wi[n][t.bookType]||Wi[n].xlsx}))},o=function(r){(e[r]||[]).forEach((function(e){a[a.length]=Ln("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Wi[r][t.bookType]||Wi[r].xlsx})}))},s=function(t){(e[t]||[]).forEach((function(e){a[a.length]=Ln("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})}))};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var $i={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Hi(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Vi(e){var t=[vn,Ln("Relationships",null,{xmlns:Gn})];return Kr(e["!id"]).forEach((function(r){t[t.length]=Ln("Relationship",null,e["!id"][r])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function qi(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,i?a.TargetMode=i:[$i.HLINK,$i.XPATH,$i.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Ki(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Yi(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Et.version+"</meta:generator></office:meta></office:document-meta>"}var Xi=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Qi(e,t,r,n,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=Sn(t),n[n.length]=r?Ln(e,t,r):On(e,t))}function Ji(e,t){var r=t||{},n=[vn,Ln("cp:coreProperties",null,{"xmlns:cp":zn,"xmlns:dc":Hn,"xmlns:dcterms":Vn,"xmlns:dcmitype":qn,"xmlns:xsi":Xn})],a={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&Qi("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:Mn(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),null!=e.ModifiedDate&&Qi("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:Mn(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Xi.length;++i){var o=Xi[i],s=r.Props&&null!=r.Props[o[1]]?r.Props[o[1]]:e?e[o[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&Qi(o[0],s,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Zi=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],eo=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function to(e){var t=[],r=Ln;return e||(e={}),e.Application="SheetJS",t[t.length]=vn,t[t.length]=Ln("Properties",null,{xmlns:Un,"xmlns:vt":Yn}),Zi.forEach((function(n){if(void 0!==e[n[1]]){var a;switch(n[2]){case"string":a=Sn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false"}void 0!==a&&(t[t.length]=r(n[0],a))}})),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+Sn(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ro(e){var t=[vn,Ln("Properties",null,{xmlns:Bn,"xmlns:vt":Yn})];if(!e)return t.join("");var r=1;return Kr(e).forEach((function(n){++r,t[t.length]=Ln("property",function(e,t){switch(typeof e){case"string":var r=Ln("vt:lpwstr",Sn(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return Ln((0|e)==e?"vt:i4":"vt:r8",Sn(String(e)));case"boolean":return Ln("vt:bool",e?"true":"false")}if(e instanceof Date)return Ln("vt:filetime",Mn(e));throw new Error("Unable to serialize "+e)}(e[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Sn(n)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var no={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ao(e,t){var r=Wa(4),n=Wa(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=Wa(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var a=(r*=1e7)/Math.pow(2,32)|0;a>0&&(r%=Math.pow(2,32),n+=a);var i=Wa(8);return i.write_shift(4,r),i.write_shift(4,n),i}(t);break;case 31:case 80:for((n=Wa(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Kt([r,n])}var io=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function oo(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function so(e,t,r){var n=Wa(8),a=[],i=[],o=8,s=0,l=Wa(8),c=Wa(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),o+=8+l.length,!t){(c=Wa(8)).write_shift(4,0),a.unshift(c);var u=[Wa(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];for((l=Wa(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,s+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Kt(u),i.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(io.indexOf(e[s][0])>-1||eo.indexOf(e[s][0])>-1)&&null!=e[s][1]){var h=e[s][1],f=0;if(t){var p=r[f=+t[e[s][0]]];if("version"==p.p&&"string"==typeof h){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=ao(p.t,h)}else{var m=oo(h);-1==m&&(m=31,h=String(h)),l=ao(m,h)}i.push(l),(c=Wa(8)).write_shift(4,t?f:2+s),a.push(c),o+=8+l.length}var v=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,v),v+=i[s].length;return n.write_shift(4,o),n.write_shift(4,i.length),Kt([n].concat(a).concat(i))}function lo(e,t,r,n,a,i){var o=Wa(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,$r.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var l=so(e,r,n);if(s.push(l),a){var c=so(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),s.push(c)}return Kt(s)}function co(e,t){return 1===e.read_shift(t)}function uo(e,t){return t||(t=Wa(2)),t.write_shift(2,+!!e),t}function ho(e){return e.read_shift(2,"u")}function fo(e,t){return t||(t=Wa(2)),t.write_shift(2,e),t}function po(e,t,r){return r||(r=Wa(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function go(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=_t;(r&&r.biff>=8&&(_t=1200),r&&8!=r.biff)?12==r.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return _t=i,o}function mo(e){var t=e.t||"",r=Wa(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Wa(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),Kt([r,n])}function vo(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function bo(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):vo(e,n,r)}function xo(e,t,r){if(r.biff>5)return bo(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function yo(e,t,r){return r||(r=Wa(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function wo(e,t){t||(t=Wa(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function So(e){var t=Wa(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(28==i)wo(n=n.slice(1),t);else if(2&i){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var s=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),8&i&&wo(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,255&n.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Co(e,t,r,n){return n||(n=Wa(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function To(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function ko(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function Eo(e,t){return t||(t=Wa(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function _o(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;default:throw new Error("unsupported BIFF version")}var i=Wa(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Ao(e,t){var r=!t||t.biff>=8?2:1,n=Wa(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Fo(e,t,r,n){var a=r&&5==r.biff;n||(n=Wa(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return null==i.l&&(i.l=i.length),i}function Po(e,t,r,n){var a=r&&5==r.biff;n||(n=Wa(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Ro(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=go(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);0!==i--;)n.push(To(e,r.biff,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function jo(e){var t=Wa(24),r=Za(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Kt([t,So(e[1])])}function No(e){var t=e[1].Tooltip,r=Wa(10+2*(t.length+1));r.write_shift(2,2048);var n=Za(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Io(e,t,r){if(!r.cellStyles)return Ua(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:a,e:i,w:o,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var Oo=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Xr({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var a=li(function(t,r){var n=[],a=Gt(1);switch(r.type){case"base64":a=Ht(Bt(t));break;case"binary":a=Ht(t);break;case"buffer":case"array":a=t}Ba(a,0);var i=a.read_shift(1),o=!!(136&i),s=!1,l=!1;switch(i){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,o=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+i.toString(16))}var c=0,u=521;2==i&&(c=a.read_shift(2)),a.l+=3,2!=i&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=i&&(u=a.read_shift(2));var d=a.read_shift(2),h=r.codepage||1252;2!=i&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(h=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var f=[],p={},g=Math.min(a.length,2==i?521:u-10-(s?264:0)),m=l?32:11;a.l<g&&13!=a[a.l];)switch((p={}).name=Ot.utils.decode(h,a.slice(a.l,a.l+m)).replace(/[\u0000\r\n].*$/g,""),a.l+=m,p.type=String.fromCharCode(a.read_shift(1)),2==i||l||(p.offset=a.read_shift(4)),p.len=a.read_shift(1),2==i&&(p.offset=a.read_shift(2)),p.dec=a.read_shift(1),p.name.length&&f.push(p),2!=i&&(a.l+=l?13:14),p.type){case"B":s&&8==p.len||!r.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==a[a.l]&&(a.l=u-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=u;var v=0,b=0;for(n[0]=[],b=0;b!=f.length;++b)n[0][b]=f[b].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,n[++v]=[],b=0,b=0;b!=f.length;++b){var x=a.slice(a.l,a.l+f[b].len);a.l+=f[b].len,Ba(x,0);var y=Ot.utils.decode(h,x);switch(f[b].type){case"C":y.trim().length&&(n[v][b]=y.replace(/\s+$/,""));break;case"D":8===y.length?n[v][b]=new Date(+y.slice(0,4),+y.slice(4,6)-1,+y.slice(6,8)):n[v][b]=y;break;case"F":n[v][b]=parseFloat(y.trim());break;case"+":case"I":n[v][b]=l?2147483648^x.read_shift(-4,"i"):x.read_shift(4,"i");break;case"L":switch(y.trim().toUpperCase()){case"Y":case"T":n[v][b]=!0;break;case"N":case"F":n[v][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+y+"|")}break;case"M":if(!o)throw new Error("DBF Unexpected MEMO for type "+i.toString(16));n[v][b]="##MEMO##"+(l?parseInt(y.trim(),10):x.read_shift(4));break;case"N":(y=y.replace(/\u0000/g,"").trim())&&"."!=y&&(n[v][b]=+y||0);break;case"@":n[v][b]=new Date(x.read_shift(-8,"f")-621356832e5);break;case"T":n[v][b]=new Date(864e5*(x.read_shift(4)-2440588)+x.read_shift(4));break;case"Y":n[v][b]=x.read_shift(4,"i")/1e4+x.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[v][b]=-x.read_shift(-8,"f");break;case"B":if(s&&8==f[b].len){n[v][b]=x.read_shift(8,"f");break}case"G":case"P":x.l+=f[b].len;break;case"0":if("_NullFlags"===f[b].name)break;default:throw new Error("DBF Unsupported data type "+f[b].type)}}else a.l+=d;if(2!=i&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=f,n}(t,n),n);return a["!cols"]=n.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete n.DBF,a}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return oi(r(e,t),t)}catch(ph){if(t&&t.WTF)throw ph}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var a=r||{};if(+a.codepage>=0&&jt(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var i=Ga(),o=tu(e,{header:1,raw:!0,cellDates:!0}),s=o[0],l=o.slice(1),c=e["!cols"]||[],u=0,d=0,h=0,f=1;for(u=0;u<s.length;++u)if(((c[u]||{}).DBF||{}).name)s[u]=c[u].DBF.name,++h;else if(null!=s[u]){if(++h,"number"===typeof s[u]&&(s[u]=s[u].toString(10)),"string"!==typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(d=0;d<1024;++d)if(-1==s.indexOf(s[u]+"_"+d)){s[u]+="_"+d;break}}var p=ni(e["!ref"]),g=[],m=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var b="",x="",y=0,w=[];for(d=0;d<l.length;++d)null!=l[d][u]&&w.push(l[d][u]);if(0!=w.length&&null!=s[u]){for(d=0;d<w.length;++d){switch(typeof w[d]){case"number":x="B";break;case"string":default:x="C";break;case"boolean":x="L";break;case"object":x=w[d]instanceof Date?"D":"C"}y=Math.max(y,String(w[d]).length),b=b&&b!=x?"C":x}y>250&&(y=250),"C"==(x=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>y&&(y=c[u].DBF.len),"B"==b&&"N"==x&&(b="N",v[u]=c[u].DBF.dec,y=c[u].DBF.len),m[u]="C"==b||"N"==x?y:n[b]||0,f+=m[u],g[u]=b}else g[u]="?"}var S=i.next(32);for(S.write_shift(4,318902576),S.write_shift(4,l.length),S.write_shift(2,296+32*h),S.write_shift(2,f),u=0;u<4;++u)S.write_shift(4,0);for(S.write_shift(4,(+t[At]||3)<<8),u=0,d=0;u<s.length;++u)if(null!=s[u]){var C=i.next(32),T=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,T,"sbcs"),C.write_shift(1,"?"==g[u]?"C":g[u],"sbcs"),C.write_shift(4,d),C.write_shift(1,m[u]||n[g[u]]||0),C.write_shift(1,v[u]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),d+=m[u]||n[g[u]]||0}var k=i.next(264);for(k.write_shift(4,13),u=0;u<65;++u)k.write_shift(4,0);for(u=0;u<l.length;++u){var E=i.next(f);for(E.write_shift(1,0),d=0;d<s.length;++d)if(null!=s[d])switch(g[d]){case"L":E.write_shift(1,null==l[u][d]?63:l[u][d]?84:70);break;case"B":E.write_shift(8,l[u][d]||0,"f");break;case"N":var _="0";for("number"==typeof l[u][d]&&(_=l[u][d].toFixed(v[d]||0)),h=0;h<m[d]-_.length;++h)E.write_shift(1,32);E.write_shift(1,_,"sbcs");break;case"D":l[u][d]?(E.write_shift(4,("0000"+l[u][d].getFullYear()).slice(-4),"sbcs"),E.write_shift(2,("00"+(l[u][d].getMonth()+1)).slice(-2),"sbcs"),E.write_shift(2,("00"+l[u][d].getDate()).slice(-2),"sbcs")):E.write_shift(8,"00000000","sbcs");break;case"C":var A=String(null!=l[u][d]?l[u][d]:"").slice(0,m[d]);for(E.write_shift(1,A,"sbcs"),h=0;h<m[d]-A.length;++h)E.write_shift(1,32)}}return i.next(1).write_shift(1,26),i.end()}}}(),Do=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Kr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?Lt(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:Lt(n)};function a(e,a){var i,o=e.split(/[\n\r]+/),s=-1,l=-1,c=0,u=0,d=[],h=[],f=null,p={},g=[],m=[],v=[],b=0;for(+a.codepage>=0&&jt(+a.codepage);c!==o.length;++c){b=0;var x,y=o[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),w=y.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),S=w[0];if(y.length>0)switch(S){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&h.push(y.slice(3).replace(/;;/g,";"));break;case"C":var C=!1,T=!1,k=!1,E=!1,_=-1,A=-1;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[u].slice(1))-1,T=!0;break;case"Y":for(s=parseInt(w[u].slice(1))-1,T||(l=0),i=d.length;i<=s;++i)d[i]=[];break;case"K":'"'===(x=w[u].slice(1)).charAt(0)?x=x.slice(1,x.length-1):"TRUE"===x?x=!0:"FALSE"===x?x=!1:isNaN(hn(x))?isNaN(pn(x).getDate())||(x=ln(x)):(x=hn(x),null!==f&&Ir(f)&&(x=nn(x))),"undefined"!==typeof Ot&&"string"==typeof x&&"string"!=(a||{}).type&&(a||{}).codepage&&(x=Ot.utils.decode(a.codepage,x)),C=!0;break;case"E":E=!0;var F=_s(w[u].slice(1),{r:s,c:l});d[s][l]=[d[s][l],F];break;case"S":k=!0,d[s][l]=[d[s][l],"S5S"];break;case"R":_=parseInt(w[u].slice(1))-1;break;case"C":A=parseInt(w[u].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+y)}if(C&&(d[s][l]&&2==d[s][l].length?d[s][l][0]=x:d[s][l]=x,f=null),k){if(E)throw new Error("SYLK shared formula cannot have own formula");var P=_>-1&&d[_][A];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");d[s][l][1]=Ps(P[1],{r:s-_,c:l-A})}break;case"F":var R=0;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"X":l=parseInt(w[u].slice(1))-1,++R;break;case"Y":for(s=parseInt(w[u].slice(1))-1,i=d.length;i<=s;++i)d[i]=[];break;case"M":b=parseInt(w[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=h[parseInt(w[u].slice(1))];break;case"W":for(v=w[u].slice(1).split(" "),i=parseInt(v[0],10);i<=parseInt(v[1],10);++i)b=parseInt(v[2],10),m[i-1]=0===b?{hidden:!0}:{wch:b},Zo(m[i-1]);break;case"C":m[l=parseInt(w[u].slice(1))-1]||(m[l]={});break;case"R":g[s=parseInt(w[u].slice(1))-1]||(g[s]={}),b>0?(g[s].hpt=b,g[s].hpx=rs(b)):0===b&&(g[s].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+y)}R<1&&(f=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+y)}}return g.length>0&&(p["!rows"]=g),m.length>0&&(p["!cols"]=m),a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),[d,p]}function i(e,t){var r=function(e,t){switch(t.type){case"base64":return a(Bt(e),t);case"binary":return a(e,t);case"buffer":return a(Ut&&Buffer.isBuffer(e)?e.toString("binary"):qt(e),t);case"array":return a(cn(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],i=r[1],o=li(n,t);return Kr(i).forEach((function(e){o[e]=i[e]})),o}function o(e,t,r,n){var a="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+Fs(e.f,{r:r,c:n}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return oi(i(e,t),t)},to_sheet:i,from_sheet:function(e,t){var r,n,a=["ID;PWXL;N;E"],i=[],s=ni(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=a,e["!cols"].forEach((function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=Xo(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=Qo(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)}))),e["!rows"]&&function(e,t){t.forEach((function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*ts(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))}))}(a,e["!rows"]),a.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var d=s.s.c;d<=s.e.c;++d){var h=ei({r:u,c:d});(r=l?(e[u]||[])[d]:e[h])&&(null!=r.v||r.f&&!r.F)&&i.push(o(r,0,u,d))}return a.join(c)+c+i.join(c)+c+"E"+c}}}(),Lo=function(){function e(e,t){for(var r=e.split("\n"),n=-1,a=-1,i=0,o=[];i!==r.length;++i)if("BOT"!==r[i].trim()){if(!(n<0)){for(var s=r[i].trim().split(","),l=s[0],c=s[1],u=r[++i]||"";1&(u.match(/["]/g)||[]).length&&i<r.length-1;)u+="\n"+r[++i];switch(u=u.trim(),+l){case-1:if("BOT"===u){o[++n]=[],a=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?o[n][a]=!0:"FALSE"===u?o[n][a]=!1:isNaN(hn(c))?isNaN(pn(c).getDate())?o[n][a]=c:o[n][a]=ln(c):o[n][a]=hn(c),++a;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),o[n][a++]=""!==u?u:null}if("EOD"===u)break}}else o[++n]=[],a=0;return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}function t(t,r){return li(function(t,r){switch(r.type){case"base64":return e(Bt(t),r);case"binary":return e(t,r);case"buffer":return e(Ut&&Buffer.isBuffer(t)?t.toString("binary"):qt(t),r);case"array":return e(cn(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}return{to_workbook:function(e,r){return oi(t(e,r),r)},to_sheet:t,from_sheet:function(){var e=function(e,t,r,n,a){e.push(t),e.push(r+","+n),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,a=[],i=ni(r["!ref"]),o=Array.isArray(r);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,i.e.r-i.s.r+1,""),e(a,"TUPLES",0,i.e.c-i.s.c+1,""),e(a,"DATA",0,0,"");for(var s=i.s.r;s<=i.e.r;++s){t(a,-1,0,"BOT");for(var l=i.s.c;l<=i.e.c;++l){var c=ei({r:s,c:l});if(n=o?(r[s]||[])[l]:r[c])switch(n.t){case"n":var u=n.w;u||null==n.v||(u=n.v),null==u?n.f&&!n.F?t(a,1,0,"="+n.f):t(a,1,0,""):t(a,0,u,"V");break;case"b":t(a,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=Mr(n.z||or[14],Zr(ln(n.v)))),t(a,0,n.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}()}}(),Mo=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return li(function(e,t){for(var r=e.split("\n"),n=-1,a=-1,i=0,o=[];i!==r.length;++i){var s=r[i].trim().split(":");if("cell"===s[0]){var l=Za(s[1]);if(o.length<=l.r)for(n=o.length;n<=l.r;++n)o[n]||(o[n]=[]);switch(n=l.r,a=l.c,s[2]){case"t":o[n][a]=s[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":o[n][a]=+s[3];break;case"vtf":var c=s[s.length-1];case"vtc":"nl"===s[3]?o[n][a]=!!+s[4]:o[n][a]=+s[4],"vtf"==s[2]&&(o[n][a]=[o[n][a],c])}}}return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}(e,t),t)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),n=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function o(t){if(!t||!t["!ref"])return"";for(var r,n=[],a=[],i="",o=ti(t["!ref"]),s=Array.isArray(t),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c)if(i=ei({r:l,c:c}),(r=s?(t[l]||[])[c]:t[i])&&null!=r.v&&"z"!==r.t){switch(a=["cell",i,"t"],r.t){case"s":case"str":a.push(e(r.v));break;case"n":r.f?(a[2]="vtf",a[3]="n",a[4]=r.v,a[5]=e(r.f)):(a[2]="v",a[3]=r.v);break;case"b":a[2]="vt"+(r.f?"f":"c"),a[3]="nl",a[4]=r.v?"1":"0",a[5]=e(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var u=Zr(ln(r.v));a[2]="vtc",a[3]="nd",a[4]=""+u,a[5]=r.w||Mr(r.z||or[14],u);break;case"e":continue}n.push(a.join(":"))}return n.push("sheet:c:"+(o.e.c-o.s.c+1)+":r:"+(o.e.r-o.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,r){return oi(t(e,r),r)},to_sheet:t,from_sheet:function(e){return[r,n,a,n,o(e),i].join("\n")}}}(),zo=function(){function e(e,t,r,n,a){a.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(hn(e))?isNaN(pn(e).getDate())?t[r][n]=e:t[r][n]=ln(e):t[r][n]=hn(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},a=!1,i=0,o=0;i<e.length;++i)34==(o=e.charCodeAt(i))?a=!a:!a&&o in t&&(n[o]=(n[o]||0)+1);for(i in o=[],n)Object.prototype.hasOwnProperty.call(n,i)&&o.push([n[i],i]);if(!o.length)for(i in n=r)Object.prototype.hasOwnProperty.call(n,i)&&o.push([n[i],i]);return o.sort((function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]})),t[o.pop()[1]]||44}function a(e,t){var r=t||{},a="";var i=r.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=n(e.slice(0,1024)):a=r&&r.FS?r.FS:n(e.slice(0,1024));var s=0,l=0,c=0,u=0,d=0,h=a.charCodeAt(0),f=!1,p=0,g=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var m=null!=r.dateNF?function(e){var t="number"==typeof e?or[e]:e;return t=t.replace(Wr,"(\\d+)"),new RegExp("^"+t+"$")}(r.dateNF):null;function v(){var t=e.slice(u,d),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(n.t="n",n.f=t.slice(1)):(n.t="s",n.v=t);else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(c=hn(t)))if(!isNaN(pn(t).getDate())||m&&t.match(m)){n.z=r.dateNF||or[14];var a=0;m&&t.match(m)&&(t=function(e,t,r){var n=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(Wr)||[]).forEach((function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=c;break;case"d":i=c;break;case"h":o=c;break;case"s":l=c;break;case"m":o>=0?s=c:a=c}})),l>=0&&-1==s&&a>=0&&(s=a,a=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==o&&-1==s&&-1==l?c:-1==n&&-1==a&&-1==i?u:c+"T"+u}(0,r.dateNF,t.match(m)||[]),a=1),r.cellDates?(n.t="d",n.v=ln(t,a)):(n.t="n",n.v=Zr(ln(t,a))),!1!==r.cellText&&(n.w=Mr(n.z,n.v instanceof Date?Zr(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=c;if("z"==n.t||(r.dense?(i[s]||(i[s]=[]),i[s][l]=n):i[ei({c:l,r:s})]=n),u=d+1,g=e.charCodeAt(u),o.e.c<l&&(o.e.c=l),o.e.r<s&&(o.e.r=s),p==h)++l;else if(l=0,++s,r.sheetRows&&r.sheetRows<=s)return!0}e:for(;d<e.length;++d)switch(p=e.charCodeAt(d)){case 34:34===g&&(f=!f);break;case h:case 10:case 13:if(!f&&v())break e}return d-u>0&&v(),i["!ref"]=ri(o),i}function i(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,r):li(function(t,r){var n=r||{},a=[];if(!t||0===t.length)return a;for(var i=t.split(/[\r\n]/),o=i.length-1;o>=0&&0===i[o].length;)--o;for(var s=10,l=0,c=0;c<=o;++c)-1==(l=i[c].indexOf(" "))?l=i[c].length:l++,s=Math.max(s,l);for(c=0;c<=o;++c){a[c]=[];var u=0;for(e(i[c].slice(0,s).trim(),a,c,u,n),u=1;u<=(i[c].length-s)/10+1;++u)e(i[c].slice(s+10*(u-1),s+10*u).trim(),a,c,u,n)}return n.sheetRows&&(a=a.slice(0,n.sheetRows)),a}(t,r),r):a(t,r)}function o(e,t){var r="",n="string"==t.type?[0,0,0,0]:Vc(e,t);switch(t.type){case"base64":r=Bt(e);break;case"binary":case"string":r=e;break;case"buffer":r=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof Ot?Ot.utils.decode(t.codepage,e):Ut&&Buffer.isBuffer(e)?e.toString("binary"):qt(e);break;case"array":r=cn(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=Rn(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=Rn(r):"binary"==t.type&&"undefined"!==typeof Ot&&t.codepage&&(r=Ot.utils.decode(t.codepage,Ot.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?Mo.to_sheet("string"==t.type?r:Rn(r),t):i(r,t)}return{to_workbook:function(e,t){return oi(o(e,t),t)},to_sheet:o,from_sheet:function(e){for(var t,r=[],n=ni(e["!ref"]),a=Array.isArray(e),i=n.s.r;i<=n.e.r;++i){for(var o=[],s=n.s.c;s<=n.e.c;++s){var l=ei({r:i,c:s});if((t=a?(e[i]||[])[s]:e[l])&&null!=t.v){for(var c=(t.w||(ii(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";o.push(c+(0===s?" ":""))}else o.push("          ")}r.push(o.join(""))}return r.join("\n")}}}();var Bo=function(){function e(e,t,r){if(e){Ba(e,e.l||0);for(var n=r.Enum||v;e.l<e.length;){var a=e.read_shift(2),i=n[a]||n[65535],o=e.read_shift(2),s=e.l+o,l=i.f&&i.f(e,o,r);if(e.l=s,t(l,i,a))return}}}function t(t,r){if(!t)return t;var n=r||{};var a=n.dense?[]:{},i="Sheet1",o="",s=0,l={},c=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=v,e(t,(function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:d=e;break;case 204:e&&(o=e);break;case 222:o=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||or[14],n.cellDates&&(e[1].t="d",e[1].v=nn(e[1].v))),n.qpro&&e[3]>s&&(a["!ref"]=ri(d),l[i]=a,c.push(i),a=n.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],i=o||"Sheet"+(s+1),o="");var u=n.dense?(a[e[0].r]||[])[e[0].c]:a[ei(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[ei(e[0])]=e[1]}}),n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=b,14==t[2]&&(n.qpro=!0,t.l=0),e(t,(function(e,t,r){switch(r){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(a["!ref"]=ri(d),l[i]=a,c.push(i),a=n.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],i="Sheet"+(s+1)),h>0&&e[0].r>=h)break;n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[ei(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(i=e[1])}}),n)}if(a["!ref"]=ri(d),l[o||i]=a,c.push(o||i),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],g=0;g<u.length;++g)l[c[g]]?(p.push(u[g]||c[g]),f[u[g]]=l[u[g]]||l[c[g]]):(p.push(u[g]),f[u[g]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var a=e.l+t,i=r(e,0,n);if(i[1].t="s",20768==n.vers){e.l++;var o=e.read_shift(1);return i[1].v=e.read_shift(o,"utf8"),i}return n.qpro&&e.l++,i[1].v=e.read_shift(a-e.l,"cstr"),i}function a(e,t,r){var n=Wa(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var a=0;a<n.length;++a){var i=r.charCodeAt(a);n.write_shift(1,i>=128?95:i)}return n.write_shift(1,0),n}function i(e,t,r){var n=Wa(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function o(e,t,r){var n=Wa(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function s(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?Ja(t):Xa(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function d(e,t,r,n){var a=Wa(6+n.length);a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),a.write_shift(1,39);for(var i=0;i<n.length;++i){var o=n.charCodeAt(i);a.write_shift(1,o>=128?95:o)}return a.write_shift(1,0),a}function h(e,t){var r=u(e),n=e.read_shift(4),a=e.read_shift(4),i=e.read_shift(2);if(65535==i)return 0===n&&3221225472===a?(r[1].t="e",r[1].v=15):0===n&&3489660928===a?(r[1].t="e",r[1].v=42):r[1].v=0,r;var o=32768&i;return i=(32767&i)-16446,r[1].v=(1-2*o)*(a*Math.pow(2,i+32)+n*Math.pow(2,i)),r}function f(e,t,r,n){var a=Wa(14);if(a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),0==n)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var i,o=0,s=0,l=0;return n<0&&(o=1,n=-n),s=0|Math.log2(n),0==(2147483648&(l=(n/=Math.pow(2,s-31))>>>0))&&(++s,l=(n/=2)>>>0),n-=l,l|=2147483648,l>>>=0,i=(n*=Math.pow(2,32))>>>0,a.write_shift(4,i),a.write_shift(4,l),s+=16383+(o?32768:0),a.write_shift(2,s),a}function p(e,t){var r=u(e),n=e.read_shift(8,"f");return r[1].v=n,r}function g(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function m(e,t){var r=Wa(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var a=e.charCodeAt(n);r[r.l++]=a>127?95:a}return r[r.l++]=0,r}var v={0:{n:"BOF",f:ho},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var a=e.l+t,i=r(e,0,n);if(i[1].v=e.read_shift(8,"f"),n.qpro)e.l=a;else{var o=e.read_shift(2);!function(e,t){Ba(e,0);var r=[],n=0,a="",i="",o="",u="";for(;e.l<e.length;){var d=e[e.l++];switch(d){case 0:r.push(e.read_shift(8,"f"));break;case 1:i=s(t[0].c,e.read_shift(2),!0),a=s(t[0].r,e.read_shift(2),!1),r.push(i+a);break;case 2:var h=s(t[0].c,e.read_shift(2),!0),f=s(t[0].r,e.read_shift(2),!1);i=s(t[0].c,e.read_shift(2),!0),a=s(t[0].r,e.read_shift(2),!1),r.push(h+f+":"+i+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";d=e[e.l++];)p+=String.fromCharCode(d);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:u=r.pop(),o=r.pop(),r.push(["AND","OR"][d-20]+"("+o+","+u+")");break;default:if(d<32&&c[d])u=r.pop(),o=r.pop(),r.push(o+c[d]+u);else{if(!l[d])return d<=7?console.error("WK1 invalid opcode "+d.toString(16)):d<=24?console.error("WK1 unsupported op "+d.toString(16)):d<=30?console.error("WK1 invalid opcode "+d.toString(16)):d<=115?console.error("WK1 unsupported function opcode "+d.toString(16)):console.error("WK1 unrecognized opcode "+d.toString(16));if(69==(n=l[d][1])&&(n=e[e.l++]),n>r.length)return void console.error("WK1 bad formula parse 0x"+d.toString(16)+":|"+r.join("|")+"|");var g=r.slice(-n);r.length-=n,r.push(l[d][0]+"("+g.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}(e.slice(e.l,e.l+o),i),e.l+=o}return i}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:g},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},b={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=u(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var r=u(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=h(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var a=e.read_shift(2);if(14e3==a){for(r[a]=[0,""],r[a][0]=e.read_shift(2);e[e.l];)r[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=u(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var r=p(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:g},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&jt(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n=Ga(),s=ni(e["!ref"]),l=Array.isArray(e),c=[];ac(n,0,function(e){var t=Wa(2);return t.write_shift(2,e),t}(1030)),ac(n,6,function(e){var t=Wa(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(s));for(var u=Math.min(s.e.r,8191),d=s.s.r;d<=u;++d)for(var h=Xa(d),f=s.s.c;f<=s.e.c;++f){d===s.s.r&&(c[f]=Ja(f));var p=c[f]+h,g=l?(e[d]||[])[f]:e[p];if(g&&"z"!=g.t)if("n"==g.t)(0|g.v)==g.v&&g.v>=-32768&&g.v<=32767?ac(n,13,i(d,f,g.v)):ac(n,14,o(d,f,g.v));else ac(n,15,a(d,f,ii(g).slice(0,239)))}return ac(n,1),n.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&jt(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=Ga();ac(n,0,function(e){var t=Wa(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,a=0,i=0;i<e.SheetNames.length;++i){var o=e.SheetNames[i],s=e.Sheets[o];if(s&&s["!ref"]){++a;var l=ti(s["!ref"]);r<l.e.r&&(r=l.e.r),n<l.e.c&&(n=l.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,a),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,i=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&ac(n,27,m(e.SheetNames[a],i++));var o=0;for(a=0;a<e.SheetNames.length;++a){var s=e.Sheets[e.SheetNames[a]];if(s&&s["!ref"]){for(var l=ni(s["!ref"]),c=Array.isArray(s),u=[],h=Math.min(l.e.r,8191),p=l.s.r;p<=h;++p)for(var g=Xa(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=Ja(v));var b=u[v]+g,x=c?(s[p]||[])[v]:s[b];if(x&&"z"!=x.t)if("n"==x.t)ac(n,23,f(p,v,o,x.v));else ac(n,22,d(p,v,o,ii(x).slice(0,239)))}++o}}return ac(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(Ht(Bt(e)),r);case"binary":return t(Ht(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var Uo=/^\s|\s$|[\t\n\r]/;function Wo(e,t){if(!t.bookSST)return"";var r=[vn];r[r.length]=Ln("sst",null,{xmlns:Jn[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Uo)&&(i+=' xml:space="preserve"'),i+=">"+Sn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var Go=function(e,t){var r=!1;return null==t&&(r=!0,t=Wa(15+4*e.t.length)),t.write_shift(1,0),di(e.t,t),r?t.slice(0,t.l):t};function $o(e){var t=Ga();$a(t,159,function(e,t){return t||(t=Wa(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)$a(t,19,Go(e[r]));return $a(t,160),t.end()}function Ho(e){if("undefined"!==typeof Ot)return Ot.utils.encode(At,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Vo(e){var t,r,n=0,a=Ho(e),i=a.length+1;for((t=Gt(i))[0]=a.length,r=1;r!=i;++r)t[r]=a[r-1];for(r=i-1;r>=0;--r)n=((0===(16384&n)?0:1)|n<<1&32767)^t[r];return 52811^n}var qo=function(){function e(e,r){switch(r.type){case"base64":return t(Bt(e),r);case"binary":return t(e,r);case"buffer":return t(Ut&&Buffer.isBuffer(e)?e.toString("binary"):qt(e),r);case"array":return t(cn(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach((function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,i=/\\\w+\b/g,o=0,s=-1;n=i.exec(e);){if("\\cell"===n[0]){var l=e.slice(o,i.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][s]=c:r[ei({r:t,c:s})]=c}}o=i.lastIndex}s>a.e.c&&(a.e.c=s)})),r["!ref"]=ri(a),r}return{to_workbook:function(t,r){return oi(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=ni(e["!ref"]),a=Array.isArray(e),i=n.s.r;i<=n.e.r;++i){r.push("\\trowd\\trautofit1");for(var o=n.s.c;o<=n.e.c;++o)r.push("\\cellx"+(o+1));for(r.push("\\pard\\intbl"),o=n.s.c;o<=n.e.c;++o){var s=ei({r:i,c:o});(t=a?(e[i]||[])[o]:e[s])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(ii(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function Ko(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Yo=6;function Xo(e){return Math.floor((e+Math.round(128/Yo)/256)*Yo)}function Qo(e){return Math.floor((e-5)/Yo*100+.5)/100}function Jo(e){return Math.round((e*Yo+5)/Yo*256)/256}function Zo(e){e.width?(e.wpx=Xo(e.width),e.wch=Qo(e.wpx),e.MDW=Yo):e.wpx?(e.wch=Qo(e.wpx),e.width=Jo(e.wch),e.MDW=Yo):"number"==typeof e.wch&&(e.width=Jo(e.wch),e.wpx=Xo(e.width),e.MDW=Yo),e.customWidth&&delete e.customWidth}var es=96;function ts(e){return 96*e/es}function rs(e){return e*es/96}function ns(e,t){var r,n=[vn,Ln("styleSheet",null,{xmlns:Jn[0],"xmlns:vt":Yn})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=Ln("numFmt",null,{numFmtId:n,formatCode:Sn(e[n])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Ln("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=Ln("cellXfs",null),e.forEach((function(e){t[t.length]=Ln("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Ln("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function as(e,t,r){r||(r=Wa(6+4*t.length)),r.write_shift(2,e),di(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function is(e,t){t||(t=Wa(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=Wa(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ii(e.color,t);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),t.write_shift(1,n),di(e.name,t),t.length>t.l?t.slice(0,t.l):t}var os,ss=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ls=Ua;function cs(e,t){t||(t=Wa(84)),os||(os=Xr(ss));var r=os[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(Ii({auto:1},t),Ii({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function us(e,t,r){r||(r=Wa(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function ds(e,t){return t||(t=Wa(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var hs=Ua;function fs(e){var t;$a(e,613,ci(1)),$a(e,46,(t||(t=Wa(51)),t.write_shift(1,0),ds(0,t),ds(0,t),ds(0,t),ds(0,t),ds(0,t),t.length>t.l?t.slice(0,t.l):t)),$a(e,614)}function ps(e){var t,r;$a(e,619,ci(1)),$a(e,48,(t={xfId:0,builtinId:0,name:"Normal"},r||(r=Wa(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,+t.builtinId),r.write_shift(1,0),Ci(t.name||"",r),r.length>r.l?r.slice(0,r.l):r)),$a(e,620)}function gs(e){$a(e,508,function(e,t,r){var n=Wa(2052);return n.write_shift(4,e),Ci(t,n),Ci(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),$a(e,509)}function ms(e,t){var r=Ga();return $a(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r})),0!=r&&($a(e,615,ci(r)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&$a(e,44,as(n,t[n]))})),$a(e,616))}}(r,e.SSF),function(e){$a(e,611,ci(1)),$a(e,43,is({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),$a(e,612)}(r),function(e){$a(e,603,ci(2)),$a(e,45,cs({patternType:"none"})),$a(e,45,cs({patternType:"gray125"})),$a(e,604)}(r),fs(r),function(e){$a(e,626,ci(1)),$a(e,47,us({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),$a(e,627)}(r),function(e,t){$a(e,617,ci(t.length)),t.forEach((function(t){$a(e,47,us(t,0))})),$a(e,618)}(r,t.cellXfs),ps(r),function(e){$a(e,505,ci(0)),$a(e,506)}(r),gs(r),$a(r,279),r.end()}function vs(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[vn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function bs(){var e=Ga();return $a(e,332),$a(e,334,ci(1)),$a(e,335,function(e){var t=Wa(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),di(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),$a(e,336),$a(e,339,function(e,t){var r=Wa(8+2*t.length);return r.write_shift(4,e),di(t,r),r.slice(0,r.l)}(1,"XLDAPR")),$a(e,52),$a(e,35,ci(514)),$a(e,4096,ci(0)),$a(e,4097,fo(1)),$a(e,36),$a(e,53),$a(e,340),$a(e,337,function(e,t){var r=Wa(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}(1,!0)),$a(e,51,function(e){var t=Wa(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),$a(e,338),$a(e,333),e.end()}function xs(){var e=[vn];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var ys=1024;function ws(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ln("xml",null,{"xmlns:v":aa,"xmlns:o":Zn,"xmlns:x":ea,"xmlns:mv":na}).replace(/\/>/,">"),Ln("o:shapelayout",Ln("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ln("v:shapetype",[Ln("v:stroke",null,{joinstyle:"miter"}),Ln("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ys<1e3*e;)ys+=1e3;return t.forEach((function(e){var t=Za(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?Ln("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=Ln("v:fill",n,r);++ys,a=a.concat(["<v:shape"+Dn({id:"_x0000_s"+ys,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,Ln("v:shadow",null,{on:"t",obscured:"t"}),Ln("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",On("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),On("x:AutoFill","False"),On("x:Row",String(t.r)),On("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),a.push("</xml>"),a.join("")}function Ss(e){var t=[vn,Ln("comments",null,{xmlns:Jn[0]})],r=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var n=Sn(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var n=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(n=r.indexOf(Sn(e.a))),a.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),a.length<=1)t.push(On("t",Sn(a[0]||"")));else{for(var i="Comment:\n    "+a[0]+"\n",o=1;o<a.length;++o)i+="Reply:\n    "+a[o]+"\n";t.push(On("t",Sn(i)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Cs(e,t,r){var n=[vn,Ln("ThreadedComments",null,{xmlns:$n}).replace(/[\/]>/,">")];return e.forEach((function(e){var a="";(e[1]||[]).forEach((function(i,o){if(i.T){i.a&&-1==t.indexOf(i.a)&&t.push(i.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==o?a=s.id:s.parentId=a,i.ID=s.id,i.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(Ln("threadedComment",On("text",i.t||""),s))}else delete i.ID}))})),n.push("</ThreadedComments>"),n.join("")}var Ts=ui;function ks(e){var t=Ga(),r=[];return $a(t,628),$a(t,630),e.forEach((function(e){e[1].forEach((function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),$a(t,632,function(e){return di(e.slice(0,54))}(e.a)))}))})),$a(t,631),$a(t,633),e.forEach((function(e){e[1].forEach((function(n){n.iauthor=r.indexOf(n.a);var a={s:Za(e[0]),e:Za(e[0])};$a(t,635,function(e,t){return null==t&&(t=Wa(36)),t.write_shift(4,e[1].iauthor),Ri(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,n])),n.t&&n.t.length>0&&$a(t,637,gi(n)),$a(t,636),delete n.iauthor}))})),$a(t,634),$a(t,629),t.end()}var Es=["xlsb","xlsm","xlam","biff8","xla"];var _s=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,a){var i=!1,o=!1;0==n.length?o=!0:"["==n.charAt(0)&&(o=!0,n=n.slice(1,-1)),0==a.length?i=!0:"["==a.charAt(0)&&(i=!0,a=a.slice(1,-1));var s=n.length>0?0|parseInt(n,10):0,l=a.length>0?0|parseInt(a,10):0;return i?l+=t.c:--l,o?s+=t.r:--s,r+(i?"":"$")+Ja(l)+(o?"":"$")+Xa(s)}return function(n,a){return t=a,n.replace(e,r)}}(),As=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Fs=function(){return function(e,t){return e.replace(As,(function(e,r,n,a,i,o){var s=Qa(a)-(n?0:t.c),l=Ya(o)-(i?0:t.r);return r+"R"+(0==l?"":i?l+1:"["+l+"]")+"C"+(0==s?"":n?s+1:"["+s+"]")}))}}();function Ps(e,t){return e.replace(As,(function(e,r,n,a,i,o){return r+("$"==n?n+a:Ja(Qa(a)+t.c))+("$"==i?i+o:Xa(Ya(o)+t.r))}))}function Rs(e){e.l+=1}function js(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function Ns(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Is(e);12==r.biff&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=js(e,2),s=js(e,2);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Is(e){var t=js(e,2),r=js(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Os(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=js(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),a=js(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Ds(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function Ls(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function Ms(e){return[e.read_shift(1),e.read_shift(1)]}function zs(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=co(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=Bi[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ji(e);break;case 2:r[1]=xo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Bs(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),a=[],i=0;i!=n;++i)a.push((12==r.biff?Pi:ko)(e,8));return a}function Us(e,t,r){var n=0,a=0;12==r.biff?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--a&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=zs(e,r.biff);return o}function Ws(e,t,r){return e.l+=2,[Ds(e)]}function Gs(e){return e.l+=6,[]}function $s(e){return e.l+=2,[ho(e),1&e.read_shift(2)]}var Hs=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var Vs={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:Ua},3:{n:"PtgAdd",f:Rs},4:{n:"PtgSub",f:Rs},5:{n:"PtgMul",f:Rs},6:{n:"PtgDiv",f:Rs},7:{n:"PtgPower",f:Rs},8:{n:"PtgConcat",f:Rs},9:{n:"PtgLt",f:Rs},10:{n:"PtgLe",f:Rs},11:{n:"PtgEq",f:Rs},12:{n:"PtgGe",f:Rs},13:{n:"PtgGt",f:Rs},14:{n:"PtgNe",f:Rs},15:{n:"PtgIsect",f:Rs},16:{n:"PtgUnion",f:Rs},17:{n:"PtgRange",f:Rs},18:{n:"PtgUplus",f:Rs},19:{n:"PtgUminus",f:Rs},20:{n:"PtgPercent",f:Rs},21:{n:"PtgParen",f:Rs},22:{n:"PtgMissArg",f:Rs},23:{n:"PtgStr",f:function(e,t,r){return e.l++,go(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,Bi[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,ji(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[dl[a],ul[a],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===i[0]?ul:cl)[i[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,i]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,Os(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,Ns(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:Ua},40:{n:"PtgMemNoMem",f:Ua},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==a&&r>=128&&(r-=256),{r:t,c:r,cRel:a,rRel:n}}(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(16384&i)>>14,s=(32768&i)>>15;if(i&=16383,1==s)for(;a>524287;)a-=1048576;if(1==o)for(;i>8191;)i-=16384;return{r:a,c:i,cRel:o,rRel:s}}(e,0,r);return[n,a]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=function(e,t,r){if(r.biff<8)return Is(e);var n=e.read_shift(12==r.biff?4:2),a=e.read_shift(12==r.biff?4:2),i=js(e,2),o=js(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,r);return[n,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,a,Os(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,a,Ns(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6}return e.l+=i,[n,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return e.l+=i,[n,a]}},255:{}},qs={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ks={1:{n:"PtgElfLel",f:$s},2:{n:"PtgElfRw",f:Ws},3:{n:"PtgElfCol",f:Ws},6:{n:"PtgElfRwV",f:Ws},7:{n:"PtgElfColV",f:Ws},10:{n:"PtgElfRadical",f:Ws},11:{n:"PtgElfRadicalS",f:Gs},13:{n:"PtgElfColS",f:Gs},15:{n:"PtgElfColSV",f:Gs},16:{n:"PtgElfRadicalLel",f:$s},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2);return{ixti:t,coltype:3&r,rt:Hs[r>>2&31],idx:n,c:a,C:i}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Ys={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&2==r.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Ls},33:{n:"PtgAttrBaxcel",f:Ls},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),Ms(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),Ms(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Xs(e,t,r,n){if(n.biff<8)return Ua(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Us(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Bs(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&12==n.biff&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return 0!==(t=a-e.l)&&i.push(Ua(e,t)),i}function Qs(e,t,r){for(var n,a,i=e.l+t,o=[];i!=e.l;)t=i-e.l,a=e[e.l],n=Vs[a]||Vs[qs[a]],24!==a&&25!==a||(n=(24===a?Ks:Ys)[e[e.l+1]]),n&&n.f?o.push([n.n,n.f(e,t,r)]):Ua(e,t);return o}function Js(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)if(2===o[0])a.push('"'+o[1].replace(/"/g,'""')+'"');else a.push(o[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var Zs={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function el(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[n[0]][0][3]?(a=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function tl(e,t,r){var n=el(e,t,r);return"#REF"==n?n:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function rl(e,t,r,n,a){var i,o,s,l,c=a&&a.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,m="",v=0,b=e[0].length;v<b;++v){var x=e[0][v];switch(x[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(i=d.pop(),o=d.pop(),g>=0){switch(e[0][g][1][0]){case 0:m=dn(" ",e[0][g][1][1]);break;case 1:m=dn("\r",e[0][g][1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}o+=m,g=-1}d.push(o+Zs[x[0]]+i);break;case"PtgIsect":i=d.pop(),o=d.pop(),d.push(o+" "+i);break;case"PtgUnion":i=d.pop(),o=d.pop(),d.push(o+","+i);break;case"PtgRange":i=d.pop(),o=d.pop(),d.push(o+":"+i);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=Ha(x[1][1],u,a),d.push(qa(s,c));break;case"PtgRefN":s=r?Ha(x[1][1],r,a):x[1][1],d.push(qa(s,c));break;case"PtgRef3d":h=x[1][1],s=Ha(x[1][2],u,a);p=tl(n,h,a);d.push(p+"!"+qa(s,c));break;case"PtgFunc":case"PtgFuncVar":var y=x[1][0],w=x[1][1];y||(y=0);var S=0==(y&=127)?[]:d.slice(-y);d.length-=y,"User"===w&&(w=S.shift()),d.push(w+"("+S.join(",")+")");break;case"PtgBool":d.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":d.push(x[1]);break;case"PtgNum":d.push(String(x[1]));break;case"PtgStr":d.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=Va(x[1][1],r?{s:r}:u,a),d.push(Ka(l,a));break;case"PtgArea":l=Va(x[1][1],u,a),d.push(Ka(l,a));break;case"PtgArea3d":h=x[1][1],l=x[1][2],p=tl(n,h,a),d.push(p+"!"+Ka(l,a));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgName":f=x[1][2];var C=(n.names||[])[f-1]||(n[0]||[])[f],T=C?C.Name:"SH33TJSNAME"+String(f);T&&"_xlfn."==T.slice(0,6)&&!a.xlfn&&(T=T.slice(6)),d.push(T);break;case"PtgNameX":var k,E=x[1][1];if(f=x[1][2],!(a.biff<=5)){var _="";if(14849==((n[E]||[])[0]||[])[0]||(1025==((n[E]||[])[0]||[])[0]?n[E][f]&&n[E][f].itab>0&&(_=n.SheetNames[n[E][f].itab-1]+"!"):_=n.SheetNames[f-1]+"!"),n[E]&&n[E][f])_+=n[E][f].Name;else if(n[0]&&n[0][f])_+=n[0][f].Name;else{var A=(el(n,E,a)||"").split(";;");A[f-1]?_=A[f-1]:_+="SH33TJSERRX"}d.push(_);break}E<0&&(E=-E),n[E]&&(k=n[E][f]),k||(k={Name:"SH33TJSERRY"}),d.push(k.Name);break;case"PtgParen":var F="(",P=")";if(g>=0){switch(m="",e[0][g][1][0]){case 2:F=dn(" ",e[0][g][1][1])+F;break;case 3:F=dn("\r",e[0][g][1][1])+F;break;case 4:P=dn(" ",e[0][g][1][1])+P;break;case 5:P=dn("\r",e[0][g][1][1])+P;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}d.push(F+d.pop()+P);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":d.push("#REF!");break;case"PtgExp":s={c:x[1][1],r:x[1][0]};var R={c:r.c,r:r.r};if(n.sharedf[ei(s)]){var j=n.sharedf[ei(s)];d.push(rl(j,u,R,n,a))}else{var N=!1;for(i=0;i!=n.arrayf.length;++i)if(o=n.arrayf[i],!(s.c<o[0].s.c||s.c>o[0].e.c)&&!(s.r<o[0].s.r||s.r>o[0].e.r)){d.push(rl(o[1],u,R,n,a)),N=!0;break}N||d.push(x[1])}break;case"PtgArray":d.push("{"+Js(x[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgMissArg":d.push("");break;case"PtgList":d.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(x))}if(3!=a.biff&&g>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var I=!0;switch((x=e[0][g])[1][0]){case 4:I=!1;case 0:m=dn(" ",x[1][1]);break;case 5:I=!1;case 1:m=dn("\r",x[1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}d.push((I?m:"")+d.pop()+(I?"":m)),g=-1}}if(d.length>1&&a.WTF)throw new Error("bad formula stack");return d[0]}function nl(e,t,r,n,a){var i=Co(t,r,a),o=function(e){if(null==e){var t=Wa(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Ni("number"==typeof e?e:0)}(e.v),s=Wa(6);s.write_shift(2,33),s.write_shift(4,0);for(var l=Wa(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return Kt([i,o,s,l])}function al(e,t,r){var n=e.read_shift(4),a=Qs(e,n,r),i=e.read_shift(4);return[a,i>0?Xs(e,i,a,r):null]}var il=al,ol=al,sl=al,ll=al,cl={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ul={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},dl={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};var hl="undefined"!==typeof Map;function fl(e,t,r){var n=0,a=e.length;if(r){if(hl?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var i=hl?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t:t},e.Count++,e.Unique++,r&&(hl?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function pl(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Yo=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=Qo(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=Jo(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function gl(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function ml(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],a=60,i=e.length;if(null==n&&r.ssf)for(;a<392;++a)if(null==r.ssf[a]){zr(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function vl(e,t,r){if(e&&e["!ref"]){var n=ni(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var bl=["objects","scenarios","selectLockedCells","selectUnlockedCells"],xl=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function yl(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",i=e.t,o=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Bi[e.v];break;case"d":n&&n.cellDates?a=ln(e.v,-1).toISOString():((e=un(e)).t="n",a=""+(e.v=Zr(ln(e.v)))),"undefined"===typeof e.z&&(e.z=or[14]);break;default:a=e.v}var s=On("v",Sn(a)),l={r:t},c=ml(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=On("v",""+fl(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=i&&(e.t=i,e.v=o),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=Ln("f",Sn(e.f),u)+(null!=e.v?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Ln("c",s,l)}function wl(e,t,r,n){var a,i=[vn,Ln("worksheet",null,{xmlns:Jn[0],"xmlns:r":Kn})],o=r.SheetNames[e],s="",l=r.Sheets[o];null==l&&(l={});var c=l["!ref"]||"A1",u=ni(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=ri(u)}n||(n={}),l["!comments"]=[];var d=[];!function(e,t,r,n,a){var i=!1,o={},s=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(ph){}i=!0,o.codeName=jn(Sn(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),s=(s||"")+Ln("outlinePr",null,c)}(i||s)&&(a[a.length]=Ln("sheetPr",s,o))}(l,r,e,t,i),i[i.length]=Ln("dimension",null,{ref:c}),i[i.length]=function(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ln("sheetViews",Ln("sheetView",null,a),{})}(0,0,0,r),t.sheetFormat&&(i[i.length]=Ln("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=function(e,t){for(var r,n=["<cols>"],a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=Ln("col",null,pl(a,r)));return n[n.length]="</cols>",n.join("")}(0,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=function(e,t){var r,n,a=[],i=[],o=ni(e["!ref"]),s="",l="",c=[],u=0,d=0,h=e["!rows"],f=Array.isArray(e),p={r:l},g=-1;for(d=o.s.c;d<=o.e.c;++d)c[d]=Ja(d);for(u=o.s.r;u<=o.e.r;++u){for(i=[],l=Xa(u),d=o.s.c;d<=o.e.c;++d){r=c[d]+l;var m=f?(e[u]||[])[d]:e[r];void 0!==m&&null!=(s=yl(m,r,e,t))&&i.push(s)}(i.length>0||h&&h[u])&&(p={r:l},h&&h[u]&&((n=h[u]).hidden&&(p.hidden=1),g=-1,n.hpx?g=ts(n.hpx):n.hpt&&(g=n.hpt),g>-1&&(p.ht=g,p.customHeight=1),n.level&&(p.outlineLevel=n.level)),a[a.length]=Ln("row",i.join(""),p))}if(h)for(;u<h.length;++u)h&&h[u]&&(p={r:u+1},(n=h[u]).hidden&&(p.hidden=1),g=-1,n.hpx?g=ts(n.hpx):n.hpt&&(g=n.hpt),g>-1&&(p.ht=g,p.customHeight=1),n.level&&(p.outlineLevel=n.level),a[a.length]=Ln("row","",p));return a.join("")}(l,t,0,0),s.length>0&&(i[i.length]=s)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=function(e){var t={sheet:1};return bl.forEach((function(r){null!=e[r]&&e[r]&&(t[r]="1")})),xl.forEach((function(r){null==e[r]||e[r]||(t[r]="0")})),e.password&&(t.password=Vo(e.password).toString(16).toUpperCase()),Ln("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=function(e,t,r,n){var a="string"==typeof e.ref?e.ref:ri(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=ti(a);o.s.r==o.e.r&&(o.e.r=ti(t["!ref"]).e.r,a=ri(o));for(var s=0;s<i.length;++s){var l=i[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ln("autoFilter",null,{ref:a})}(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ri(e[r])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,f,p=-1,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(g=qi(n,-1,Sn(e[1].Target).replace(/#.*$/,""),$i.HLINK),h["r:id"]="rId"+g),(p=e[1].Target.indexOf("#"))>-1&&(h.location=Sn(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=Sn(e[1].Tooltip)),i[i.length]=Ln("hyperlink",null,h))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=(gl(f=l["!margins"]),Ln("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=On("ignoredErrors",Ln("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(g=qi(n,-1,"../drawings/drawing"+(e+1)+".xml",$i.DRAW),i[i.length]=Ln("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=d),l["!comments"].length>0&&(g=qi(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",$i.VML),i[i.length]=Ln("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Sl(e,t,r,n){var a=function(e,t,r){var n=Wa(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=20*ts(a.hpx):a.hpt&&(i=20*a.hpt),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var s=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[ei(c)])&&(d<0&&(d=f),h=f);d<0||(++s,n.write_shift(4,d),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,s),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&$a(e,0,a)}var Cl=Pi,Tl=Ri;function kl(e){return[bi(e),ji(e),"n"]}var El=Pi,_l=Ri;var Al=["left","right","top","bottom","header","footer"];function Fl(e,t,r,n,a,i,o){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=un(t)).z=t.z||or[14],t.v=Zr(ln(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var l={r:r,c:n};switch(l.s=ml(a.cellXfs,t,a),t.l&&i["!links"].push([ei(l),t.l]),t.c&&i["!comments"].push([ei(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=fl(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,o?$a(e,18,function(e,t,r){return null==r&&(r=Wa(8)),xi(t,r),r.write_shift(4,t.v),r}(0,l)):$a(e,7,function(e,t,r){return null==r&&(r=Wa(12)),vi(t,r),r.write_shift(4,t.v),r}(0,l))):(l.t="str",o?$a(e,17,function(e,t,r){return null==r&&(r=Wa(8+4*e.v.length)),xi(t,r),di(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l)):$a(e,6,function(e,t,r){return null==r&&(r=Wa(12+4*e.v.length)),vi(t,r),di(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?o?$a(e,13,function(e,t,r){return null==r&&(r=Wa(8)),xi(t,r),Ai(e.v,r),r}(t,l)):$a(e,2,function(e,t,r){return null==r&&(r=Wa(12)),vi(t,r),Ai(e.v,r),r}(t,l)):o?$a(e,16,function(e,t,r){return null==r&&(r=Wa(12)),xi(t,r),Ni(e.v,r),r}(t,l)):$a(e,5,function(e,t,r){return null==r&&(r=Wa(16)),vi(t,r),Ni(e.v,r),r}(t,l)),!0;case"b":return l.t="b",o?$a(e,15,function(e,t,r){return null==r&&(r=Wa(5)),xi(t,r),r.write_shift(1,e.v?1:0),r}(t,l)):$a(e,4,function(e,t,r){return null==r&&(r=Wa(9)),vi(t,r),r.write_shift(1,e.v?1:0),r}(t,l)),!0;case"e":return l.t="e",o?$a(e,14,function(e,t,r){return null==r&&(r=Wa(8)),xi(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,l)):$a(e,3,function(e,t,r){return null==r&&(r=Wa(9)),vi(t,r),r.write_shift(1,e.v),r}(t,l)),!0}return o?$a(e,12,function(e,t,r){return null==r&&(r=Wa(4)),xi(t,r)}(0,l)):$a(e,1,function(e,t,r){return null==r&&(r=Wa(8)),vi(t,r)}(0,l)),!0}function Pl(e,t){var r,n;t&&t["!merges"]&&($a(e,177,(r=t["!merges"].length,null==n&&(n=Wa(4)),n.write_shift(4,r),n)),t["!merges"].forEach((function(t){$a(e,176,_l(t))})),$a(e,178))}function Rl(e,t){t&&t["!cols"]&&($a(e,390),t["!cols"].forEach((function(t,r){t&&$a(e,60,function(e,t,r){null==r&&(r=Wa(18));var n=pl(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof n.width&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}(r,t))})),$a(e,391))}function jl(e,t){t&&t["!ref"]&&($a(e,648),$a(e,649,function(e){var t=Wa(24);return t.write_shift(4,4),t.write_shift(4,1),Ri(e,t),t}(ni(t["!ref"]))),$a(e,650))}function Nl(e,t,r){t["!links"].forEach((function(t){if(t[1].Target){var n=qi(r,-1,t[1].Target.replace(/#.*$/,""),$i.HLINK);$a(e,494,function(e,t){var r=Wa(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ri({s:Za(e[0]),e:Za(e[0])},r),Ei("rId"+t,r);var n=e[1].Target.indexOf("#");return di((-1==n?"":e[1].Target.slice(n+1))||"",r),di(e[1].Tooltip||"",r),di("",r),r.slice(0,r.l)}(t,n))}})),delete t["!links"]}function Il(e,t,r){$a(e,133),$a(e,137,function(e,t,r){null==r&&(r=Wa(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),$a(e,138),$a(e,134)}function Ol(e,t){var r,n;t["!protect"]&&$a(e,535,(r=t["!protect"],null==n&&(n=Wa(66)),n.write_shift(2,r.password?Vo(r.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?n.write_shift(4,null==r[e[0]]||r[e[0]]?0:1):n.write_shift(4,null!=r[e[0]]&&r[e[0]]?0:1)})),n))}function Dl(e,t,r,n){var a=Ga(),i=r.SheetNames[e],o=r.Sheets[i]||{},s=i;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch(ph){}var l,c,u=ni(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],$a(a,129),(r.vbaraw||o["!outline"])&&$a(a,147,function(e,t,r){null==r&&(r=Wa(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Ii({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),wi(e,r),r.slice(0,r.l)}(s,o["!outline"])),$a(a,148,Tl(u)),Il(a,0,r.Workbook),Rl(a,o),function(e,t,r,n){var a,i=ni(t["!ref"]||"A1"),o="",s=[];$a(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){o=Xa(u),Sl(e,t,i,u);var d=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(s[h]=Ja(h)),a=s[h]+o;var f=l?(t[u]||[])[h]:t[a];d=!!f&&Fl(e,f,u,h,n,t,d)}}$a(e,146)}(a,o,0,t),Ol(a,o),function(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i="string"===typeof a.ref?a.ref:ri(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=ti(i);s.s.r==s.e.r&&(s.e.r=ti(t["!ref"]).e.r,i=ri(s));for(var l=0;l<o.length;++l){var c=o[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),$a(e,161,Ri(ni(i))),$a(e,162)}}(a,o,r,e),Pl(a,o),Nl(a,o,n),o["!margins"]&&$a(a,476,(l=o["!margins"],null==c&&(c=Wa(48)),gl(l),Al.forEach((function(e){Ni(l[e],c)})),c)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||jl(a,o),function(e,t,r,n){if(t["!comments"].length>0){var a=qi(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",$i.VML);$a(e,551,Ei("rId"+a)),t["!legacy"]=a}}(a,o,e,n),$a(a,130),a.end()}var Ll=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var Ml="][*?/\\".split("");function zl(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return Ml.forEach((function(n){if(-1!=e.indexOf(n)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}})),r}function Bl(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,r,n,a=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,r=a,n=!!e.vbaraw,t.forEach((function(e,a){zl(e);for(var i=0;i<a;++i)if(e==t[i])throw new Error("Duplicate Sheet Name: "+e);if(n){var o=r&&r[a]&&r[a].CodeName||e;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}}));for(var i=0;i<e.SheetNames.length;++i)vl(e.Sheets[e.SheetNames[i]],e.SheetNames[i],i)}function Ul(e){var t=[vn];t[t.length]=Ln("workbook",null,{xmlns:Jn[0],"xmlns:r":Kn});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Ll.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ln("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&a[i]&&a[i].Hidden;++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Sn(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}t[t.length]=Ln("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=Ln("definedName",Sn(e.Ref),r))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Wl(e,t){return t||(t=Wa(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Ei(e.strRelID,t),di(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Gl(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,n,a=t.Workbook.Sheets,i=0,o=-1,s=-1;i<a.length;++i)!a[i]||!a[i].Hidden&&-1==o?o=i:1==a[i].Hidden&&-1==s&&(s=i);if(!(s>o))$a(e,135),$a(e,158,(r=o,n||(n=Wa(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,r),n.write_shift(4,r),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n)),$a(e,136)}}function $l(e,t){var r=Ga();return $a(r,131),$a(r,128,function(e,t){t||(t=Wa(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return di("SheetJS",t),di(Et.version,t),di(Et.version,t),di("7262",t),t.length>t.l?t.slice(0,t.l):t}()),$a(r,153,function(e,t){t||(t=Wa(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),wi(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),Gl(r,e),function(e,t){$a(e,143);for(var r=0;r!=t.SheetNames.length;++r)$a(e,156,Wl({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]}));$a(e,144)}(r,e),$a(r,132),r.end()}function Hl(e,t,r,n,a){return(".bin"===t.slice(-4)?Dl:wl)(e,r,n,a)}function Vl(e,t,r){return(".bin"===t.slice(-4)?ks:Ss)(e,r)}function ql(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return Kr(no).map((function(e){for(var t=0;t<Xi.length;++t)if(Xi[t][1]==e)return Xi[t];for(t=0;t<Zi.length;++t)if(Zi[t][1]==e)return Zi[t];throw e})).forEach((function(n){if(null!=e[n[1]]){var a=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(On(no[n[1]]||n[1],a))}})),Ln("DocumentProperties",r.join(""),{xmlns:Zn})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Kr(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<Xi.length;++n)if(t==Xi[n][1])return;for(n=0;n<Zi.length;++n)if(t==Zi[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var i=e[t],o="string";"number"==typeof i?(o="float",i=String(i)):!0===i||!1===i?(o="boolean",i=i?"1":"0"):i=String(i),a.push(Ln(Cn(t),i,{"dt:dt":o}))}})),t&&Kr(t).forEach((function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],i="string";"number"==typeof n?(i="float",n=String(n)):!0===n||!1===n?(i="boolean",n=n?"1":"0"):n instanceof Date?(i="dateTime.tz",n=n.toISOString()):n=String(n),a.push(Ln(Cn(r),n,{"dt:dt":i}))}})),"<"+n+' xmlns="'+Zn+'">'+a.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function Kl(e){return Ln("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Fs(e.Ref,{r:0,c:0})})}function Yl(e,t,r,n,a,i,o){if(!e||void 0==e.v&&void 0==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+Sn(Fs(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=Za(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=Sn(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=Sn(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c==o.c&&c[u].s.r==o.r&&(c[u].e.c>c[u].s.c&&(s["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(s["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=Bi[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||or[14]);break;case"s":d="String",h=((e.v||"")+"").replace(yn,(function(e){return xn[e]})).replace(Tn,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=ml(n.cellXfs,e,n);s["ss:StyleID"]="s"+(21+f),s["ss:Index"]=o.c+1;var p=null!=e.v?h:"",g="z"==e.t?"":'<Data ss:Type="'+d+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=e.c.map((function(e){var t=Ln("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Ln("Comment",t,{"ss:Author":e.a})})).join("")),Ln("Cell",g,s)}function Xl(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=rs(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Ql(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||i.push(Kl(s)))}return i.join("")}(i,0,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?function(e,t){if(!e["!ref"])return"";var r=ni(e["!ref"]),n=e["!merges"]||[],a=0,i=[];e["!cols"]&&e["!cols"].forEach((function(e,t){Zo(e);var r=!!e.width,n=pl(t,e),a={"ss:Index":t+1};r&&(a["ss:Width"]=Xo(n.width)),e.hidden&&(a["ss:Hidden"]="1"),i.push(Ln("Column",null,a))}));for(var o=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var l=[Xl(s,(e["!rows"]||[])[s])],c=r.s.c;c<=r.e.c;++c){var u=!1;for(a=0;a!=n.length;++a)if(!(n[a].s.c>c)&&!(n[a].s.r>s)&&!(n[a].e.c<c)&&!(n[a].e.r<s)){n[a].s.c==c&&n[a].s.r==s||(u=!0);break}if(!u){var d={r:s,c:c},h=ei(d),f=o?(e[s]||[])[c]:e[h];l.push(Yl(f,h,e,t,0,0,d))}}l.push("</Row>"),l.length>2&&i.push(l.join(""))}return i.join("")}(i,t):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ln("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ln("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ln("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ln("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&(!n.Workbook.Sheets[i]||n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(On("ProtectContents","True")),e["!protect"].objects&&a.push(On("ProtectObjects","True")),e["!protect"].scenarios&&a.push(On("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push(On("EnableSelection","UnlockedCells")):a.push(On("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")}))),0==a.length?"":Ln("WorksheetOptions",a.join(""),{xmlns:ea})}(i,0,e,r)),n.join("")}function Jl(e,t){t||(t={}),e.SSF||(e.SSF=un(or)),e.SSF&&(Ur(),Br(e.SSF),t.revssf=Qr(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],ml(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ql(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ln("Worksheet",Ql(n,t,e),{"ss:Name":Sn(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var n=[];n.push(Ln("NumberFormat",null,{"ss:Format":Sn(or[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};r.push(Ln("Style",n.join(""),a))})),Ln("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||r.push(Kl(a)))}return Ln("Names",r.join(""))}(e),vn+Ln("Workbook",r.join(""),{xmlns:ta,"xmlns:o":Zn,"xmlns:x":ea,"xmlns:ss":ta,"xmlns:dt":ra,"xmlns:html":ia})}var Zl="e0859ff2f94f6810ab9108002b27b3d9",ec="02d5cdd59c2e1b10939708002b2cf9ae",tc="05d5cdd59c2e1b10939708002b2cf9ae";function rc(e,t){var r=t||{},n=$r.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return $r.utils.cfb_add(n,a,fc(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],a=[],i=[],o=0,s=Yr(Di,"n"),l=Yr(Li,"n");if(e.Props)for(r=Kr(e.Props),o=0;o<r.length;++o)(Object.prototype.hasOwnProperty.call(s,r[o])?n:Object.prototype.hasOwnProperty.call(l,r[o])?a:i).push([r[o],e.Props[r[o]]]);if(e.Custprops)for(r=Kr(e.Custprops),o=0;o<r.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},r[o])||(Object.prototype.hasOwnProperty.call(s,r[o])?n:Object.prototype.hasOwnProperty.call(l,r[o])?a:i).push([r[o],e.Custprops[r[o]]]);var c=[];for(o=0;o<i.length;++o)io.indexOf(i[o][0])>-1||eo.indexOf(i[o][0])>-1||null!=i[o][1]&&c.push(i[o]);a.length&&$r.utils.cfb_add(t,"/\x05SummaryInformation",lo(a,Zl,l,Li)),(n.length||c.length)&&$r.utils.cfb_add(t,"/\x05DocumentSummaryInformation",lo(n,ec,s,Di,c.length?c:null,tc))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(r,n){if(0!=n){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&$r.utils.cfb_add(e,a,t.FileIndex[n].content)}}))}(n,$r.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var nc={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,7&i&&(r.level=7&i),16&i&&(r.hidden=!0),32&i&&(r.hpt=a/20),r}},1:{f:function(e){return[mi(e)]}},2:{f:function(e){return[mi(e),_i(e),"n"]}},3:{f:function(e){return[mi(e),e.read_shift(1),"e"]}},4:{f:function(e){return[mi(e),e.read_shift(1),"b"]}},5:{f:function(e){return[mi(e),ji(e),"n"]}},6:{f:function(e){return[mi(e),ui(e),"str"]}},7:{f:function(e){return[mi(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,a=mi(e);a.r=r["!row"];var i=[a,ui(e),"str"];if(r.cellFormula){e.l+=2;var o=ol(e,n-e.l,r);i[3]=rl(o,0,a,r.supbooks,r)}else e.l=n;return i}},9:{f:function(e,t,r){var n=e.l+t,a=mi(e);a.r=r["!row"];var i=[a,ji(e),"n"];if(r.cellFormula){e.l+=2;var o=ol(e,n-e.l,r);i[3]=rl(o,0,a,r.supbooks,r)}else e.l=n;return i}},10:{f:function(e,t,r){var n=e.l+t,a=mi(e);a.r=r["!row"];var i=[a,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var o=ol(e,n-e.l,r);i[3]=rl(o,0,a,r.supbooks,r)}else e.l=n;return i}},11:{f:function(e,t,r){var n=e.l+t,a=mi(e);a.r=r["!row"];var i=[a,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var o=ol(e,n-e.l,r);i[3]=rl(o,0,a,r.supbooks,r)}else e.l=n;return i}},12:{f:function(e){return[bi(e)]}},13:{f:function(e){return[bi(e),_i(e),"n"]}},14:{f:function(e){return[bi(e),e.read_shift(1),"e"]}},15:{f:function(e){return[bi(e),e.read_shift(1),"b"]}},16:{f:kl},17:{f:function(e){return[bi(e),ui(e),"str"]}},18:{f:function(e){return[bi(e),e.read_shift(4),"s"]}},19:{f:fi},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Ti(e),o=sl(e,0,r),s=Si(e);e.l=n;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var i=e.read_shift(1);0!=i&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var s=e.read_shift(1);switch(s>0&&(n.charset=s),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var l=zi[n];l&&(t.rgb=Ko(l));break;case 2:t.rgb=Ko([i,o,s]);break;case 3:t.theme=n}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=ui(e),n}},44:{f:function(e,t){return[e.read_shift(2),ui(e)]}},45:{f:ls},46:{f:hs},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Io},62:{f:function(e){return[mi(e),fi(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ei(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ua,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=yi(e,t-19),r}},148:{f:Cl,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ui(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=ki(e,t-8),r.name=ui(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:Pi},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:El},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ui(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ki},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ro},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,a=Fi(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var s=il(e,n-e.l,r);o[1]=s}else e.l=n;return o}},427:{f:function(e,t,r){var n=e.l+t,a=[Pi(e,16)];if(r.cellFormula){var i=ll(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return Al.forEach((function(r){t[r]=ji(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=Pi(e,16),a=Si(e),i=ui(e),o=ui(e),s=ui(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ki},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ts},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=Pi(e,16);return t.rfx=r.s,t.ref=ei(r.s),e.l+=16,t}},636:{T:-1},637:{f:pi},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:ui(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ac(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Ea(r)&&e.push(r)}}function ic(e,t,r){return e||(e=Wa(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function oc(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?Zr(ln(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?ac(e,2,function(e,t,r){var n=Wa(9);return ic(n,e,t),n.write_shift(2,r),n}(r,n,a)):ac(e,3,function(e,t,r){var n=Wa(15);return ic(n,e,t),n.write_shift(8,r,"f"),n}(r,n,a)));case"b":case"e":return void ac(e,5,function(e,t,r,n){var a=Wa(9);return ic(a,e,t),po(r,n||"b",a),a}(r,n,t.v,t.t));case"s":case"str":return void ac(e,4,function(e,t,r){var n=Wa(8+2*r.length);return ic(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}ac(e,1,ic(null,r,n))}function sc(e,t){var r=t||{};for(var n=Ga(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(0==a&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ac(n,4==r.biff?1033:3==r.biff?521:9,_o(0,16,r)),function(e,t,r,n){var a,i=Array.isArray(t),o=ni(t["!ref"]||"A1"),s="",l=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),a=ri(o)}for(var c=o.s.r;c<=o.e.r;++c){s=Xa(c);for(var u=o.s.c;u<=o.e.c;++u){c===o.s.r&&(l[u]=Ja(u)),a=l[u]+s;var d=i?(t[c]||[])[u]:t[a];d&&oc(e,d,c,u)}}}(n,e.Sheets[e.SheetNames[a]],0,r),ac(n,10),n.end()}function lc(e,t,r){ac(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,a=Wa(n?15+r.length:16+2*r.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function cc(e,t){if(t){var r=0;t.forEach((function(t,n){++r<=256&&t&&ac(e,125,function(e,t){var r=Wa(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(pl(n,t),n))}))}}function uc(e,t,r,n,a){var i=16+ml(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)ac(e,6,nl(t,r,n,0,i));else switch(t.t){case"d":case"n":ac(e,515,function(e,t,r,n){var a=Wa(14);return Co(e,t,n,a),Ni(r,a),a}(r,n,"d"==t.t?Zr(ln(t.v)):t.v,i));break;case"b":case"e":ac(e,517,function(e,t,r,n,a,i){var o=Wa(8);return Co(e,t,n,o),po(r,i,o),o}(r,n,t.v,i,0,t.t));break;case"s":case"str":if(a.bookSST)ac(e,253,function(e,t,r,n){var a=Wa(10);return Co(e,t,n,a),a.write_shift(4,r),a}(r,n,fl(a.Strings,t.v,a.revStrings),i));else ac(e,516,function(e,t,r,n,a){var i=!a||8==a.biff,o=Wa(+i+8+(1+i)*r.length);return Co(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}(r,n,(t.v||"").slice(0,255),i,a));break;default:ac(e,513,Co(r,n,i))}else ac(e,513,Co(r,n,i))}function dc(e,t,r){var n,a=Ga(),i=r.SheetNames[e],o=r.Sheets[i]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[e]||{},c=Array.isArray(o),u=8==t.biff,d="",h=[],f=ni(o["!ref"]||"A1"),p=u?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}ac(a,2057,_o(0,16,t)),ac(a,13,fo(1)),ac(a,12,fo(100)),ac(a,15,uo(!0)),ac(a,17,uo(!1)),ac(a,16,Ni(.001)),ac(a,95,uo(!0)),ac(a,42,uo(!1)),ac(a,43,uo(!1)),ac(a,130,fo(1)),ac(a,128,function(e){var t=Wa(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),ac(a,131,uo(!1)),ac(a,132,uo(!1)),u&&cc(a,o["!cols"]),ac(a,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=Wa(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(f,t)),u&&(o["!links"]=[]);for(var g=f.s.r;g<=f.e.r;++g){d=Xa(g);for(var m=f.s.c;m<=f.e.c;++m){g===f.s.r&&(h[m]=Ja(m)),n=h[m]+d;var v=c?(o[g]||[])[m]:o[n];v&&(uc(a,v,g,m,t),u&&v.l&&o["!links"].push([n,v.l]))}}var b=l.CodeName||l.name||i;return u&&ac(a,574,function(e){var t=Wa(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((s.Views||[])[0])),u&&(o["!merges"]||[]).length&&ac(a,229,function(e){var t=Wa(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Eo(e[r],t);return t}(o["!merges"])),u&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ac(e,440,jo(n)),n[1].Tooltip&&ac(e,2048,No(n))}delete t["!links"]}(a,o),ac(a,442,yo(b)),u&&function(e,t){var r=Wa(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ac(e,2151,r),(r=Wa(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Eo(ni(t["!ref"]||"A1"),r),r.write_shift(4,4),ac(e,2152,r)}(a,o),ac(a,10),a.end()}function hc(e,t,r){var n=Ga(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=8==r.biff,l=5==r.biff;(ac(n,2057,_o(0,5,r)),"xla"==r.bookType&&ac(n,135),ac(n,225,s?fo(1200):null),ac(n,193,function(e,t){t||(t=Wa(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),l&&ac(n,191),l&&ac(n,192),ac(n,226),ac(n,92,function(e,t){var r=!t||8==t.biff,n=Wa(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),ac(n,66,fo(s?1200:1252)),s&&ac(n,353,fo(0)),s&&ac(n,448),ac(n,317,function(e){for(var t=Wa(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),s&&e.vbaraw&&ac(n,211),s&&e.vbaraw)&&ac(n,442,yo(o.CodeName||"ThisWorkbook"));ac(n,156,fo(17)),ac(n,25,uo(!1)),ac(n,18,uo(!1)),ac(n,19,fo(0)),s&&ac(n,431,uo(!1)),s&&ac(n,444,fo(0)),ac(n,61,function(){var e=Wa(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),ac(n,64,uo(!1)),ac(n,141,fo(0)),ac(n,34,uo("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&En(e.Workbook.WBProps.date1904)?"true":"false"}(e))),ac(n,14,uo(!0)),s&&ac(n,439,uo(!1)),ac(n,218,fo(0)),lc(n,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var a=n[0];a<=n[1];++a)null!=t[a]&&ac(e,1054,Fo(a,t[a],r))}))}(n,e.SSF,r),function(e,t){for(var r=0;r<16;++r)ac(e,224,Po({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(r){ac(e,224,Po(r,0,t))}))}(n,r),s&&ac(n,352,uo(!1));var c,u=n.end(),d=Ga();s&&ac(d,140,(c||(c=Wa(4)),c.write_shift(2,1),c.write_shift(2,1),c)),s&&r.Strings&&function(e,t,r,n){var a=n||(r||[]).length||0;if(a<=8224)return ac(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],s=0,l=0,c=0;c+(o[s]||8224)<=8224;)c+=o[s]||8224,s++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for((u=e.next(4)).write_shift(2,60),c=0;c+(o[s]||8224)<=8224;)c+=o[s]||8224,s++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}(d,252,function(e){var t=Wa(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=mo(e[n]);var a=Kt([t].concat(r));return a.parts=[t.length].concat(r.map((function(e){return e.length}))),a}(r.Strings)),ac(d,10);var h=d.end(),f=Ga(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(s?12:11)+(s?2:1)*e.SheetNames[g].length;var m=u.length+p+h.length;for(g=0;g<e.SheetNames.length;++g){ac(f,133,Ao({pos:m,hs:(i[g]||{}).Hidden||0,dt:0,name:e.SheetNames[g]},r)),m+=t[g].length}var v=f.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var b=[];return u.length&&b.push(u),v.length&&b.push(v),h.length&&b.push(h),Kt(b)}function fc(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])ti(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=un(or)),e&&e.SSF&&(Ur(),Br(e.SSF),r.revssf=Qr(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Gc(r),r.cellXfs=[],ml(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=dc(a,r,e);return n.unshift(hc(e,n,r)),Kt(n)}(e,t);case 4:case 3:case 2:return sc(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function pc(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>o)&&!(a[c].e.r<r||a[c].e.c<o)){if(a[c].s.r<r||a[c].s.c<o){s=-1;break}s=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(s<0)){var u=ei({r:r,c:o}),d=n.dense?(e[r]||[])[o]:e[u],h=d&&null!=d.v&&(d.h||kn(d.w||(ii(d),d.w)||""))||"",f={};s>1&&(f.rowspan=s),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",null!=d.v&&(f["data-v"]=d.v),null!=d.z&&(f["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(Ln("td",h,f))}}return"<tr>"+i.join("")+"</tr>"}var gc='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mc="</body></html>";function vc(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function bc(e,t){var r=t||{},n=null!=r.header?r.header:gc,a=null!=r.footer?r.footer:mc,i=[n],o=ti(e["!ref"]);r.dense=Array.isArray(e),i.push(vc(0,0,r));for(var s=o.s.r;s<=o.e.r;++s)i.push(pc(e,o,s,r));return i.push("</table>"+a),i.join("")}function xc(e,t,r){var n=r||{};var a=0,i=0;if(null!=n.origin)if("number"==typeof n.origin)a=n.origin;else{var o="string"==typeof n.origin?Za(n.origin):n.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=ti(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==a&&(c.e.r=a=u.e.r+1)}var d=[],h=0,f=e["!rows"]||(e["!rows"]=[]),p=0,g=0,m=0,v=0,b=0,x=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&g<l;++p){var y=s[p];if(wc(y)){if(n.display)continue;f[g]={hidden:!0}}var w=y.children;for(m=v=0;m<w.length;++m){var S=w[m];if(!n.display||!wc(S)){var C=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):Nn(S.innerHTML),T=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<d.length;++h){var k=d[h];k.s.c==v+i&&k.s.r<g+a&&g+a<=k.e.r&&(v=k.e.c+1-i,h=-1)}x=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||x>1)&&d.push({s:{r:g+a,c:v+i},e:{r:g+a+(b||1)-1,c:v+i+(x||1)-1}});var E={t:"s",v:C},_=S.getAttribute("data-t")||S.getAttribute("t")||"";null!=C&&(0==C.length?E.t=_||"z":n.raw||0==C.trim().length||"s"==_||("TRUE"===C?E={t:"b",v:!0}:"FALSE"===C?E={t:"b",v:!1}:isNaN(hn(C))?isNaN(pn(C).getDate())||(E={t:"d",v:ln(C)},n.cellDates||(E={t:"n",v:Zr(E.v)}),E.z=n.dateNF||or[14]):E={t:"n",v:hn(C)})),void 0===E.z&&null!=T&&(E.z=T);var A="",F=S.getElementsByTagName("A");if(F&&F.length)for(var P=0;P<F.length&&(!F[P].hasAttribute("href")||"#"==(A=F[P].getAttribute("href")).charAt(0));++P);A&&"#"!=A.charAt(0)&&(E.l={Target:A}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+i]=E):e[ei({c:v+i,r:g+a})]=E,c.e.c<v+i&&(c.e.c=v+i),v+=x}}++g}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,g-1+a),e["!ref"]=ri(c),g>=l&&(e["!fullref"]=ri((c.e.r=s.length-p+g-1+a,c))),e}function yc(e,t){return xc((t||{}).dense?[]:{},e,t)}function wc(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var Sc=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Dn({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return vn+t}}(),Cc=function(){var e="          <table:table-cell />\n",t=function(t,r,n){var a=[];a.push('      <table:table table:name="'+Sn(r.SheetNames[n])+'" table:style-name="ta1">\n');var i=0,o=0,s=ti(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,u=Array.isArray(t);if(t["!cols"])for(o=0;o<=s.e.c;++o)a.push("        <table:table-column"+(t["!cols"][o]?' table:style-name="co'+t["!cols"][o].ods+'"':"")+"></table:table-column>\n");var d="",h=t["!rows"]||[];for(i=0;i<s.s.r;++i)d=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+d+"></table:table-row>\n");for(;i<=s.e.r;++i){for(d=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+d+">\n"),o=0;o<s.s.c;++o)a.push(e);for(;o<=s.e.c;++o){var f=!1,p={},g="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>o)&&!(l[c].s.r>i)&&!(l[c].e.c<o)&&!(l[c].e.r<i)){l[c].s.c==o&&l[c].s.r==i||(f=!0),p["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,p["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(f)a.push("          <table:covered-table-cell/>\n");else{var m=ei({r:i,c:o}),v=u?(t[i]||[])[o]:t[m];if(v&&v.f&&(p["table:formula"]=Sn(("of:="+v.f.replace(As,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),v.F&&v.F.slice(0,m.length)==m)){var b=ti(v.F);p["table:number-matrix-columns-spanned"]=b.e.c-b.s.c+1,p["table:number-matrix-rows-spanned"]=b.e.r-b.s.r+1}if(v){switch(v.t){case"b":g=v.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=v.v?"true":"false";break;case"n":g=v.w||String(v.v||0),p["office:value-type"]="float",p["office:value"]=v.v||0;break;case"s":case"str":g=null==v.v?"":v.v,p["office:value-type"]="string";break;case"d":g=v.w||ln(v.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=ln(v.v).toISOString(),p["table:style-name"]="ce1";break;default:a.push(e);continue}var x=Sn(g).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(v.l&&v.l.Target){var y=v.l.Target;"#"==(y="#"==y.charAt(0)?"#"+y.slice(1).replace(/\./,"!"):y).charAt(0)||y.match(/^\w+:/)||(y="../"+y),x=Ln("text:a",x,{"xlink:href":y.replace(/&/g,"&amp;")})}a.push("          "+Ln("table:table-cell",Ln("text:p",x,{}),p)+"\n")}else a.push(e)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,r){var n=[vn],a=Dn({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),i=Dn({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==r.bookType?(n.push("<office:document"+a+i+">\n"),n.push(Yi().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var a=t["!cols"][n];if(null==a.width&&null==a.wpx&&null==a.wch)continue;Zo(a),a.ods=r;var i=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}}));var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var a=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++n}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var o=0;o!=e.SheetNames.length;++o)n.push(t(e.Sheets[e.SheetNames[o]],e,o));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==r.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function Tc(e,t){if("fods"==t.bookType)return Cc(e,t);var r=mn(),n="",a=[],i=[];return gn(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),gn(r,n="content.xml",Cc(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),gn(r,n="styles.xml",Sc(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),gn(r,n="meta.xml",vn+Yi()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),gn(r,n="manifest.rdf",function(e){var t,r,n=[vn];n.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var a=0;a!=e.length;++a)n.push(Ki(e[a][0],e[a][1])),n.push((t="",r=e[a][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+'"/>\n',"  </rdf:Description>\n"].join("")));return n.push(Ki("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}(i)),a.push([n,"application/rdf+xml"]),gn(r,n="META-INF/manifest.xml",function(e){var t=[vn];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),r}function kc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ec(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Ht(jn(e))}function _c(e){var t=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(t),n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}function Ac(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function Fc(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Pc(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function Rc(e){for(var t=[],r=[0];r[0]<e.length;){var n,a=r[0],i=Ac(e,r),o=7&i,s=0;if(0==(i=Math.floor(i/8)))break;switch(o){case 0:for(var l=r[0];e[r[0]++]>=128;);n=e.slice(l,r[0]);break;case 5:s=4,n=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,n=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Ac(e,r),n=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(a))}var c={data:n,type:o};null==t[i]?t[i]=[c]:t[i].push(c)}return t}function jc(e){var t=[];return e.forEach((function(e,r){e.forEach((function(e){e.data&&(t.push(Fc(8*r+e.type)),2==e.type&&t.push(Fc(e.data.length)),t.push(e.data))}))})),_c(t)}function Nc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Ac(e,n),i=Rc(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Pc(i[1][0].data),messages:[]};i[2].forEach((function(t){var r=Rc(t.data),a=Pc(r[3][0].data);o.messages.push({meta:r,data:e.slice(n[0],n[0]+a)}),n[0]+=a})),(null==(t=i[3])?void 0:t[0])&&(o.merge=Pc(i[3][0].data)>>>0>0),r.push(o)}return r}function Ic(e){var t=[];return e.forEach((function(e){var r=[];r[1]=[{data:Fc(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:Fc(+!!e.merge),type:0}]);var n=[];e.messages.forEach((function(e){n.push(e.data),e.meta[3]=[{type:0,data:Fc(e.data.length)}],r[2].push({data:jc(e.meta),type:2})}));var a=jc(r);t.push(Fc(a.length)),t.push(a),n.forEach((function(e){return t.push(e)}))})),_c(t)}function Oc(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ac(t,r),a=[];r[0]<t.length;){var i=3&t[r[0]];if(0!=i){var o=0,s=0;if(1==i?(s=4+(t[r[0]]>>2&7),o=(224&t[r[0]++])<<3,o|=t[r[0]++]):(s=1+(t[r[0]++]>>2),2==i?(o=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(o=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[_c(a)],0==o)throw new Error("Invalid offset 0");if(o>a[0].length)throw new Error("Invalid offset beyond length");if(s>=o)for(a.push(a[0].slice(-o)),s-=o;s>=a[a.length-1].length;)a.push(a[a.length-1]),s-=a[a.length-1].length;a.push(a[0].slice(-o,-o+s))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}a.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var u=_c(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Dc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Oc(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return _c(t)}function Lc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Fc(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=255&o,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return _c(t)}function Mc(e,t){var r=new Uint8Array(32),n=kc(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=255&a;e[t+15]|=r>=0?0:128}(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function zc(e,t){var r=new Uint8Array(32),n=kc(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Bc(e){return Ac(Rc(e)[1][0].data)}function Uc(e,t,r){var n,a,i,o;if(!(null==(n=e[6])?void 0:n[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(o=null==(i=e[8])?void 0:i[0])?void 0:o.data)&&Pc(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var s=0,l=kc(e[7][0].data),c=0,u=[],d=kc(e[4][0].data),h=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var g,m;switch(l.setUint16(2*p,c,!0),d.setUint16(2*p,h,!0),typeof t[p]){case"string":g=Mc({t:"s",v:t[p]},r),m=zc({t:"s",v:t[p]},r);break;case"number":g=Mc({t:"n",v:t[p]},r),m=zc({t:"n",v:t[p]},r);break;case"boolean":g=Mc({t:"b",v:t[p]},r),m=zc({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}u.push(g),c+=g.length,f.push(m),h+=m.length,++s}else l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535);for(e[2][0].data=Fc(s);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535,!0);return e[6][0].data=_c(u),e[3][0].data=_c(f),s}function Wc(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function Gc(e){Wc([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function $c(e,t){return"ods"==t.bookType?Tc(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ti(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ri(n)));var i=tu(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&o.push(e)}))}));var s={},l=[],c=$r.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&Nc(Dc(t.content)).forEach((function(e){l.push(e.id),s[e.id]={deps:[],location:r,type:Pc(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var u=l.filter((function(e){return e>1})).map((function(e){return[e,Fc(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&Nc(Dc(t.content)).forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=Pc(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])}))&&s[t[0]].deps.push(e.id)}))}))}))}));for(var d,h=$r.find(c,s[1].location),f=Nc(Dc(h.content)),p=0;p<f.length;++p){var g=f[p];1==g.id&&(d=g)}var m=Bc(Rc(d.messages[0].data)[1][0].data);for(f=Nc(Dc((h=$r.find(c,s[m].location)).content)),p=0;p<f.length;++p)(g=f[p]).id==m&&(d=g);for(m=Bc(Rc(d.messages[0].data)[2][0].data),f=Nc(Dc((h=$r.find(c,s[m].location)).content)),p=0;p<f.length;++p)(g=f[p]).id==m&&(d=g);for(m=Bc(Rc(d.messages[0].data)[2][0].data),f=Nc(Dc((h=$r.find(c,s[m].location)).content)),p=0;p<f.length;++p)(g=f[p]).id==m&&(d=g);var v=Rc(d.messages[0].data);v[6][0].data=Fc(n.e.r+1),v[7][0].data=Fc(n.e.c+1);for(var b=Bc(v[46][0].data),x=$r.find(c,s[b].location),y=Nc(Dc(x.content)),w=0;w<y.length&&y[w].id!=b;++w);if(y[w].id!=b)throw"Bad ColumnRowUIDMapArchive";var S=Rc(y[w].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var C=0;C<=n.e.c;++C){var T=[];T[1]=T[2]=[{type:0,data:Fc(C+420690)}],S[1].push({type:2,data:jc(T)}),S[2].push({type:0,data:Fc(C)}),S[3].push({type:0,data:Fc(C)})}S[4]=[],S[5]=[],S[6]=[];for(var k=0;k<=n.e.r;++k)(T=[])[1]=T[2]=[{type:0,data:Fc(k+726270)}],S[4].push({type:2,data:jc(T)}),S[5].push({type:0,data:Fc(k)}),S[6].push({type:0,data:Fc(k)});y[w].messages[0].data=jc(S),x.content=Lc(Ic(y)),x.size=x.content.length,delete v[46];var E=Rc(v[4][0].data);E[7][0].data=Fc(n.e.r+1);var _=Bc(Rc(E[1][0].data)[2][0].data);if((y=Nc(Dc((x=$r.find(c,s[_].location)).content)))[0].id!=_)throw"Bad HeaderStorageBucket";var A=Rc(y[0].messages[0].data);for(k=0;k<i.length;++k){var F=Rc(A[2][0].data);F[1][0].data=Fc(k),F[4][0].data=Fc(i[k].length),A[2][k]={type:A[2][0].type,data:jc(F)}}y[0].messages[0].data=jc(A),x.content=Lc(Ic(y)),x.size=x.content.length;var P=Bc(E[2][0].data);if((y=Nc(Dc((x=$r.find(c,s[P].location)).content)))[0].id!=P)throw"Bad HeaderStorageBucket";for(A=Rc(y[0].messages[0].data),C=0;C<=n.e.c;++C)(F=Rc(A[2][0].data))[1][0].data=Fc(C),F[4][0].data=Fc(n.e.r+1),A[2][C]={type:A[2][0].type,data:jc(F)};y[0].messages[0].data=jc(A),x.content=Lc(Ic(y)),x.size=x.content.length;var R=Bc(E[4][0].data);!function(){for(var e,t=$r.find(c,s[R].location),r=Nc(Dc(t.content)),n=0;n<r.length;++n){var a=r[n];a.id==R&&(e=a)}var i=Rc(e.messages[0].data);i[3]=[];var l=[];o.forEach((function(e,t){l[1]=[{type:0,data:Fc(t)}],l[2]=[{type:0,data:Fc(1)}],l[3]=[{type:2,data:Ec(e)}],i[3].push({type:2,data:jc(l)})})),e.messages[0].data=jc(i);var u=Lc(Ic(r));t.content=u,t.size=t.content.length}();var j=Rc(E[3][0].data),N=j[1][0];delete j[2];var I=Rc(N.data),O=Bc(I[2][0].data);!function(){for(var e,t=$r.find(c,s[O].location),r=Nc(Dc(t.content)),a=0;a<r.length;++a){var l=r[a];l.id==O&&(e=l)}var u=Rc(e.messages[0].data);delete u[6],delete j[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var h=0,f=0;f<=n.e.r;++f){var p=Rc(d);h+=Uc(p,i[f],o),p[1][0].data=Fc(f),u[5].push({data:jc(p),type:2})}u[1]=[{type:0,data:Fc(n.e.c+1)}],u[2]=[{type:0,data:Fc(n.e.r+1)}],u[3]=[{type:0,data:Fc(h)}],u[4]=[{type:0,data:Fc(n.e.r+1)}],e.messages[0].data=jc(u);var g=Lc(Ic(r));t.content=g,t.size=t.content.length}(),N.data=jc(I),E[3][0].data=jc(j),v[4][0].data=jc(E),d.messages[0].data=jc(v);var D=Lc(Ic(f));return h.content=D,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){ys=1024,e&&!e.SSF&&(e.SSF=un(or));e&&e.SSF&&(Ur(),Br(e.SSF),t.revssf=Qr(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hl?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=Es.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Gc(t=t||{});var i=mn(),o="",s=0;t.cellXfs=[],ml(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(gn(i,o="docProps/core.xml",Ji(e.Props,t)),a.coreprops.push(o),qi(t.rels,2,o,$i.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,gn(i,o,to(e.Props)),a.extprops.push(o),qi(t.rels,3,o,$i.EXT_PROPS),e.Custprops!==e.Props&&Kr(e.Custprops||{}).length>0&&(gn(i,o="docProps/custom.xml",ro(e.Custprops)),a.custprops.push(o),qi(t.rels,4,o,$i.CUST_PROPS));for(s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},d=e.Sheets[e.SheetNames[s-1]];(d||{})["!type"];if(gn(i,o="xl/worksheets/sheet"+s+"."+r,Hl(s-1,o,t,e,u)),a.sheets.push(o),qi(t.wbrels,-1,"worksheets/sheet"+s+"."+r,$i.WS[0]),d){var h=d["!comments"],f=!1,p="";h&&h.length>0&&(gn(i,p="xl/comments"+s+"."+r,Vl(h,p,t)),a.comments.push(p),qi(u,-1,"../comments"+s+"."+r,$i.CMNT),f=!0),d["!legacy"]&&f&&gn(i,"xl/drawings/vmlDrawing"+s+".vml",ws(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&gn(i,Hi(o),Vi(u))}null!=t.Strings&&t.Strings.length>0&&(gn(i,o="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?$o:Wo)(e,r)}(t.Strings,o,t)),a.strs.push(o),qi(t.wbrels,-1,"sharedStrings."+r,$i.SST));gn(i,o="xl/workbook."+r,function(e,t,r){return(".bin"===t.slice(-4)?$l:Ul)(e,r)}(e,o,t)),a.workbooks.push(o),qi(t.rels,1,o,$i.WB),gn(i,o="xl/theme/theme1.xml",vs(e.Themes,t)),a.themes.push(o),qi(t.wbrels,-1,"theme/theme1.xml",$i.THEME),gn(i,o="xl/styles."+r,function(e,t,r){return(".bin"===t.slice(-4)?ms:ns)(e,r)}(e,o,t)),a.styles.push(o),qi(t.wbrels,-1,"styles."+r,$i.STY),e.vbaraw&&n&&(gn(i,o="xl/vbaProject.bin",e.vbaraw),a.vba.push(o),qi(t.wbrels,-1,"vbaProject.bin",$i.VBA));return gn(i,o="xl/metadata."+r,function(e){return(".bin"===e.slice(-4)?bs:xs)()}(o)),a.metadata.push(o),qi(t.wbrels,-1,"metadata."+r,$i.XLMETA),gn(i,"[Content_Types].xml",Gi(a,t)),gn(i,"_rels/.rels",Vi(t.rels)),gn(i,"xl/_rels/workbook."+r+".rels",Vi(t.wbrels)),delete t.revssf,delete t.ssf,i}(e,t):Hc(e,t)}function Hc(e,t){ys=1024,e&&!e.SSF&&(e.SSF=un(or)),e&&e.SSF&&(Ur(),Br(e.SSF),t.revssf=Qr(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hl?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Es.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Gc(t=t||{});var i=mn(),o="",s=0;if(t.cellXfs=[],ml(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),gn(i,o="docProps/core.xml",Ji(e.Props,t)),a.coreprops.push(o),qi(t.rels,2,o,$i.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,gn(i,o,to(e.Props)),a.extprops.push(o),qi(t.rels,3,o,$i.EXT_PROPS),e.Custprops!==e.Props&&Kr(e.Custprops||{}).length>0&&(gn(i,o="docProps/custom.xml",ro(e.Custprops)),a.custprops.push(o),qi(t.rels,4,o,$i.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];(h||{})["!type"];if(gn(i,o="xl/worksheets/sheet"+s+"."+r,wl(s-1,t,e,d)),a.sheets.push(o),qi(t.wbrels,-1,"worksheets/sheet"+s+"."+r,$i.WS[0]),h){var f=h["!comments"],p=!1,g="";if(f&&f.length>0){var m=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(m=!0)}))})),m&&(gn(i,g="xl/threadedComments/threadedComment"+s+"."+r,Cs(f,u,t)),a.threadedcomments.push(g),qi(d,-1,"../threadedComments/threadedComment"+s+"."+r,$i.TCMNT)),gn(i,g="xl/comments"+s+"."+r,Ss(f)),a.comments.push(g),qi(d,-1,"../comments"+s+"."+r,$i.CMNT),p=!0}h["!legacy"]&&p&&gn(i,"xl/drawings/vmlDrawing"+s+".vml",ws(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&gn(i,Hi(o),Vi(d))}return null!=t.Strings&&t.Strings.length>0&&(gn(i,o="xl/sharedStrings."+r,Wo(t.Strings,t)),a.strs.push(o),qi(t.wbrels,-1,"sharedStrings."+r,$i.SST)),gn(i,o="xl/workbook."+r,Ul(e)),a.workbooks.push(o),qi(t.rels,1,o,$i.WB),gn(i,o="xl/theme/theme1.xml",vs(e.Themes,t)),a.themes.push(o),qi(t.wbrels,-1,"theme/theme1.xml",$i.THEME),gn(i,o="xl/styles."+r,ns(e,t)),a.styles.push(o),qi(t.wbrels,-1,"styles."+r,$i.STY),e.vbaraw&&n&&(gn(i,o="xl/vbaProject.bin",e.vbaraw),a.vba.push(o),qi(t.wbrels,-1,"vbaProject.bin",$i.VBA)),gn(i,o="xl/metadata."+r,xs()),a.metadata.push(o),qi(t.wbrels,-1,"metadata."+r,$i.XLMETA),u.length>1&&(gn(i,o="xl/persons/person.xml",function(e){var t=[vn,Ln("personList",null,{xmlns:$n,"xmlns:x":Jn[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,r){t.push(Ln("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),a.people.push(o),qi(t.wbrels,-1,"persons/person.xml",$i.PEOPLE)),gn(i,"[Content_Types].xml",Gi(a,t)),gn(i,"_rels/.rels",Vi(t.rels)),gn(i,"xl/_rels/workbook.xml.rels",Vi(t.wbrels)),delete t.revssf,delete t.ssf,i}function Vc(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Bt(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qc(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return qr(t.file,$r.write(e,{type:Ut?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return $r.write(e,t)}function Kc(e,t){var r={},n=Ut?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?$r.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(Vt(a))}return t.password&&"undefined"!==typeof encrypt_agile?qc(encrypt_agile(a,t.password),t):"file"===t.type?qr(t.file,a):"string"==t.type?Rn(a):a}function Yc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return zt(jn(n));case"binary":return jn(n);case"string":return e;case"file":return qr(t.file,n,"utf8");case"buffer":return Ut?Wt(n,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(n):Yc(n,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function Xc(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?zt(r):"string"==t.type?Rn(r):r;case"file":return qr(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Qc(e,t){Nt(),Bl(e);var r=un(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=Qc(e,r);return r.type="array",Vt(n)}var a=0;if(r.sheet&&(a="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Yc(Jl(e,r),r);case"slk":case"sylk":return Yc(Do.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Yc(bc(e.Sheets[e.SheetNames[a]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return zt(e);case"binary":case"string":return e;case"file":return qr(t.file,e,"binary");case"buffer":return Ut?Wt(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(iu(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Yc(au(e.Sheets[e.SheetNames[a]],r),r,"\ufeff");case"dif":return Yc(Lo.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Xc(Oo.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Yc(zo.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Yc(qo.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Yc(Mo.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Yc(Tc(e,r),r);case"wk1":return Xc(Bo.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Xc(Bo.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Xc(fc(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return qc(rc(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var r=un(t||{});return Kc($c(e,r),r)}(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Jc(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function Zc(e,t,r){var n=r||{};return n.type="file",n.file=t,Jc(n),Qc(e,n)}function eu(e,t,r,n,a,i,o,s){var l=Xa(r),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch(ph){h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var f=t.s.c;f<=t.e.c;++f){var p=o?e[r][f]:e[n[f]+l];if(void 0!==p&&void 0!==p.t){var g=p.v;switch(p.t){case"z":if(null==g)break;continue;case"e":g=0==g?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=i[f]){if(null==g)if("e"==p.t&&null===g)h[i[f]]=null;else if(void 0!==c)h[i[f]]=c;else{if(!u||null!==g)continue;h[i[f]]=null}else h[i[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?g:ii(p,g,s);null!=g&&(d=!1)}}else{if(void 0===c)continue;null!=i[f]&&(h[i[f]]=c)}}return{row:h,isempty:d}}function tu(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof u){case"string":l=ni(u);break;case"number":(l=ni(e["!ref"])).s.r=u;break;default:l=u}n>0&&(a=0);var d=Xa(l.s.r),h=[],f=[],p=0,g=0,m=Array.isArray(e),v=l.s.r,b=0,x={};m&&!e[v]&&(e[v]=[]);var y=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(y[b]||{}).hidden)switch(h[b]=Ja(b),r=m?e[v][b]:e[h[b]+d],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),s=o=ii(r,null,c),g=x[o]||0){do{s=o+"_"+g++}while(x[s]);x[o]=g,x[s]=1}else x[o]=1;i[b]=s}for(v=l.s.r+a;v<=l.e.r;++v)if(!(w[v]||{}).hidden){var S=eu(e,l,v,h,n,i,m,c);(!1===S.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(f[p++]=S.row)}return f.length=p,f}var ru=/"/g;function nu(e,t,r,n,a,i,o,s){for(var l=!0,c=[],u="",d=Xa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var f=s.dense?(e[r]||[])[h]:e[n[h]+d];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(s.rawNumbers&&"n"==f.t?f.v:ii(f,null,s));for(var p=0,g=0;p!==u.length;++p)if((g=u.charCodeAt(p))===a||g===i||34===g||s.forceQuotes){u='"'+u.replace(ru,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(ru,'""')+'"'));c.push(u)}return!1===s.blankrows&&l?null:c.join(o)}function au(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=ni(e["!ref"]),i=void 0!==n.FS?n.FS:",",o=i.charCodeAt(0),s=void 0!==n.RS?n.RS:"\n",l=s.charCodeAt(0),c=new RegExp(("|"==i?"\\|":i)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],f=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(d[p]=Ja(p));for(var g=0,m=a.s.r;m<=a.e.r;++m)(f[m]||{}).hidden||null!=(u=nu(e,a,m,d,o,l,i,n))&&(n.strip&&(u=u.replace(c,"")),(u||!1!==n.blankrows)&&r.push((g++?s:"")+u));return delete n.dense,r.join("")}function iu(e,t){t||(t={}),t.FS="\t",t.RS="\n";var r=au(e,t);if("undefined"==typeof Ot||"string"==t.type)return r;var n=Ot.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function ou(e,t,r){var n,a=r||{},i=+!a.skipHeader,o=e||{},s=0,l=0;if(o&&null!=a.origin)if("number"==typeof a.origin)s=a.origin;else{var c="string"==typeof a.origin?Za(a.origin):a.origin;s=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:s+t.length-1+i}};if(o["!ref"]){var d=ni(o["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==s&&(s=d.e.r+1,u.e.r=s+t.length-1+i)}else-1==s&&(s=0,u.e.r=t.length-1+i);var h=a.header||[],f=0;t.forEach((function(e,t){Kr(e).forEach((function(r){-1==(f=h.indexOf(r))&&(h[f=h.length]=r);var c=e[r],u="z",d="",p=ei({c:l+f,r:s+t+i});n=su(o,p),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",a.cellDates||(u="n",c=Zr(c)),d=a.dateNF||or[14]):null===c&&a.nullError&&(u="e",c=0),n?(n.t=u,n.v=c,delete n.w,delete n.R,d&&(n.z=d)):o[p]=n={t:u,v:c},d&&(n.z=d)):o[p]=c}))})),u.e.c=Math.max(u.e.c,l+h.length-1);var p=Xa(s);if(i)for(f=0;f<h.length;++f)o[Ja(f+l)+p]={t:"s",v:h[f]};return o["!ref"]=ri(u),o}function su(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=Za(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return su(e,ei("number"!=typeof t?t:{r:t,c:r||0}))}function lu(){return{SheetNames:[],Sheets:{}}}function cu(e,t,r,n){var a=1;if(!r)for(;a<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+a);++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(r=o+a);++a);}if(zl(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function uu(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var du={encode_col:Ja,encode_row:Xa,encode_cell:ei,encode_range:ri,decode_col:Qa,decode_row:Ya,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Za,decode_range:ti,format_cell:ii,sheet_add_aoa:si,sheet_add_json:ou,sheet_add_dom:xc,aoa_to_sheet:li,json_to_sheet:function(e,t){return ou(null,e,t)},table_to_sheet:yc,table_to_book:function(e,t){return oi(yc(e,t),t)},sheet_to_csv:au,sheet_to_txt:iu,sheet_to_json:tu,sheet_to_html:bc,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var a,i=ni(e["!ref"]),o="",s=[],l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)s[a]=Ja(a);for(var u=i.s.r;u<=i.e.r;++u)for(o=Xa(u),a=i.s.c;a<=i.e.c;++a)if(r=s[a]+o,n="",void 0!==(t=c?(e[u]||[])[a]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+n}return l},sheet_to_row_object_array:tu,sheet_get_cell:su,book_new:lu,book_append_sheet:cu,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:uu,cell_set_internal_link:function(e,t,r){return uu(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var a="string"!=typeof t?t:ni(t),i="string"==typeof t?t:ri(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=su(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=r,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};Et.version;const hu=e=>{if(!e||!e.month)return;const t=[["TTB F 5110.40 - Monthly Report",e.month],[""],["Total Received (PG)",e.totalReceived.toFixed(2)],["Total Processed (PG)",e.totalProcessed.toFixed(2)],["Total Moved (PG)",(e.totalMoved||0).toFixed(2)],["Total Removed (PG)",(e.totalRemoved||0).toFixed(2)],[""],["Processed by Type (PG)"],...e.byType?Object.entries(e.byType).map((e=>{let[t,r]=e;return[t,Number(r).toFixed(2)]})):[],[""],["Transactions"],["Action","Proof Gallons","Type","Date","Barrel ID","To Account"],...(e.transactions||[]).map((e=>[e.action,Number(e.proofGallons).toFixed(2),e.type,e.date,e.barrelId||"N/A",e.toAccount||"N/A"]))],r=du.aoa_to_sheet(t),n=du.book_new();du.book_append_sheet(n,r,"Monthly Report"),Zc(n,`Monthly_Report_${e.month}.xlsx`)},fu=e=>{let{exportToExcel:r}=e;const[n,a]=(0,t.useState)(null),[i,o]=(0,t.useState)((new Date).toISOString().slice(0,7)),[s,l]=(0,t.useState)((new Date).toISOString().split("T")[0]),c={barrelId:"GNS250329",type:"Spirits",proofGallons:"0",proof:"0",totalProofGallonsLeft:"0",date:"N/A",fromAccount:"Storage",toAccount:"Processing",serialNumber:"250307",producingDSP:"DSP-KY-417"};return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Reporting"}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("input",{type:"month",value:i,onChange:e=>o(e.target.value)}),(0,pt.jsx)("button",{onClick:async()=>{try{const e=await(async e=>{const t=await fetch(`${xt}/api/report/monthly?month=${e}`);if(!t.ok)throw new Error(`Failed to fetch report: ${t.status}`);return t.json()})(i);a(e)}catch(e){console.error("Report error:",e)}},children:"Fetch Monthly Report"}),n&&n.month&&(0,pt.jsx)("button",{onClick:()=>r(n),children:"Export to Excel"})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("input",{type:"date",value:s,onChange:e=>l(e.target.value)}),(0,pt.jsx)("button",{onClick:async()=>{try{const e=await(async e=>{const t=await fetch(`${xt}/api/report/daily?date=${e}`);if(!t.ok)throw new Error(`Failed to fetch report: ${t.status}`);return t.json()})(s);a(e)}catch(e){console.error("Daily report error:",e)}},children:"Fetch Daily Report"})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("button",{onClick:async()=>{try{const e=await fetch("https://tilly.onrender.com/api/physical-inventory",{method:"POST"});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();alert(`Physical inventory recorded at ${t.timestamp}`)}catch(e){console.error("Physical inventory error:",e),alert("Failed to record physical inventory: "+e.message)}},children:"Record Physical Inventory"}),(0,pt.jsx)("button",{onClick:()=>(e=>{const t=[[`Tank Summary Report - ${e.serialNumber}`],[""],["Barrel ID:",e.barrelId],["Date:",e.date],["Type:",e.type],["Proof:",Number(e.proof).toFixed(2)],["Proof Gallons Moved:",Number(e.proofGallons).toFixed(2)],["Total Proof Gallons Left:",Number(e.totalProofGallonsLeft).toFixed(2)],["Producing DSP:",e.producingDSP],["To Account:",e.toAccount],...e.fromAccount?[["From Account:",e.fromAccount]]:[],...e.waterVolume?[["Water Added (gal):",e.waterVolume]]:[],...e.bottleCount?[["Bottle Count (750ml):",e.bottleCount]]:[],[""],[""],["I certify under penalty of perjury that the information provided is true and correct."],["Signature:","____________________"],["Date:","____________________"]],r=du.aoa_to_sheet(t);["A1","A3","A4","A5","A6","A7","A8","A9","A10",...e.fromAccount?["A11"]:[],...e.waterVolume?["A12"]:[],...e.bottleCount?["A13"]:[],"A15","A16"].forEach((e=>{r[e]&&(r[e].s={font:{bold:!0},fill:{fgColor:{rgb:"FFFF00"}}})})),r["!cols"]=[{wch:30},{wch:35}];const n=du.book_new();du.book_append_sheet(n,r,"Tank Summary"),Zc(n,`${e.barrelId}_Tank_Summary_${e.serialNumber}.xlsx`)})(c),children:"Export Tank Summary"})]}),n?(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h3",{children:n.month?`Monthly Report: ${n.month}`:`Daily Report: ${n.date}`}),(0,pt.jsxs)("p",{children:["Total Received: ",Number(n.totalReceived).toFixed(2)," PG"]}),(0,pt.jsxs)("p",{children:["Total Processed: ",Number(n.totalProcessed).toFixed(2)," PG"]}),void 0!==n.totalMoved&&(0,pt.jsxs)("p",{children:["Total Moved: ",Number(n.totalMoved).toFixed(2)," PG"]}),void 0!==n.totalRemoved&&(0,pt.jsxs)("p",{children:["Total Removed: ",Number(n.totalRemoved).toFixed(2)," PG"]}),n.byType&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h4",{children:"Processed by Type"}),(0,pt.jsx)("ul",{children:Object.entries(n.byType).map((e=>{let[t,r]=e;return(0,pt.jsx)("li",{children:`${t}: ${Number(r).toFixed(2)} PG`},t)}))})]}),n.transactions&&(0,pt.jsx)("ul",{children:n.transactions.map(((e,t)=>(0,pt.jsx)("li",{children:`${e.action}: ${Number(e.proofGallons).toFixed(2)} PG (${e.type}) on ${e.date} ${e.barrelId?`(Barrel: ${e.barrelId})`:""} ${e.toAccount?`to ${e.toAccount}`:""}`},t)))})]}):(0,pt.jsx)("p",{children:"Select a month or date and fetch a report."})]})},pu="https://tilly.onrender.com",gu=e=>{var r,n,a,i,o;let{refreshInventory:s,vendors:l,refreshVendors:c}=e;const u=ee(),d=Q(),h=d.state,f=(0,t.useRef)([]),p=(0,t.useRef)([]),g=(0,t.useRef)([]),[m,v]=(0,t.useState)((null===h||void 0===h?void 0:h.newSiteId)||""),[b,x]=(0,t.useState)({identifier:"",item:"",lotNumber:"",account:ft.Storage,materialType:ut.Grain,quantity:"",unit:lt.Pounds,proof:"",source:(null===(r=d.state)||void 0===r?void 0:r.vendor)||"",dspNumber:"",receivedDate:(new Date).toISOString().split("T")[0],description:"",cost:"",poNumber:"",siteId:(null===h||void 0===h?void 0:h.newSiteId)||m||"",locationId:""}),[y,w]=(0,t.useState)([]),[S,C]=(0,t.useState)(!0),[T,k]=(0,t.useState)([]),[E,_]=(0,t.useState)([]),[A,F]=(0,t.useState)(null),[P,R]=(0,t.useState)(null),[j,N]=(0,t.useState)(null),[I,O]=(0,t.useState)([]),[D,L]=(0,t.useState)([]),[M,z]=(0,t.useState)(!1),[B,U]=(0,t.useState)(null),[W,G]=(0,t.useState)(null),[$,H]=(0,t.useState)([]),[V,q]=(0,t.useState)([]),[K,Y]=(0,t.useState)(l),[X,J]=(0,t.useState)(!1),[Z,te]=(0,t.useState)(!1),[re,ne]=(0,t.useState)(null),[ae,ie]=(0,t.useState)(null),[oe,se]=(0,t.useState)(null),[le,ce]=(0,t.useState)([]),[ue,de]=(0,t.useState)(null),[he,fe]=(0,t.useState)(null),[pe,ge]=(0,t.useState)([]),[me,ve]=(0,t.useState)(""),[be,xe]=(0,t.useState)(ut.Grain),[ye,we]=(0,t.useState)(!1),[Se,Ce]=(0,t.useState)([]),[Te,ke]=(0,t.useState)(!1),[Ee,_e]=(0,t.useState)(!1),[Ae,Fe]=(0,t.useState)(!1),Pe=(0,t.useCallback)((async e=>{if(!e)return H([]),q([]),ke(!1),void console.log("No siteId provided for fetchLocations");ke(!0);try{const t=`${pu}/api/locations?siteId=${encodeURIComponent(e)}`;console.log(`Fetching locations from: ${t}`);const r=await fetch(t);if(!r.ok){const e=await r.text();throw new Error(`HTTP error! status: ${r.status}, body: ${e}`)}const n=await r.json();console.log(`Fetched locations for site ${e}:`,n),0===n.length&&(console.warn(`No locations returned for siteId ${e}`),ie(`No locations found for site ${e}`)),H(n),q(n),ke(!1)}catch(t){console.error(`Fetch locations error for siteId ${e}:`,t),ie(`Failed to fetch locations for site ${e}: ${t.message}`),H([]),q([]),ke(!1)}}),[pu]);(0,t.useEffect)((()=>{null!==h&&void 0!==h&&h.newSiteId&&(v(h.newSiteId),x((e=>({...e,siteId:h.newSiteId||""})))),null!==h&&void 0!==h&&h.newLocationId&&x((e=>({...e,locationId:h.newLocationId})));(async()=>{try{const e=new AbortController,t=setTimeout((()=>e.abort()),5e3),r=await fetch(`${pu}/api/sites`,{signal:e.signal});if(clearTimeout(t),!r.ok){const e=await r.text();throw new Error(`HTTP error! status: ${r.status}, body: ${e}`)}const n=await r.json();console.log("Fetched sites:",n),O(n),L(n),0===n.length&&(ie("No sites found in database"),O([{siteId:"DSP-AL-20010",name:"Madison Distillery"}]),L([{siteId:"DSP-AL-20010",name:"Madison Distillery"}]))}catch(e){console.error("Fetch sites error:",e),ie("Failed to fetch sites: "+e.message)}})(),(async()=>{try{const e=new AbortController,t=setTimeout((()=>e.abort()),5e3),r=await fetch(`${pu}/api/items`,{signal:e.signal});if(clearTimeout(t),!r.ok){const e=await r.text();throw new Error(`HTTP error! status: ${r.status}, body: ${e}`)}const n=await r.json();console.log("Fetched items:",n),k(n),_(n),0===n.length&&ie("No items found in database")}catch(e){console.error("Fetch items error:",e),ie("Failed to fetch items: "+e.message)}})(),b.source&&(async()=>{try{const e=new AbortController,t=setTimeout((()=>e.abort()),5e3),r=await fetch(`${pu}/api/purchase-orders?supplier=${encodeURIComponent(b.source||"")}`,{signal:e.signal});if(clearTimeout(t),!r.ok){const e=await r.text();throw new Error(`HTTP error! status: ${r.status}, body: ${e}`)}const n=await r.json();console.log("Fetched POs:",n),ce(n)}catch(e){console.error("Fetch POs error:",e),ie("Failed to fetch POs: "+e.message)}})(),Y(l)}),[h,b.source,l]),(0,t.useEffect)((()=>{f.current=f.current.slice(0,y.length),g.current=g.current.slice(0,y.length)}),[y]),(0,t.useEffect)((()=>{Ae&&(console.log("Cloned Single Item Modal opened, setting filteredSites:",I),L(I))}),[Ae,I]),(0,t.useEffect)((()=>{if(null!==W&&p.current[W]){const e=p.current[W].getBoundingClientRect();U({top:e.bottom+window.scrollY,left:e.left+window.scrollX})}else U(null)}),[W]),(0,t.useEffect)((()=>{x((e=>e.siteId!==m?(console.log("Syncing singleForm.siteId with selectedSite:",m),{...e,siteId:m,locationId:""}):e))}),[m]),(0,t.useEffect)((()=>{if(null!==re&&g.current[re]&&null===A){const e=g.current[re].getBoundingClientRect();R({top:e.bottom+window.scrollY,left:e.left+window.scrollX})}else R(null)}),[re,A]),(0,t.useEffect)((()=>{console.log("selectedSite changed:",m),m?Pe(m):(H([]),q([]),ke(!1))}),[m,Pe]),(0,t.useEffect)((()=>{if(null!==A&&f.current[A]&&null===re){const e=f.current[A].getBoundingClientRect();R({top:e.bottom+window.scrollY,left:e.left+window.scrollX})}else R(null)}),[A,re]);const Re=(0,t.useMemo)((()=>{let e=0;if(S){const t=parseFloat(b.cost||"0");e+=isNaN(t)?0:t}else{e+=y.reduce(((e,t)=>{const r=parseFloat(t.cost||"0");return e+(isNaN(r)?0:r)}),0);e+=Se.reduce(((e,t)=>{const r=parseFloat(t.cost||"0");return e+(isNaN(r)?0:r)}),0)}return e.toFixed(2)}),[S,b.cost,y,Se]),je=e=>{const t=e.target.value;x((e=>({...e,source:t}))),Y(l.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))),J(!0)},Ne=e=>{x((t=>({...t,source:e.name}))),J(!1)},Ie=(e,t)=>{const r=e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1).toLowerCase():"Other",n=Object.values(ut).includes(r)?r:ut.Other;if(console.log("handleItemSelect:",{selectedItem:e,materialType:n,index:t}),S||Ae)x((t=>{const r={...t,item:e.name,materialType:n};return console.log("Updated singleForm.item:",r),r}));else if(void 0!==t){const r=[...y];r[t]={...r[t],item:e.name,materialType:n,locationId:r[t].locationId||""},w(r)}F(null),_(T)},Oe=(e,t)=>{if(console.log("handleLocationSelect:",{location:e,index:t}),S||Ae)x((t=>{const r={...t,locationId:e.locationId.toString()};return console.log("Updated singleForm.locationId:",r),r})),te(!1);else if(void 0!==t){const r=[...y];r[t].locationId=e.locationId.toString(),w(r),ne(null)}},De=()=>{u("/locations",{state:{fromReceive:!0,siteId:m}}),te(!1),ne(null)},Le=e=>{const t=le.find((t=>t.poNumber===e));if(!t)return void ie("Selected PO not found");if(!t.items||0===t.items.length)return void ie("Selected PO has no items");de(e);const r=t.items.filter((e=>e.materialType!==ut.Spirits)).map((t=>({identifier:t.name||"UNKNOWN_ITEM",item:t.name,lotNumber:"",materialType:t.materialType,quantity:t.quantity.toString(),unit:lt.Pounds,cost:"",poNumber:e,siteId:m,locationId:"",description:""}))),n=t.items.filter((e=>e.materialType===ut.Spirits));n.length>0?fe(n[0]):fe(null),w(r),x((t=>({...t,poNumber:e})))},Me=async e=>{const t=e||(S?[b]:y);if(S?console.log("Single Item Receive:",b):console.log("Multiple Items Receive:",t),!t.length||t.some((e=>!e.item||!e.materialType||!e.quantity||!e.unit||!e.siteId||!e.locationId||""===e.locationId.trim())))return void ie("All inventory items must have Item, Material Type, Quantity, Unit, Site, and Location");if(t.filter((e=>e.materialType===ut.Spirits&&(!e.lotNumber||!e.lotNumber.trim()||!e.proof||""===e.proof.trim())||e.materialType===ut.Other&&(!e.description||!e.description.trim())||isNaN(parseFloat(e.quantity))||parseFloat(e.quantity)<=0||e.proof&&(isNaN(parseFloat(e.proof))||parseFloat(e.proof)>200||parseFloat(e.proof)<0)||e.cost&&(isNaN(parseFloat(e.cost))||parseFloat(e.cost)<0))).length)return void ie("Invalid data: Spirits need lot number and proof, Other needs description, and numeric values must be valid");const r=Se.reduce(((e,t)=>e+(t.cost?parseFloat(t.cost):0)),0),n=t.length>0?r/t.length:0,a=t.map((e=>{const t=e.cost?parseFloat(e.cost):0,r=parseFloat(e.quantity),a=(t+n).toFixed(2),i=(parseFloat(a)/r||0).toFixed(2),o=e.materialType===ut.Spirits?e.lotNumber||"UNKNOWN_LOT":e.item||"UNKNOWN_ITEM",s=e.locationId&&""!==e.locationId.trim()?parseInt(e.locationId,10):1;return{identifier:o,item:e.item,lotNumber:e.lotNumber||"",account:e.materialType===ut.Spirits?b.account:ft.Storage,type:e.materialType,quantity:e.quantity,unit:e.unit,proof:e.proof||(e.materialType===ut.Spirits?"0":void 0),proofGallons:e.proof?(parseFloat(e.quantity)*(parseFloat(e.proof)/100)).toFixed(2):void 0,receivedDate:b.receivedDate,source:b.source||"Unknown",siteId:e.siteId||b.siteId,locationId:s,status:st.Received,description:e.description||(e.materialType===ut.Other?"N/A":void 0),cost:i,totalCost:a,poNumber:e.poNumber}}));console.log("Payload to /api/receive:",JSON.stringify(1===t.length?a[0]:a,null,2));try{const e=await fetch(`${pu}/api/receive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(1===t.length?a[0]:a)});if(!e.ok){const t=await e.text();throw new Error(`HTTP error! status: ${e.status}, body: ${t}`)}se("Items received successfully!"),await s(),setTimeout((()=>{se(null),_e(!1),w([]),u("/inventory")}),1e3)}catch(i){ie("Failed to receive items: "+i.message),console.error("Receive error:",i)}};return(0,pt.jsx)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto",minHeight:"100vh",overflowY:"auto"},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",padding:"20px",marginBottom:"20px",display:"flex",flexDirection:"column"},children:[(0,pt.jsx)("div",{style:{textAlign:"center",marginBottom:"20px",padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px"},children:(0,pt.jsxs)("h2",{style:{color:"#555",fontSize:"20px",margin:0},children:["Total Receipt Value: $",Re]})}),(0,pt.jsx)("h1",{style:{color:"#EEC930",fontSize:"24px",marginBottom:"20px",textAlign:"center"},children:"Receive Inventory"}),ae&&(0,pt.jsx)("div",{style:{color:"#F86752",backgroundColor:"#ffe6e6",padding:"10px",borderRadius:"4px",marginBottom:"10px",textAlign:"center"},children:ae}),oe&&(0,pt.jsx)("div",{style:{color:"#28A745",backgroundColor:"#e6ffe6",padding:"10px",borderRadius:"4px",marginBottom:"10px",textAlign:"center"},children:oe}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"20px"},children:[(0,pt.jsx)("button",{onClick:()=>C(!0),style:{backgroundColor:S?"#2196F3":"#ddd",color:S?"#fff":"#555",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor=S?"#1976D2":"#ccc",onMouseOut:e=>e.currentTarget.style.backgroundColor=S?"#2196F3":"#ddd",children:"Single Item"}),(0,pt.jsx)("button",{onClick:()=>{C(!1),_e(!0),w([]),Ce([])},style:{backgroundColor:S?"#ddd":"#2196F3",color:S?"#555":"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor=S?"#ccc":"#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor=S?"#ddd":"#2196F3",children:"Multiple Items"})]}),S?(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Site (required):"}),(0,pt.jsx)("input",{type:"text",value:(null===(n=I.find((e=>e.siteId===m)))||void 0===n?void 0:n.name)||"",onChange:e=>{const t=e.target.value;L(I.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))),z(!0),I.find((e=>e.name.toLowerCase()===t.toLowerCase()))||(v(""),x((e=>({...e,siteId:"",locationId:""}))),q([]))},onFocus:()=>z(!0),onBlur:()=>setTimeout((()=>z(!1)),300),placeholder:"Type to search sites",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),M&&(0,pt.jsxs)("ul",{className:"typeahead",children:[D.map((e=>(0,pt.jsx)("li",{onMouseDown:()=>{console.log("Selected site:",{siteId:e.siteId,siteName:e.name}),v(e.siteId),x((t=>({...t,siteId:e.siteId}))),z(!1)},className:m===e.siteId?"selected":"",children:e.name},e.siteId))),(0,pt.jsx)("li",{onMouseDown:()=>{u("/sites",{state:{fromReceive:!0}}),z(!1)},className:"add-new",children:"Add New Site"})]})]}),(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Physical Location (required):"}),(0,pt.jsx)("input",{type:"text",value:b.locationId&&(null===(a=$.find((e=>e.locationId.toString()===b.locationId)))||void 0===a?void 0:a.name)||"",onChange:e=>{const t=e.target.value;console.log("Location input change:",{value:t,locations:$,singleFormLocationId:b.locationId}),x((e=>({...e,locationId:""}))),q($.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))),te(!0)},onFocus:()=>{console.log("Location input focus:",{isFetchingLocations:Te,locations:$,selectedSite:m,singleForm:b}),!Te&&$.length>0&&(te(!0),q($))},onBlur:()=>{setTimeout((()=>{te(!1)}),300)},placeholder:Te?"Loading locations...":"Type to search locations",disabled:Te||!m,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px",backgroundColor:Te||!m?"#f5f5f5":"#fff"}}),Z&&!Te&&(0,pt.jsxs)("ul",{className:"typeahead",children:[V.length>0?V.map((e=>(0,pt.jsx)("li",{onMouseDown:()=>Oe(e),className:b.locationId===e.locationId.toString()?"selected":"",children:e.name},e.locationId))):(0,pt.jsx)("li",{style:{padding:"8px 10px",color:"#888",borderBottom:"1px solid #eee"},children:"No locations found"}),(0,pt.jsx)("li",{onMouseDown:()=>De(),className:"add-new",children:"Add New Location"})]})]}),(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Vendor:"}),(0,pt.jsx)("input",{type:"text",value:b.source,onChange:je,placeholder:"Type to search vendors",onFocus:()=>J(!0),onBlur:()=>setTimeout((()=>J(!1)),300),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),X&&(0,pt.jsxs)("ul",{className:"typeahead",children:[K.map((e=>(0,pt.jsx)("li",{onMouseDown:t=>{t.preventDefault(),Ne(e)},className:b.source===e.name?"selected":"",children:e.name},e.name))),(0,pt.jsx)("li",{onMouseDown:e=>{e.preventDefault(),u("/vendors/new",{state:{fromReceive:!0}}),J(!1)},className:"add-new",children:"Add New Vendor"})]})]}),(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Item:"}),(0,pt.jsx)("input",{type:"text",value:b.item,onChange:e=>{const t=e.target.value;console.log("Item input change:",{value:t}),x((e=>({...e,item:t}))),_(T.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))),F(0)},onFocus:()=>{F(0),_(T)},onBlur:()=>setTimeout((()=>F(null)),300),placeholder:"Type to search items",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),0===A&&(0,pt.jsxs)("ul",{className:"typeahead",children:[E.length>0?E.map((e=>(0,pt.jsx)("li",{onMouseDown:()=>Ie(e),className:b.item===e.name?"selected":"",children:e.name},e.name))):(0,pt.jsx)("li",{style:{padding:"8px 10px",color:"#888",borderBottom:"1px solid #eee"},children:"No items found"}),(0,pt.jsx)("li",{onMouseDown:()=>we(!0),className:"add-new",children:"Add New Item"})]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Lot Number:"}),(0,pt.jsx)("input",{type:"text",value:b.lotNumber,onChange:e=>x((t=>({...t,lotNumber:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Material Type:"}),(0,pt.jsx)("select",{value:b.materialType,onChange:e=>x((t=>({...t,materialType:e.target.value}))),children:Object.values(ut).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Quantity:"}),(0,pt.jsx)("input",{type:"number",value:b.quantity,onChange:e=>x((t=>({...t,quantity:e.target.value}))),step:"0.01",min:"0",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Unit:"}),(0,pt.jsx)("select",{value:b.unit,onChange:e=>x((t=>({...t,unit:e.target.value}))),children:Object.values(lt).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))})]}),b.materialType===ut.Spirits&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Account:"}),(0,pt.jsxs)("select",{value:b.account,onChange:e=>x((t=>({...t,account:e.target.value}))),children:[(0,pt.jsx)("option",{value:ft.Storage,children:"Storage"}),(0,pt.jsx)("option",{value:ft.Processing,children:"Processing"}),(0,pt.jsx)("option",{value:ft.Production,children:"Production"})]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Proof:"}),(0,pt.jsx)("input",{type:"number",value:b.proof||"",onChange:e=>x((t=>({...t,proof:e.target.value}))),step:"0.01",min:"0",max:"200",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]})]}),b.materialType===ut.Other&&(0,pt.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Description:"}),(0,pt.jsx)("input",{type:"text",value:b.description||"",onChange:e=>x((t=>({...t,description:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Received Date:"}),(0,pt.jsx)("input",{type:"date",value:b.receivedDate,onChange:e=>x((t=>({...t,receivedDate:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Cost:"}),(0,pt.jsx)("input",{type:"number",value:b.cost||"",onChange:e=>x((t=>({...t,cost:e.target.value}))),step:"0.01",min:"0",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"PO Number (optional):"}),(0,pt.jsxs)("select",{value:b.poNumber||"",onChange:e=>{const t=e.target.value;x((e=>({...e,poNumber:t}))),t&&Le(t)},children:[(0,pt.jsx)("option",{value:"",children:"Select PO (optional)"}),le.map((e=>(0,pt.jsx)("option",{value:e.poNumber,children:e.poNumber},e.poNumber)))]})]}),(0,pt.jsx)("div",{style:{gridColumn:"span 2",textAlign:"center"},children:(0,pt.jsx)("button",{onClick:()=>Me([b]),style:{backgroundColor:"#2196F3",color:"#fff",padding:"12px 24px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",width:"100%",maxWidth:"300px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Receive Item"})})]}):(0,pt.jsx)("div",{}),Ee&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"600px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Add Multiple Items"}),(0,pt.jsxs)("div",{style:{position:"relative",marginBottom:"20px"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Vendor:"}),(0,pt.jsx)("input",{type:"text",value:b.source,onChange:je,placeholder:"Type to search vendors",onFocus:()=>J(!0),onBlur:()=>setTimeout((()=>J(!1)),300),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),X&&(0,pt.jsxs)("ul",{className:"typeahead",children:[K.map((e=>(0,pt.jsx)("li",{onMouseDown:t=>{t.preventDefault(),Ne(e)},className:b.source===e.name?"selected":"",children:e.name},e.name))),(0,pt.jsx)("li",{onMouseDown:e=>{e.preventDefault(),u("/vendors/new",{state:{fromReceive:!0}}),J(!1)},className:"add-new",children:"Add New Vendor"})]})]}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Received Date:"}),(0,pt.jsx)("input",{type:"date",value:b.receivedDate,onChange:e=>x((t=>({...t,receivedDate:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"PO Number (optional):"}),(0,pt.jsxs)("select",{value:b.poNumber||"",onChange:e=>{const t=e.target.value;x((e=>({...e,poNumber:t}))),t&&Le(t)},style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:"",children:"Select PO (optional)"}),le.map((e=>(0,pt.jsx)("option",{value:e.poNumber,children:e.poNumber},e.poNumber)))]})]}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("button",{onClick:()=>{Fe(!0),x({identifier:"",item:"",lotNumber:"",materialType:ut.Grain,quantity:"",unit:lt.Pounds,cost:"",description:"",siteId:m||"DSP-AL-20010",locationId:"",account:ft.Storage,proof:"",source:b.source||"",dspNumber:"",receivedDate:b.receivedDate,poNumber:b.poNumber||""}),Pe(m||"DSP-AL-20010")},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Add Item"}),(0,pt.jsx)("h4",{style:{color:"#555",marginBottom:"10px"},children:"Items"}),0===y.length?(0,pt.jsx)("p",{style:{color:"#888",textAlign:"center"},children:"No items added yet"}):(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Item"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Site"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Location"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Quantity"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Action"})]})}),(0,pt.jsx)("tbody",{children:y.map(((e,t)=>{var r,n;return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.item}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:(null===(r=I.find((t=>t.siteId===e.siteId)))||void 0===r?void 0:r.name)||e.siteId}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:(null===(n=$.find((t=>t.locationId.toString()===e.locationId)))||void 0===n?void 0:n.name)||e.locationId}),(0,pt.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[e.quantity," ",e.unit]}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"center"},children:(0,pt.jsx)("button",{onClick:()=>w(y.filter(((e,r)=>r!==t))),style:{backgroundColor:"#F86752",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Remove"})})]},t)}))})]})]}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("h4",{style:{color:"#555",marginBottom:"10px"},children:"Other Charges"}),(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Description"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Cost"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f5f5f5"},children:"Action"})]})}),(0,pt.jsx)("tbody",{children:Se.map(((e,t)=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:(0,pt.jsx)("input",{type:"text",value:e.description,onChange:e=>{const r=[...Se];r[t].description=e.target.value,Ce(r)},style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:(0,pt.jsx)("input",{type:"number",value:e.cost,onChange:e=>{const r=[...Se];r[t].cost=e.target.value,Ce(r)},step:"0.01",min:"0",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"center"},children:(0,pt.jsx)("button",{onClick:()=>Ce(Se.filter(((e,r)=>r!==t))),style:{backgroundColor:"#F86752",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Remove"})})]},t)))})]}),(0,pt.jsx)("button",{onClick:()=>Ce([...Se,{description:"",cost:""}]),style:{backgroundColor:"#2196F3",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginTop:"10px"},children:"Add Charge"})]}),(0,pt.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:(0,pt.jsx)("button",{onClick:()=>Me(y),disabled:0===y.length,style:{backgroundColor:0===y.length?"#ccc":"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:0===y.length?"not-allowed":"pointer",fontSize:"16px"},children:"Receive Items"})}),(0,pt.jsx)("div",{style:{textAlign:"center"},children:(0,pt.jsx)("button",{onClick:()=>{_e(!1),w([]),Ce([])},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Cancel"})})]})}),Ae&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10001},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"600px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Add Item"}),(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Site (required):"}),(0,pt.jsx)("input",{type:"text",value:(null===(i=I.find((e=>e.siteId===b.siteId)))||void 0===i?void 0:i.name)||"",onChange:e=>{const t=e.target.value;L(I.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))),z(!0),I.find((e=>e.name.toLowerCase()===t.toLowerCase()))||(v(""),x((e=>({...e,siteId:"",locationId:""}))),q([]))},onFocus:()=>z(!0),onBlur:()=>setTimeout((()=>z(!1)),300),placeholder:"Type to search sites",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),M&&(0,pt.jsxs)("ul",{className:"typeahead",children:[D.map((e=>(0,pt.jsx)("li",{onMouseDown:()=>{console.log("Selected site:",{siteId:e.siteId,siteName:e.name}),v(e.siteId),x((t=>({...t,siteId:e.siteId}))),z(!1)},className:b.siteId===e.siteId?"selected":"",children:e.name},e.siteId))),(0,pt.jsx)("li",{onMouseDown:()=>{u("/sites",{state:{fromReceive:!0}}),z(!1)},className:"add-new",children:"Add New Site"})]})]}),(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Physical Location (required):"}),(0,pt.jsx)("input",{type:"text",value:b.locationId&&(null===(o=$.find((e=>e.locationId.toString()===b.locationId)))||void 0===o?void 0:o.name)||"",onChange:e=>{const t=e.target.value;console.log("Location input change:",{value:t,locations:$,singleFormLocationId:b.locationId}),x((e=>({...e,locationId:""}))),q($.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))),te(!0)},onFocus:()=>{console.log("Location input focus:",{isFetchingLocations:Te,locations:$,selectedSite:m,singleForm:b}),!Te&&$.length>0&&(te(!0),q($))},onBlur:()=>{setTimeout((()=>{te(!1)}),300)},placeholder:Te?"Loading locations...":"Type to search locations",disabled:Te||!b.siteId,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px",backgroundColor:Te||!b.siteId?"#f5f5f5":"#fff"}}),Z&&!Te&&(0,pt.jsxs)("ul",{className:"typeahead",children:[V.length>0?V.map((e=>(0,pt.jsx)("li",{onMouseDown:()=>Oe(e),className:b.locationId===e.locationId.toString()?"selected":"",children:e.name},e.locationId))):(0,pt.jsx)("li",{style:{padding:"8px 10px",color:"#888",borderBottom:"1px solid #eee"},children:"No locations found"}),(0,pt.jsx)("li",{onMouseDown:()=>De(),className:"add-new",children:"Add New Location"})]})]}),(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Vendor:"}),(0,pt.jsx)("input",{type:"text",value:b.source,onChange:je,placeholder:"Type to search vendors",onFocus:()=>J(!0),onBlur:()=>setTimeout((()=>J(!1)),300),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),X&&(0,pt.jsxs)("ul",{className:"typeahead",children:[K.map((e=>(0,pt.jsx)("li",{onMouseDown:t=>{t.preventDefault(),Ne(e)},className:b.source===e.name?"selected":"",children:e.name},e.name))),(0,pt.jsx)("li",{onMouseDown:e=>{e.preventDefault(),u("/vendors/new",{state:{fromReceive:!0}}),J(!1)},className:"add-new",children:"Add New Vendor"})]})]}),(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Item:"}),(0,pt.jsx)("input",{type:"text",value:b.item,onChange:e=>{const t=e.target.value;console.log("Item input change:",{value:t}),x((e=>({...e,item:t}))),_(T.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))),F(0)},onFocus:()=>{F(0),_(T)},onBlur:()=>setTimeout((()=>F(null)),300),placeholder:"Type to search items",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),0===A&&(0,pt.jsxs)("ul",{className:"typeahead",children:[E.length>0?E.map((e=>(0,pt.jsx)("li",{onMouseDown:()=>Ie(e),className:b.item===e.name?"selected":"",children:e.name},e.name))):(0,pt.jsx)("li",{style:{padding:"8px 10px",color:"#888",borderBottom:"1px solid #eee"},children:"No items found"}),(0,pt.jsx)("li",{onMouseDown:()=>we(!0),className:"add-new",children:"Add New Item"})]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Lot Number:"}),(0,pt.jsx)("input",{type:"text",value:b.lotNumber,onChange:e=>x((t=>({...t,lotNumber:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Material Type:"}),(0,pt.jsx)("select",{value:b.materialType,onChange:e=>x((t=>({...t,materialType:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:Object.values(ut).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Quantity:"}),(0,pt.jsx)("input",{type:"number",value:b.quantity,onChange:e=>x((t=>({...t,quantity:e.target.value}))),step:"0.01",min:"0",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Unit:"}),(0,pt.jsx)("select",{value:b.unit,onChange:e=>x((t=>({...t,unit:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:Object.values(lt).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))})]}),b.materialType===ut.Spirits&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Account:"}),(0,pt.jsxs)("select",{value:b.account,onChange:e=>x((t=>({...t,account:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:ft.Storage,children:"Storage"}),(0,pt.jsx)("option",{value:ft.Processing,children:"Processing"}),(0,pt.jsx)("option",{value:ft.Production,children:"Production"})]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Proof:"}),(0,pt.jsx)("input",{type:"number",value:b.proof||"",onChange:e=>x((t=>({...t,proof:e.target.value}))),step:"0.01",min:"0",max:"200",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]})]}),b.materialType===ut.Other&&(0,pt.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Description:"}),(0,pt.jsx)("input",{type:"text",value:b.description||"",onChange:e=>x((t=>({...t,description:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Received Date:"}),(0,pt.jsx)("input",{type:"date",value:b.receivedDate,onChange:e=>x((t=>({...t,receivedDate:e.target.value}))),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Cost:"}),(0,pt.jsx)("input",{type:"number",value:b.cost||"",onChange:e=>x((t=>({...t,cost:e.target.value}))),step:"0.01",min:"0",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"PO Number (optional):"}),(0,pt.jsxs)("select",{value:b.poNumber||"",onChange:e=>{const t=e.target.value;x((e=>({...e,poNumber:t}))),t&&Le(t)},style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:"",children:"Select PO (optional)"}),le.map((e=>(0,pt.jsx)("option",{value:e.poNumber,children:e.poNumber},e.poNumber)))]})]}),(0,pt.jsxs)("div",{style:{gridColumn:"span 2",textAlign:"center",display:"flex",justifyContent:"space-between"},children:[(0,pt.jsx)("button",{onClick:()=>{if(!b.item)return void ie("Item is required");if(!b.siteId)return void ie("Site is required");if(!b.locationId)return void ie("Location is required");if(b.materialType===ut.Spirits&&(!b.lotNumber||!b.proof))return void ie("Spirits require Lot Number and Proof");if(b.materialType===ut.Other&&!b.description)return void ie("Other items require a Description");if(!b.quantity||isNaN(parseFloat(b.quantity))||parseFloat(b.quantity)<=0)return void ie("Valid Quantity is required");if(b.proof&&(isNaN(parseFloat(b.proof))||parseFloat(b.proof)>200||parseFloat(b.proof)<0))return void ie("Proof must be between 0 and 200");if(b.cost&&(isNaN(parseFloat(b.cost))||parseFloat(b.cost)<0))return void ie("Cost must be non-negative");const e={identifier:b.identifier||"UNKNOWN_ITEM",item:b.item,lotNumber:b.lotNumber||"",materialType:b.materialType,quantity:b.quantity,unit:b.unit,cost:b.cost||"0",description:b.description||"",siteId:b.siteId,locationId:b.locationId,account:b.account||ft.Storage,proof:b.proof||""};w((t=>{const r=[...t,e];return console.log("Added item to receiveItems:",e),r})),x({identifier:"",item:"",lotNumber:"",materialType:ut.Grain,quantity:"",unit:lt.Pounds,cost:"",description:"",siteId:m||"DSP-AL-20010",locationId:"",account:ft.Storage,proof:"",source:b.source||"",dspNumber:"",receivedDate:b.receivedDate,poNumber:b.poNumber||""}),Fe(!1),ie(null),z(!1),te(!1),F(null)},style:{backgroundColor:"#2196F3",color:"#fff",padding:"12px 24px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",width:"45%",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Add"}),(0,pt.jsx)("button",{onClick:()=>{Fe(!1),x({identifier:"",item:"",lotNumber:"",materialType:ut.Grain,quantity:"",unit:lt.Pounds,cost:"",description:"",siteId:m||"DSP-AL-20010",locationId:"",account:ft.Storage,proof:"",source:b.source||"",dspNumber:"",receivedDate:b.receivedDate,poNumber:b.poNumber||""}),z(!1),te(!1),F(null)},style:{backgroundColor:"#F86752",color:"#fff",padding:"12px 24px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",width:"45%",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})]})}),ye&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Create New Item"}),(0,pt.jsx)("input",{type:"text",value:me,onChange:e=>ve(e.target.value),placeholder:"Item Name",style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),(0,pt.jsx)("select",{value:be,onChange:e=>xe(e.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:Object.values(ut).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(me)try{const e=await fetch(`${pu}/api/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:me,type:be})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=[...T,{name:me,type:be,enabled:1}];k(t),_(t),S?x((e=>({...e,item:me,materialType:be}))):w([...y,{identifier:"Unknown",item:me,lotNumber:"",materialType:be,quantity:"",unit:lt.Pounds,cost:"",description:"",siteId:m,locationId:"",account:be===ut.Spirits?ft.Storage:void 0,proof:be===ut.Spirits?"":void 0}]),ve(""),xe(ut.Grain),we(!1),ie(null)}catch(e){ie("Failed to create item: "+e.message)}else ie("New item name is required")},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Create"}),(0,pt.jsx)("button",{onClick:()=>we(!1),style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})}),he&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"500px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Split Spirits into Lots"}),(0,pt.jsxs)("p",{style:{textAlign:"center",marginBottom:"15px"},children:["Split ",he.name," (",he.quantity," gallons) into individual lots:"]}),pe.map(((e,t)=>(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 0.5fr",gap:"10px",marginBottom:"10px"},children:[(0,pt.jsx)("input",{type:"text",value:e.lotNumber,onChange:e=>{const r=[...pe];r[t].lotNumber=e.target.value,ge(r)},placeholder:"Lot Number",style:{padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),(0,pt.jsx)("input",{type:"number",value:e.quantity,onChange:e=>{const r=[...pe];r[t].quantity=e.target.value,ge(r)},placeholder:"Gallons",step:"0.01",min:"0",style:{padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}}),(0,pt.jsx)("button",{onClick:()=>ge(pe.filter(((e,r)=>r!==t))),style:{backgroundColor:"#F86752",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Remove"})]},`lot-${t}`))),(0,pt.jsx)("button",{type:"button",onClick:()=>ge([...pe,{identifier:"",item:he.name,lotNumber:"",quantity:"",materialType:ut.Spirits,unit:lt.Gallons,cost:"",description:"",siteId:m,locationId:"",account:ft.Storage,proof:""}]),style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",display:"block",margin:"15px auto 0",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Add Lot"}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:[(0,pt.jsx)("button",{onClick:()=>{if(!he)return;const e=pe.reduce(((e,t)=>e+parseFloat(t.quantity||"0")),0),t=parseFloat(he.quantity.toString());Math.abs(e-t)>.01?ie(`Total gallons (${e.toFixed(2)}) must match PO quantity (${t.toFixed(2)})`):(w((e=>[...e,...pe.map((e=>({...e,materialType:ut.Spirits,unit:lt.Gallons,poNumber:ue||void 0,siteId:m,locationId:e.locationId||"",description:e.description||""})))])),fe(null),ge([]),ie(null))},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Save Lots"}),(0,pt.jsx)("button",{onClick:()=>{fe(null),ge([])},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})})]})})},mu=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(null),s=ee(),l="https://tilly.onrender.com";(0,t.useEffect)((()=>{c()}),[l]);const c=async()=>{try{const e=await fetch(`${l}/api/items`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();r(t)}catch(e){console.error("Fetch items error:",e),o("Failed to fetch items: "+e.message)}},u=async e=>{if(0!==n.length)try{const t=await fetch(`${l}/api/items`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:n,enabled:e})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);a([]),c(),o(null)}catch(t){console.error("Toggle enable error:",t),o(`Failed to ${e?"enable":"disable"} items: `+t.message)}else o("No items selected to enable/disable")};return(0,pt.jsxs)("div",{className:"page-container",style:{overflowY:"auto",maxHeight:"100vh"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",fontSize:"24px",marginBottom:"20px",textAlign:"center"},children:"Items List"}),i&&(0,pt.jsx)("div",{className:"error",children:i}),(0,pt.jsxs)("div",{className:"inventory-actions",children:[(0,pt.jsx)("button",{onClick:()=>{s("/items/new")},children:"Add Item"}),(0,pt.jsx)("button",{onClick:async()=>{if(0!==n.length)try{const e=await fetch(`${l}/api/items`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:n})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);a([]),c(),o(null)}catch(e){console.error("Delete items error:",e),o("Failed to delete items: "+e.message)}else o("No items selected to delete")},disabled:0===n.length,children:"Delete Item"}),(0,pt.jsx)("button",{onClick:()=>u(!0),disabled:0===n.length,children:"Enable Item"}),(0,pt.jsx)("button",{onClick:()=>u(!1),disabled:0===n.length,children:"Disable Item"})]}),(0,pt.jsx)("div",{className:"inventory-table-container",children:(0,pt.jsxs)("table",{className:"inventory-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Select"}),(0,pt.jsx)("th",{children:"Item Name"}),(0,pt.jsx)("th",{children:"Status"})]})}),(0,pt.jsx)("tbody",{children:e.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:(0,pt.jsx)("input",{type:"checkbox",checked:n.includes(e.name),onChange:()=>{return t=e.name,void a((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),(0,pt.jsx)("td",{children:(0,pt.jsx)(et,{to:`/items/${e.name}`,children:e.name})}),(0,pt.jsx)("td",{children:e.enabled?"Enabled":"Disabled"})]},e.name)))})]})})]})},vu=()=>{const{name:e}=te(),r=ee(),[n,a]=(0,t.useState)(null),[i,o]=(0,t.useState)("new"===e),[s,l]=(0,t.useState)({name:""}),[c,u]=(0,t.useState)(null),d="https://tilly.onrender.com";(0,t.useEffect)((()=>{e&&"new"!==e&&h()}),[e]);const h=async()=>{try{const t=await fetch(`${d}/api/items/${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();a({name:r.name}),l({name:r.name})}catch(t){console.error("Fetch item error:",t),u("Failed to fetch item: "+t.message)}};return e&&"new"!==e&&!n?(0,pt.jsx)("div",{children:"Loading..."}):(0,pt.jsxs)("div",{style:{padding:"20px",backgroundColor:"#2E4655",borderRadius:"8px",maxWidth:"600px",margin:"20px auto"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",fontSize:"28px",marginBottom:"20px"},children:"new"===e?"Add New Item":"Item Details"}),c&&(0,pt.jsx)("p",{style:{color:"#F86752",fontSize:"16px"},children:c}),(0,pt.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Name:",i?(0,pt.jsx)("input",{type:"text",value:s.name,onChange:e=>l({...s,name:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px"}}):(0,pt.jsx)("span",{style:{color:"#FFFFFF",marginLeft:"10px"},children:null===n||void 0===n?void 0:n.name})]})}),i&&(0,pt.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(s.name)try{const t=e&&"new"!==e?"PUT":"POST",n=`${d}/api/items`,i="PUT"===t?{oldName:e,newName:s.name}:{name:s.name},l=await fetch(n,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);a(s),o(!1),u(null),r(`/items/${s.name}`)}catch(t){console.error("Save item error:",t),u("Failed to save item: "+t.message)}else u("Item name is required")},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Save"}),(0,pt.jsx)("button",{onClick:()=>{e&&"new"!==e?(o(!1),l(n)):r("/items")},style:{backgroundColor:"#000000",color:"#EEC930",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",marginLeft:"10px",cursor:"pointer"},children:"Cancel"})]}),!i&&(0,pt.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,pt.jsx)("button",{onClick:()=>o(!0),style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Edit"})})]})},bu=e=>{let{vendors:r,refreshVendors:n}=e;const[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(null),l=ee(),c="https://tilly.onrender.com";(0,t.useEffect)((()=>{n()}),[n]);const u=async e=>{if(0!==a.length)try{const t=await fetch(`${c}/api/vendors`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:a,enabled:e})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);i([]),await n(),s(null)}catch(t){s(`Failed to ${e?"enable":"disable"} vendors: `+t.message)}else s("No vendors selected to enable/disable")};return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Vendors List"}),o&&(0,pt.jsx)("p",{style:{color:"#F86752"},children:o}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,pt.jsx)("button",{onClick:()=>{l("/vendors/new")},children:"Add Vendor"}),(0,pt.jsx)("button",{onClick:async()=>{if(0!==a.length)try{const e=await fetch(`${c}/api/vendors`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:a})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);i([]),await n(),s(null)}catch(e){s("Failed to delete vendors: "+e.message)}else s("No vendors selected to delete")},style:{marginLeft:"10px"},children:"Delete Vendor"}),(0,pt.jsx)("button",{onClick:()=>u(!0),style:{marginLeft:"10px"},children:"Enable Vendor"}),(0,pt.jsx)("button",{onClick:()=>u(!1),style:{marginLeft:"10px"},children:"Disable Vendor"})]}),(0,pt.jsxs)("table",{children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Select"}),(0,pt.jsx)("th",{children:"Vendor Name"}),(0,pt.jsx)("th",{children:"Status"})]})}),(0,pt.jsx)("tbody",{children:r.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:(0,pt.jsx)("input",{type:"checkbox",checked:a.includes(e.name),onChange:()=>{return t=e.name,void i((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),(0,pt.jsx)("td",{children:(0,pt.jsx)(et,{to:`/vendors/${e.name}`,children:e.name})}),(0,pt.jsx)("td",{children:e.enabled?"Enabled":"Disabled"})]},e.name)))})]})]})},xu=e=>{let{vendors:r,refreshVendors:n,refreshInventory:a}=e;const{name:i}=te(),o=ee(),s=Q(),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)("new"===i),[h,f]=(0,t.useState)({name:"",type:"Supplier",enabled:1,address:"",email:"",phone:""}),[p,g]=(0,t.useState)(null),[m,v]=(0,t.useState)("info"),[b,x]=(0,t.useState)([]),[y,w]=(0,t.useState)([]),S="https://tilly.onrender.com",C=e=>`${e.item}-${e.lotNumber}`;(0,t.useEffect)((()=>{if(i&&"new"!==i){const e=r.find((e=>e.name===i));e&&(c(e),f(e)),T(),k()}}),[i,r]);const T=async()=>{try{const e=await fetch(`${S}/api/inventory?source=${i}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();x(t.filter((e=>["Received","Stored"].includes(e.status||"")))),g(null)}catch(e){console.error("Fetch receipts error:",e),g("Failed to fetch receipts: "+e.message)}},k=async()=>{try{const e=await fetch(`${S}/api/purchase-orders?supplier=${i}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();w(t)}catch(e){console.error("Fetch purchase orders error:",e),g("Failed to fetch purchase orders: "+e.message)}};return(0,t.useEffect)((()=>{var e;null!==(e=s.state)&&void 0!==e&&e.fromVendor&&i&&"new"!==i&&(T(),a())}),[s.state,i]),i&&"new"!==i&&!l?(0,pt.jsx)("div",{children:"Loading..."}):(0,pt.jsxs)("div",{style:{padding:"20px",backgroundColor:"#2E4655",borderRadius:"8px",maxWidth:"800px",margin:"20px auto"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",fontSize:"28px",marginBottom:"20px"},children:"new"===i?"Add New Vendor":`${null===l||void 0===l?void 0:l.name} Details`}),"new"!==i&&(0,pt.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[(0,pt.jsx)("button",{onClick:()=>v("info"),style:{backgroundColor:"info"===m?"#F86752":"#000000",color:"info"===m?"#FFFFFF":"#EEC930",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Information"}),(0,pt.jsx)("button",{onClick:()=>v("receipts"),style:{backgroundColor:"receipts"===m?"#F86752":"#000000",color:"receipts"===m?"#FFFFFF":"#EEC930",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Inventory Receipts"}),(0,pt.jsx)("button",{onClick:()=>{"new"!==i?(o(`/vendors/${i}/purchase-orders`),v("orders")):g("Save the vendor before viewing purchase orders")},style:{backgroundColor:"orders"===m?"#F86752":"#000000",color:"orders"===m?"#FFFFFF":"#EEC930",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Purchase Orders"})]}),p&&(0,pt.jsx)("p",{style:{color:"#F86752",fontSize:"16px"},children:p}),"info"===m&&(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Name:",u?(0,pt.jsx)("input",{type:"text",value:h.name,onChange:e=>f({...h,name:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}}):(0,pt.jsx)("span",{style:{color:"#FFFFFF",marginLeft:"10px"},children:null===l||void 0===l?void 0:l.name})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Type:",u?(0,pt.jsxs)("select",{value:h.type||"",onChange:e=>f({...h,type:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px"},children:[(0,pt.jsx)("option",{value:"Supplier",children:"Supplier"}),(0,pt.jsx)("option",{value:"Customer",children:"Customer"}),(0,pt.jsx)("option",{value:"Distributor",children:"Distributor"}),(0,pt.jsx)("option",{value:"Delivery",children:"Delivery"})]}):(0,pt.jsx)("span",{style:{color:"#FFFFFF",marginLeft:"10px"},children:(null===l||void 0===l?void 0:l.type)||"N/A"})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Address:",u?(0,pt.jsx)("textarea",{value:h.address||"",onChange:e=>f({...h,address:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",minHeight:"60px",boxSizing:"border-box"}}):(0,pt.jsx)("span",{style:{color:"#FFFFFF",marginLeft:"10px"},children:(null===l||void 0===l?void 0:l.address)||"N/A"})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Email:",u?(0,pt.jsx)("input",{type:"email",value:h.email||"",onChange:e=>f({...h,email:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}}):(0,pt.jsx)("span",{style:{color:"#FFFFFF",marginLeft:"10px"},children:(null===l||void 0===l?void 0:l.email)||"N/A"})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Phone:",u?(0,pt.jsx)("input",{type:"tel",value:h.phone||"",onChange:e=>f({...h,phone:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}}):(0,pt.jsx)("span",{style:{color:"#FFFFFF",marginLeft:"10px"},children:(null===l||void 0===l?void 0:l.phone)||"N/A"})]}),u&&(0,pt.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(h.name)try{var e;const t=i&&"new"!==i?"PUT":"POST",r=`${S}/api/vendors`,a="PUT"===t?{oldName:i,newVendor:h}:{...h},l=await fetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);c(h),d(!1),await n(),g(null),null!==(e=s.state)&&void 0!==e&&e.fromReceive?o("/receive",{state:{vendor:h.name}}):o(`/vendors/${h.name}`)}catch(t){console.error("Save vendor error:",t),g("Failed to save vendor: "+t.message)}else g("Vendor name is required")},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Save"}),(0,pt.jsx)("button",{onClick:()=>{i&&"new"!==i?(d(!1),f(l||{name:"",type:"Supplier",enabled:1,address:"",email:"",phone:""})):o("/vendors")},style:{backgroundColor:"#000000",color:"#EEC930",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",marginLeft:"10px",cursor:"pointer"},children:"Cancel"})]}),!u&&(0,pt.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,pt.jsx)("button",{onClick:()=>d(!0),style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Edit"})})]}),"receipts"===m&&"new"!==i&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h3",{style:{color:"#EEC930",fontSize:"20px",marginBottom:"10px"},children:"Inventory Receipts"}),(0,pt.jsx)("button",{onClick:()=>{o("/receive",{state:{vendor:null===l||void 0===l?void 0:l.name,fromVendor:!0}})},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer",marginBottom:"20px"},children:"Add Receipt"}),(0,pt.jsxs)("table",{children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Item-Lot"}),(0,pt.jsx)("th",{children:"Type"}),(0,pt.jsx)("th",{children:"Quantity"}),(0,pt.jsx)("th",{children:"Date Received"})]})}),(0,pt.jsx)("tbody",{children:b.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:C(e)}),(0,pt.jsx)("td",{children:e.type}),(0,pt.jsx)("td",{children:e.quantity}),(0,pt.jsx)("td",{children:e.receivedDate})]},C(e))))})]})]}),"orders"===m&&"new"!==i&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h3",{style:{color:"#EEC930",fontSize:"20px",marginBottom:"10px"},children:"Purchase Orders"}),(0,pt.jsx)("button",{onClick:()=>{"new"!==i?o(`/vendors/${i}/purchase-orders/new`):g("Save the vendor before adding a purchase order")},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer",marginBottom:"20px"},children:"Add Purchase Order"}),(0,pt.jsxs)("table",{children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"PO Number"}),(0,pt.jsx)("th",{children:"Site"}),(0,pt.jsx)("th",{children:"PO Date"}),(0,pt.jsx)("th",{children:"Comments"}),(0,pt.jsx)("th",{children:"Action"})]})}),(0,pt.jsx)("tbody",{children:y.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.poNumber}),(0,pt.jsx)("td",{children:e.siteId||"N/A"}),(0,pt.jsx)("td",{children:e.poDate||"N/A"}),(0,pt.jsx)("td",{children:e.comments||"N/A"}),(0,pt.jsx)("td",{children:(0,pt.jsx)("button",{onClick:()=>{return t=e.poNumber,void o(`/vendors/${i}/purchase-orders/${t}`);var t},style:{backgroundColor:"#EEC930",color:"#000000",padding:"5px 10px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Edit"})})]},e.poNumber)))})]})]})]})},yu=()=>{const{name:e,poNumber:r}=te(),n=ee(),[a,i]=(0,t.useState)(null),[o,s]=(0,t.useState)({poNumber:r||"",site:"Main Site",poDate:(new Date).toISOString().split("T")[0],supplier:e||"",supplierAddress:"",supplierCity:"",supplierState:"",supplierZip:"",comments:"",shipToName:"Paws & Pours",shipToAddress:"789 Oak St",shipToCity:"Birmingham",shipToState:"AL",shipToZip:"35203",items:[]}),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!!r),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)(""),[m,v]=(0,t.useState)(""),[b,x]=(0,t.useState)(ut.Grain),y="https://tilly.onrender.com";(0,t.useEffect)((()=>{w(),S(),r&&C()}),[e,r]);const w=async()=>{try{const t=await fetch(`${y}/api/vendors/${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();i(r),s((e=>({...e,supplier:r.name,supplierAddress:r.address||""})))}catch(t){console.error("Fetch vendor error:",t),c("Failed to fetch vendor: "+t.message)}},S=async()=>{try{const e=await fetch(`${y}/api/items`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();f(t.filter((e=>e.enabled)))}catch(e){console.error("Fetch items error:",e),c("Failed to fetch items: "+e.message)}},C=async()=>{try{const e=await fetch(`${y}/api/purchase-orders/${r}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();s(t)}catch(e){console.error("Fetch PO error:",e),c("Failed to fetch purchase order: "+e.message)}};return(0,pt.jsxs)("div",{style:{padding:"20px",backgroundColor:"#2E4655",borderRadius:"8px",maxWidth:"800px",margin:"20px auto",maxHeight:"80vh",overflowY:"auto"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",fontSize:"28px",marginBottom:"20px"},children:r?"Edit Purchase Order":"Add New Purchase Order"}),l&&(0,pt.jsx)("p",{style:{color:"#F86752",fontSize:"16px"},children:l}),(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["PO Number:",(0,pt.jsx)("input",{type:"text",value:o.poNumber,onChange:e=>s({...o,poNumber:e.target.value}),disabled:!!r,style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Site:",(0,pt.jsx)("input",{type:"text",value:o.site,onChange:e=>s({...o,site:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["PO Date:",(0,pt.jsx)("input",{type:"date",value:o.poDate,onChange:e=>s({...o,poDate:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Supplier:",(0,pt.jsx)("input",{type:"text",value:o.supplier,disabled:!0,style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",backgroundColor:"#000000",color:"#FFFFFF",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Supplier Address:",(0,pt.jsx)("textarea",{value:o.supplierAddress,onChange:e=>s({...o,supplierAddress:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",minHeight:"60px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Supplier City:",(0,pt.jsx)("input",{type:"text",value:o.supplierCity,onChange:e=>s({...o,supplierCity:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Supplier State:",(0,pt.jsx)("input",{type:"text",value:o.supplierState,onChange:e=>s({...o,supplierState:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Supplier Zip Code:",(0,pt.jsx)("input",{type:"text",value:o.supplierZip,onChange:e=>s({...o,supplierZip:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Comments:",(0,pt.jsx)("textarea",{value:o.comments,onChange:e=>s({...o,comments:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",minHeight:"60px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Ship To (Name):",(0,pt.jsx)("input",{type:"text",value:o.shipToName,onChange:e=>s({...o,shipToName:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Ship To Address:",(0,pt.jsx)("textarea",{value:o.shipToAddress,onChange:e=>s({...o,shipToAddress:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",minHeight:"60px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Ship To City:",(0,pt.jsx)("input",{type:"text",value:o.shipToCity,onChange:e=>s({...o,shipToCity:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Ship To State:",(0,pt.jsx)("input",{type:"text",value:o.shipToState,onChange:e=>s({...o,shipToState:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("label",{style:{color:"#EEC930",fontSize:"18px"},children:["Ship To ZIP Code:",(0,pt.jsx)("input",{type:"text",value:o.shipToZip,onChange:e=>s({...o,shipToZip:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",marginTop:"5px",boxSizing:"border-box"}})]}),(0,pt.jsxs)("div",{style:{color:"#EEC930",fontSize:"18px"},children:["Items:",(0,pt.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[(0,pt.jsxs)("select",{value:p,onChange:e=>g(e.target.value),style:{padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",flex:1},children:[(0,pt.jsx)("option",{value:"",children:"Select Item"}),h.map((e=>(0,pt.jsx)("option",{value:e.name,children:e.name},e.name)))]}),(0,pt.jsx)("input",{type:"number",value:m,onChange:e=>v(e.target.value),placeholder:"Quantity",min:"1",style:{padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",width:"100px"}}),(0,pt.jsx)("select",{value:b,onChange:e=>x(e.target.value),style:{padding:"10px",fontSize:"16px",borderRadius:"4px",border:"1px solid #000000",width:"150px"},children:Object.values(ut).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))}),(0,pt.jsx)("button",{onClick:()=>{if(!p||!m||isNaN(parseFloat(m))||parseFloat(m)<=0)return void c("Select an item and enter a valid quantity");const e={name:p,quantity:parseFloat(m),materialType:b};s((t=>({...t,items:[...t.items,e]}))),g(""),v(""),x(ut.Grain),c(null)},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add"})]}),(0,pt.jsx)("ul",{style:{listStyle:"none",padding:0,marginTop:"10px"},children:o.items.map(((e,t)=>(0,pt.jsxs)("li",{style:{display:"flex",justifyContent:"space-between",color:"#FFFFFF",marginBottom:"5px"},children:[e.name,": ",e.quantity," (",e.materialType,")",(0,pt.jsx)("button",{onClick:()=>(e=>{s((t=>({...t,items:t.items.filter(((t,r)=>r!==e))})))})(t),style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"5px 10px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Remove"})]},t)))})]})]}),(0,pt.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(o.poNumber&&o.items.length)try{const e=await fetch(`${y}/api/purchase-orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);d(!0),c(null)}catch(e){console.error("Save purchase order error:",e),c("Failed to save purchase order: "+e.message)}else c("PO Number and at least one item are required")},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer"},children:"Save"}),(u||r)&&(0,pt.jsx)("button",{onClick:async()=>{try{const t=await fetch(`${y}/api/purchase-orders/email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({poNumber:o.poNumber,supplier:o.supplier})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);alert("Email sent to vendor!"),n(`/vendors/${e}`)}catch(t){console.error("Email error:",t),c("Failed to send email: "+t.message)}},style:{backgroundColor:"#EEC930",color:"#000000",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",marginLeft:"10px",cursor:"pointer"},children:"Email to Vendor"}),(0,pt.jsx)("button",{onClick:()=>{n(`/vendors/${e}`)},style:{backgroundColor:"#000000",color:"#EEC930",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",marginLeft:"10px",cursor:"pointer"},children:"Cancel"})]})]})},wu=()=>{const{name:e}=te(),r=ee(),[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(null);(0,t.useEffect)((()=>{e&&s()}),[e]);const s=async()=>{try{const t=await fetch(`https://tilly.onrender.com/api/purchase-orders?supplier=${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();a(r)}catch(t){console.error("Fetch POs error:",t),o("Failed to fetch purchase orders: "+t.message)}};return(0,pt.jsxs)("div",{style:{padding:"20px",backgroundColor:"#2E4655",borderRadius:"8px",maxWidth:"800px",margin:"20px auto"},children:[(0,pt.jsxs)("h2",{style:{color:"#EEC930",fontSize:"28px",marginBottom:"20px"},children:["Purchase Orders for ",e]}),i&&(0,pt.jsx)("p",{style:{color:"#F86752",fontSize:"16px"},children:i}),(0,pt.jsx)("button",{onClick:()=>{r(`/vendors/${e}/purchase-orders/new`)},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer",marginBottom:"20px"},children:"Create New Purchase Order"}),(0,pt.jsx)("ul",{style:{listStyle:"none",padding:0},children:n.map((t=>(0,pt.jsxs)("li",{onClick:()=>{return n=t.poNumber,void r(`/vendors/${e}/purchase-orders/${n}`);var n},style:{color:"#FFFFFF",padding:"10px",backgroundColor:"#3A5A6A",borderRadius:"4px",marginBottom:"10px",cursor:"pointer",display:"flex",justifyContent:"space-between"},children:[(0,pt.jsxs)("span",{children:["PO #",t.poNumber," - ",t.poDate]}),(0,pt.jsxs)("span",{children:[t.items.length," items"]})]},t.poNumber)))})]})},Su="https://tilly.onrender.com",Cu=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({name:"",abbreviation:"",enabled:!0,priority:1,class:"",type:"",style:"",abv:0,ibu:0}),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`${Su}/api/products`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();r(t)}catch(e){l("Failed to fetch products: "+e.message)}})(),(async()=>{try{console.log("Fetching /styles.xml...");const e=await fetch("/styles.xml",{headers:{Accept:"application/xml"}});if(console.log("Fetch response:",e.status,e.statusText),!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.text();if(!t.trim())throw new Error("Empty XML response");console.log("Raw XML:",t.slice(0,200));const r=(new DOMParser).parseFromString(t,"text/xml"),n=r.querySelector("parsererror");if(n)throw new Error("Invalid XML format: "+n.textContent);const a=[];let i="";if(Array.from(r.documentElement.childNodes).forEach((e=>{if(e.nodeType===Node.COMMENT_NODE){var t;const r=(null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase())||"";r.includes("beer")?i="Malt":r.includes("wine")?i="Wine":r.includes("spirit")?i="Spirits":r.includes("cider")?i="Cider":r.includes("seltzer")?i="Seltzer":r.includes("merchandise")&&(i="Merchandise")}else if("style"===e.nodeName&&i){var r;const t=null===(r=e.textContent)||void 0===r?void 0:r.trim();if(t){const e=a.find((e=>e.type===i));e?e.styles.push(t):a.push({type:i,styles:[t]})}}})),0===a.length)throw new Error("No styles found in XML");console.log("Parsed styles:",a),m(a)}catch(e){console.error("Fetch styles error:",e.message),l("Failed to load styles: "+e.message);const t=[{type:"Malt",styles:["IPA","Stout","Porter","American Amber Ale"]},{type:"Spirits",styles:["Bourbon","Whiskey","Vodka","Gin"]},{type:"Wine",styles:["Red","White","Ros\xe9"]},{type:"Cider",styles:["Dry","Sweet"]},{type:"Seltzer",styles:["Other"]},{type:"Merchandise",styles:["Other"]}];m(t),console.log("Set mock styles:",t)}})()}),[]);return(0,pt.jsxs)("div",{className:"page-container",children:[(0,pt.jsx)("h2",{children:"Products"}),s&&(0,pt.jsx)("div",{className:"error",children:s}),(0,pt.jsxs)("div",{className:"inventory-actions",children:[(0,pt.jsx)("button",{onClick:()=>o(!0),children:"Add Product"}),(0,pt.jsx)("button",{disabled:0===n.length,style:0===n.length?{backgroundColor:"#CCCCCC",cursor:"not-allowed"}:{},children:"Delete Selected"})]}),(0,pt.jsx)("div",{className:"inventory-table-container",children:(0,pt.jsxs)("table",{className:"inventory-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{}),(0,pt.jsx)("th",{children:"Name"}),(0,pt.jsx)("th",{children:"Abbreviation"})]})}),(0,pt.jsx)("tbody",{children:e.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:(0,pt.jsx)("input",{type:"checkbox",checked:n.includes(e.id),onChange:t=>{t.target.checked?a([...n,e.id]):a(n.filter((t=>t!==e.id)))}})}),(0,pt.jsx)("td",{children:(0,pt.jsx)(et,{to:`/products/${e.id}`,children:e.name})}),(0,pt.jsx)("td",{children:e.abbreviation})]},e.id)))})]})}),i&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",maxHeight:"90vh",overflowY:"auto"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Add New Product"}),(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Name (required):"}),(0,pt.jsx)("input",{type:"text",value:c.name,onChange:e=>u({...c,name:e.target.value}),placeholder:"Enter product name",style:{width:"100%",maxWidth:"350px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Abbreviation:"}),(0,pt.jsx)("input",{type:"text",value:c.abbreviation,onChange:e=>u({...c,abbreviation:e.target.value}),placeholder:"Enter abbreviation",style:{width:"100%",maxWidth:"350px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Class (required):"}),(0,pt.jsxs)("select",{value:c.class||"",onChange:e=>u({...c,class:e.target.value}),style:{width:"100%",maxWidth:"350px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Class"}),Object.values(dt).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Type (required):"}),(0,pt.jsxs)("select",{value:c.type||"",onChange:e=>{var t;const r=e.target.value;u({...c,type:r,style:r===ht.Seltzer||r===ht.Merchandise?"Other":""});const n=(null===(t=g.find((e=>e.type.toLowerCase()===r.toLowerCase())))||void 0===t?void 0:t.styles)||[];h(n),console.log("Type selected:",r,"Filtered styles:",n),p(!0)},style:{width:"100%",maxWidth:"350px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Type"}),Object.values(ht).map((e=>(0,pt.jsx)("option",{value:e,children:e},e)))]})]}),(0,pt.jsxs)("div",{style:{position:"relative"},children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Style:"}),(0,pt.jsx)("input",{type:"text",value:c.style||"",onChange:e=>{const t=e.target.value;if(u({...c,style:t}),p(!0),""===t.trim()){var r;h((null===(r=g.find((e=>{var t;return e.type.toLowerCase()===(null===(t=c.type)||void 0===t?void 0:t.toLowerCase())})))||void 0===r?void 0:r.styles)||[])}else{var n;const e=((null===(n=g.find((e=>{var t;return e.type.toLowerCase()===(null===(t=c.type)||void 0===t?void 0:t.toLowerCase())})))||void 0===n?void 0:n.styles)||[]).filter((e=>e.toLowerCase().includes(t.toLowerCase())));h(e)}},onKeyDown:e=>{"Enter"===e.key&&d.length>0&&(e.preventDefault(),u({...c,style:d[0]}),p(!1))},placeholder:"Type to search styles",onFocus:()=>p(!0),onBlur:()=>setTimeout((()=>p(!1)),300),disabled:c.type===ht.Seltzer||c.type===ht.Merchandise,style:{width:"100%",maxWidth:"350px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",backgroundColor:c.type===ht.Seltzer||c.type===ht.Merchandise?"#f0f0f0":"#FFFFFF",color:"#000000"}}),f&&c.type!==ht.Seltzer&&c.type!==ht.Merchandise&&(0,pt.jsx)("ul",{className:"typeahead",children:d.length>0?d.map((e=>(0,pt.jsx)("li",{onMouseDown:t=>{t.preventDefault(),u({...c,style:e}),p(!1)},className:c.style===e?"selected":"",children:e},e))):(0,pt.jsx)("li",{style:{padding:"8px 10px",color:"#888",borderBottom:"1px solid #eee"},children:"No matches found"})})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"ABV %:"}),(0,pt.jsx)("input",{type:"number",value:c.abv||"",onChange:e=>u({...c,abv:parseFloat(e.target.value)||0}),step:"0.1",min:"0",placeholder:"Enter ABV %",style:{width:"100%",maxWidth:"350px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"IBU:"}),(0,pt.jsx)("input",{type:"number",value:c.ibu||"",onChange:e=>u({...c,ibu:parseInt(e.target.value,10)||0}),step:"1",min:"0",placeholder:"Enter IBU",style:{width:"100%",maxWidth:"350px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]})]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(c.name&&c.class&&c.type)try{const t={...c,abv:c.abv?parseFloat(c.abv.toString()):0,ibu:c.ibu?parseInt(c.ibu.toString(),10):0},n=await fetch(`${Su}/api/products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();r([...e,a]),o(!1),u({name:"",abbreviation:"",enabled:!0,priority:1,class:"",type:"",style:"",abv:0,ibu:0}),l(null)}catch(t){l("Failed to add product: "+t.message)}else l("Name, Class, and Type are required")},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Add"}),(0,pt.jsx)("button",{onClick:()=>{o(!1),u({name:"",abbreviation:"",enabled:!0,priority:1,class:"",type:"",style:"",abv:0,ibu:0}),l(null)},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})})]})},Tu="https://tilly.onrender.com",ku=()=>{const{id:e}=te(),[r,n]=(0,t.useState)(null),[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)({name:"",productId:parseInt(e||"0",10),ingredients:[{itemName:"",quantity:0}],quantity:0,unit:"gallons"}),[h,f]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const t=await fetch(`${Tu}/api/products/${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();console.log("Fetched product:",r),n(r)}catch(t){console.error("Fetch product error:",t),f("Failed to fetch product: "+t.message)}})(),(async()=>{try{const t=await fetch(`${Tu}/api/recipes?productId=${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();console.log("Fetched recipes:",r),i(r)}catch(t){console.error("Fetch recipes error:",t),f("Failed to fetch recipes: "+t.message)}})(),(async()=>{try{const e=await fetch(`${Tu}/api/items`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();console.log("Fetched items:",t),s(t)}catch(e){console.error("Fetch items error:",e),f("Failed to fetch items: "+e.message)}})()}),[e]);const p=(e,t,r)=>{const n=[...u.ingredients];n[e]={...n[e],[t]:r},d({...u,ingredients:n})};return(0,pt.jsxs)("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto",fontFamily:"Arial, sans-serif"},children:[(0,pt.jsx)("h2",{style:{color:"#333",marginBottom:"20px"},children:"Product Details"}),h&&(0,pt.jsx)("div",{className:"error",children:h}),r?(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"Name:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:r.name})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"Abbreviation:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:r.abbreviation})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"Enabled:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:r.enabled?"#e0f7e0":"#ffe0e0",borderRadius:"4px",color:"#000000"},children:r.enabled?"Yes":"No"})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"Priority:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:r.priority})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"Class:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:r.class})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"Type:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:r.type})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"Style:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:r.style})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"ABV:"}),(0,pt.jsxs)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:[r.abv,"%"]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555"},children:"IBU:"}),(0,pt.jsx)("span",{style:{display:"block",padding:"5px 10px",backgroundColor:"#f9f9f9",borderRadius:"4px",color:"#000000"},children:r.ibu})]})]}),(0,pt.jsx)("h3",{style:{color:"#333",marginTop:"20px",marginBottom:"10px"},children:"Recipes"}),a.length>0?(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{style:{backgroundColor:"#f0f0f0"},children:[(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Name"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Quantity"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Ingredients"})]})}),(0,pt.jsx)("tbody",{children:a.map((e=>(0,pt.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.name}),(0,pt.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[e.quantity," ",e.unit]}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:e.ingredients&&e.ingredients.length>0?(0,pt.jsx)("ul",{style:{margin:0,paddingLeft:"20px"},children:e.ingredients.map(((e,t)=>(0,pt.jsxs)("li",{children:[e.itemName,": ",e.quantity]},t)))}):"No ingredients specified"})]},e.id)))})]}):(0,pt.jsx)("p",{style:{color:"#777",marginBottom:"20px"},children:"No recipes available."}),(0,pt.jsx)("button",{onClick:()=>c(!0),style:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#45a049",onMouseOut:e=>e.currentTarget.style.backgroundColor="#4CAF50",children:"Add New Recipe"}),(0,pt.jsx)(et,{to:"/products",style:{display:"inline-block",marginTop:"10px",padding:"10px 20px",backgroundColor:"#2196F3",color:"white",textDecoration:"none",borderRadius:"4px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Back to Products"})]}):(0,pt.jsx)("p",{style:{color:"#777",textAlign:"center"},children:"Loading..."}),l&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"500px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",maxHeight:"90vh",overflowY:"auto"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:"Create New Recipe"}),h&&(0,pt.jsx)("div",{className:"error",style:{marginBottom:"10px"},children:h}),(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Recipe Name (required):"}),(0,pt.jsx)("input",{type:"text",value:u.name,onChange:e=>d({...u,name:e.target.value}),placeholder:"Enter recipe name",style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Product (required):"}),(0,pt.jsxs)("select",{value:u.productId||"",onChange:e=>d({...u,productId:parseInt(e.target.value,10)}),style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},disabled:!0,children:[(0,pt.jsx)("option",{value:"",children:"Select Product"}),r&&(0,pt.jsx)("option",{value:r.id,children:r.name})]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Quantity (required):"}),(0,pt.jsx)("input",{type:"number",value:u.quantity||"",onChange:e=>d({...u,quantity:parseFloat(e.target.value)||0}),placeholder:"Enter quantity",step:"0.01",min:"0",style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Unit (required):"}),(0,pt.jsxs)("select",{value:u.unit,onChange:e=>d({...u,unit:e.target.value}),style:{width:"100%",maxWidth:"450px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"gallons",children:"Gallons"}),(0,pt.jsx)("option",{value:"liters",children:"Liters"}),(0,pt.jsx)("option",{value:"barrels",children:"Barrels"})]})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Ingredients (required):"}),u.ingredients.map(((e,t)=>(0,pt.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px",alignItems:"center"},children:[(0,pt.jsxs)("select",{value:e.itemName,onChange:e=>p(t,"itemName",e.target.value),style:{width:"200px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"},children:[(0,pt.jsx)("option",{value:"",children:"Select Item"}),o.filter((e=>e.enabled)).map((e=>(0,pt.jsx)("option",{value:e.name,children:e.name},e.name)))]}),(0,pt.jsx)("input",{type:"number",value:e.quantity||"",onChange:e=>p(t,"quantity",parseFloat(e.target.value)||0),placeholder:"Quantity",step:"0.01",min:"0",style:{width:"100px",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}}),(0,pt.jsx)("button",{onClick:()=>(e=>{d({...u,ingredients:u.ingredients.filter(((t,r)=>r!==e))})})(t),style:{backgroundColor:"#F86752",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Remove"})]},t))),(0,pt.jsx)("button",{onClick:()=>{d({...u,ingredients:[...u.ingredients,{itemName:"",quantity:0}]})},style:{backgroundColor:"#2196F3",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginTop:"10px"},children:"Add Ingredient"})]})]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(!u.name||!u.productId||u.quantity<=0||!u.unit||u.ingredients.some((e=>!e.itemName||e.quantity<=0)))f("Recipe name, product, quantity, unit, and valid ingredients are required");else try{const t=await fetch(`${Tu}/api/recipes`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(u)});if(!t.ok){const e=await t.text();throw new Error(`Add recipe error: HTTP ${t.status}, Response: ${e.slice(0,50)}`)}const r=t.headers.get("content-type");if(!r||!r.includes("application/json")){const e=await t.text();throw new Error(`Invalid response for recipe: Expected JSON, got ${r}, Response: ${e.slice(0,50)}`)}const n=await t.json();i([...a,n]),c(!1),d({name:"",productId:parseInt(e||"0",10),ingredients:[{itemName:"",quantity:0}],quantity:0,unit:"gallons"}),f(null)}catch(t){console.error("Add recipe error:",t),f("Failed to add recipe: "+t.message)}},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Create"}),(0,pt.jsx)("button",{onClick:()=>{c(!1),d({name:"",productId:parseInt(e||"0",10),ingredients:[{itemName:"",quantity:0}],quantity:0,unit:"gallons"}),f(null)},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})})]})},Eu=e=>{let{refreshInventory:r}=e;const{identifier:n}=te(),a=ee(),[i,o]=(0,t.useState)(null),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)({newQuantity:"",reason:"",date:(new Date).toISOString().split("T")[0]}),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),g="https://tilly.onrender.com",m=e=>e.identifier||"N/A",v=n?decodeURIComponent(n).replace(/_/g,"/"):"";(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`${g}/api/inventory`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=(await e.json()).find((e=>m(e)===v));t?(o(t),u((e=>({...e,newQuantity:t.quantity||""})))):p("Item not found")}catch(e){console.error("Fetch item error:",e),p("Failed to load item: "+e.message)}})()}),[v]),(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`${g}/api/sites`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();l(t)}catch(e){console.error("Fetch sites error:",e),p("Failed to fetch sites: "+e.message)}})()}),[g]);const b=(e,t)=>{u((r=>({...r,[e]:t})))};return i||f?f?(0,pt.jsx)("div",{style:{color:"#F86752",textAlign:"center",padding:"20px"},children:f}):(0,pt.jsxs)("div",{style:{padding:"20px",backgroundColor:"#2E4655",minHeight:"100vh",color:"#FFFFFF",fontFamily:"Arial, sans-serif"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",fontSize:"28px",marginBottom:"20px",textAlign:"center"},children:"Inventory Item Details"}),(0,pt.jsxs)("div",{style:{backgroundColor:"#FFFFFF",color:"#000000",padding:"30px",borderRadius:"8px",maxWidth:"600px",margin:"0 auto",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Item-Lot:"})," ",i?m(i):"N/A"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Type:"})," ",null===i||void 0===i?void 0:i.type]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Description:"})," ",(null===i||void 0===i?void 0:i.description)||"N/A"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Quantity:"})," ",null===i||void 0===i?void 0:i.quantity," ",null===i||void 0===i?void 0:i.unit]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Unit:"})," ",(null===i||void 0===i?void 0:i.unit)||"N/A"]}),"Spirits"===(null===i||void 0===i?void 0:i.type)&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Proof:"})," ",(null===i||void 0===i?void 0:i.proof)||"N/A"]}),"Spirits"===(null===i||void 0===i?void 0:i.type)&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Proof Gallons:"})," ",(null===i||void 0===i?void 0:i.proofGallons)||"N/A"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Total Cost:"})," ",null!==i&&void 0!==i&&i.totalCost?`$${parseFloat(i.totalCost).toFixed(2)}`:"N/A"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Date Received:"})," ",(null===i||void 0===i?void 0:i.receivedDate)||"N/A"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Source:"})," ",(null===i||void 0===i?void 0:i.source)||"N/A"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Location:"})," ",(null===i||void 0===i?void 0:i.account)||"Storage"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Site:"})," ",i?(e=>{if(!e)return"N/A";const t=s.find((t=>t.siteId===e));return t?t.name:"N/A"})(i.siteId):"N/A"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"Status:"})," ",(null===i||void 0===i?void 0:i.status)||"Stored"]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("strong",{children:"DSP Number:"})," ",(null===i||void 0===i?void 0:i.dspNumber)||"N/A"]})]}),d&&i&&(0,pt.jsxs)("div",{style:{marginTop:"20px",padding:"20px",backgroundColor:"#F5F5F5",borderRadius:"4px"},children:[(0,pt.jsx)("h3",{style:{color:"#2E4655",fontSize:"20px",marginBottom:"15px"},children:"Adjust Inventory"}),(0,pt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,pt.jsx)("strong",{children:"Current Quantity:"})," ",i.quantity," ",i.unit]}),(0,pt.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,pt.jsx)("strong",{children:"Current Total Cost:"})," $",parseFloat(i.totalCost||"0").toFixed(2)]}),(0,pt.jsxs)("label",{style:{display:"block",marginBottom:"10px"},children:["New Quantity:",(0,pt.jsx)("input",{type:"number",value:c.newQuantity,onChange:e=>b("newQuantity",e.target.value),step:"0.01",style:{marginLeft:"10px",padding:"5px",width:"100px",borderRadius:"4px"}})]}),(0,pt.jsxs)("label",{style:{display:"block",marginBottom:"10px"},children:["Reason:",(0,pt.jsxs)("select",{value:c.reason,onChange:e=>b("reason",e.target.value),style:{marginLeft:"10px",padding:"5px",width:"150px",borderRadius:"4px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Reason"}),(0,pt.jsx)("option",{value:"Spillage",children:"Spillage"}),(0,pt.jsx)("option",{value:"Error",children:"Error"}),(0,pt.jsx)("option",{value:"Breakage",children:"Breakage"}),(0,pt.jsx)("option",{value:"Destroyed",children:"Destroyed"})]})]}),(0,pt.jsxs)("label",{style:{display:"block",marginBottom:"10px"},children:["Date:",(0,pt.jsx)("input",{type:"date",value:c.date,onChange:e=>b("date",e.target.value),style:{marginLeft:"10px",padding:"5px",borderRadius:"4px"}})]}),(0,pt.jsx)("button",{onClick:async()=>{if(!i||!c.newQuantity||isNaN(parseFloat(c.newQuantity))||parseFloat(c.newQuantity)<0||!c.reason)p("Valid new quantity and reason are required");else try{const e=await fetch(`${g}/api/inventory/adjust`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:m(i),newQuantity:c.newQuantity,reason:c.reason,date:c.date})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();o((e=>e?{...e,quantity:t.newQuantity,totalCost:t.newTotalCost}:null)),h(!1),p(null),await r()}catch(e){console.error("Adjust inventory error:",e),p("Failed to adjust item: "+e.message)}},style:{backgroundColor:"#F86752",color:"#FFFFFF",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Save Adjustment"}),f&&(0,pt.jsx)("p",{style:{color:"#F86752",marginTop:"10px"},children:f})]}),(0,pt.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,pt.jsx)("button",{onClick:()=>h(!d),style:{backgroundColor:"#EEC930",color:"#000000",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:d?"Cancel Adjustment":"Adjust Inventory"}),(0,pt.jsx)("button",{onClick:()=>a("/inventory"),style:{backgroundColor:"#000000",color:"#EEC930",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",marginLeft:"20px"},children:"Back to Inventory"})]})]})]}):(0,pt.jsx)("div",{style:{color:"#FFFFFF",textAlign:"center",padding:"20px"},children:"Loading..."})},_u="https://tilly.onrender.com",Au=()=>{const e=ee(),r=Q().state,[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!(null===r||void 0===r||!r.fromReceive)),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)({name:"",siteId:(null===r||void 0===r?void 0:r.siteId)||"",abbreviation:""}),[v,b]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const[e,t]=await Promise.all([fetch(`${_u}/api/locations`),fetch(`${_u}/api/sites`)]);if(!e.ok||!t.ok)throw new Error("Failed to fetch data");const r=await e.json(),n=await t.json();console.log("Fetched locations:",r),a(r),o(n)}catch(e){l("Failed to load locations or sites: "+e.message)}})()}),[]);return!s||d||v?(0,pt.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,pt.jsxs)("div",{className:"page-container",children:[(0,pt.jsx)("h2",{style:{color:"#333",marginBottom:"20px"},children:"Locations"}),c&&(0,pt.jsx)("div",{style:{color:"green",marginBottom:"15px"},children:c}),!(null!==r&&void 0!==r&&r.fromReceive)&&(0,pt.jsx)("button",{onClick:()=>h(!0),style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"20px",fontSize:"16px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Add New Location"}),!(null!==r&&void 0!==r&&r.fromReceive)&&(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Location Name"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Site"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Abbreviation"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Action"})]})}),(0,pt.jsx)("tbody",{children:n.map((e=>{var t;return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"left"},children:e.name}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"left"},children:(null===(t=i.find((t=>t.siteId===e.siteId)))||void 0===t?void 0:t.name)||"Unknown Site"}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"left"},children:e.abbreviation||"None"}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"left"},children:(0,pt.jsx)("button",{onClick:()=>{b(e)},style:{backgroundColor:"#2196F3",color:"#fff",padding:"5px 10px",border:"none",borderRadius:"4px",cursor:"pointer"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Edit"})})]},e.locationId)}))})]})]}),(d||v)&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,pt.jsx)("h2",{style:{color:"#555",marginBottom:"20px",textAlign:"center"},children:v?"Edit Location":"Add New Location"}),s&&(0,pt.jsx)("div",{style:{color:"red",marginBottom:"15px",textAlign:"center"},children:s}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Name:"}),(0,pt.jsx)("input",{type:"text",value:v?v.name:g.name,onChange:e=>v?b({...v,name:e.target.value}):m({...g,name:e.target.value}),placeholder:"e.g., Cold Storage",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Site:"}),(0,pt.jsxs)("select",{value:v?v.siteId:g.siteId,onChange:e=>v?b({...v,siteId:e.target.value}):m({...g,siteId:e.target.value}),disabled:!(null===r||void 0===r||!r.siteId)&&!v,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:"",children:"Select a site"}),i.map((e=>(0,pt.jsx)("option",{value:e.siteId,children:e.name},e.siteId)))]})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Abbreviation:"}),(0,pt.jsx)("input",{type:"text",value:v?v.abbreviation||"":g.abbreviation,onChange:e=>v?b({...v,abbreviation:e.target.value}):m({...g,abbreviation:e.target.value}),placeholder:"e.g., Beer Cooler",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,pt.jsx)("button",{onClick:v?async()=>{if(v&&v.name&&v.siteId){p(!0),l(null);try{const e=await fetch(`${_u}/api/locations/${v.locationId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.name,siteId:v.siteId,abbreviation:v.abbreviation||null,enabled:v.enabled})});if(!e.ok){const t=await e.text();throw new Error(`Failed to update location: ${t}`)}b(null);const[t]=await Promise.all([fetch(`${_u}/api/locations`)]);if(!t.ok)throw new Error("Failed to fetch locations");const r=await t.json();console.log("Fetched locations after update:",r),a(r),u("Location updated successfully!"),setTimeout((()=>u(null)),1e3)}catch(e){l("Failed to update location: "+e.message)}finally{p(!1)}}else l("Location name and site are required")}:async()=>{if(g.name&&g.siteId){p(!0),l(null);try{const t=await fetch(`${_u}/api/locations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name,siteId:g.siteId,abbreviation:g.abbreviation||null,enabled:1})});if(!t.ok){const e=await t.text();throw new Error(`Failed to create location: ${e}`)}const i=await t.json();a([...n,i]),m({name:"",siteId:(null===r||void 0===r?void 0:r.siteId)||"",abbreviation:""}),h(!1),u("Location created successfully!"),setTimeout((()=>{u(null),null!==r&&void 0!==r&&r.fromReceive&&e("/receive",{state:{newLocationId:i.locationId.toString()}})}),1e3)}catch(t){l("Failed to create location: "+t.message)}finally{p(!1)}}else l("Location name and site are required")},disabled:(v?!v.name||!v.siteId:!g.name||!g.siteId)||f,style:{backgroundColor:(v?v.name&&v.siteId:g.name&&g.siteId)&&!f?"#2196F3":"#ccc",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:(v?v.name&&v.siteId:g.name&&g.siteId)&&!f?"pointer":"not-allowed",fontSize:"16px"},onMouseOver:e=>{(v?v.name&&v.siteId:g.name&&g.siteId)&&!f&&(e.currentTarget.style.backgroundColor="#1976D2")},onMouseOut:e=>{(v?v.name&&v.siteId:g.name&&g.siteId)&&!f&&(e.currentTarget.style.backgroundColor="#2196F3")},children:f?"Saving...":v?"Save":"Create"}),(0,pt.jsx)("button",{onClick:v?()=>{b(null),l(null)}:()=>{m({name:"",siteId:(null===r||void 0===r?void 0:r.siteId)||"",abbreviation:""}),h(!1),l(null),null!==r&&void 0!==r&&r.fromReceive&&e("/receive")},style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]})})]}):(0,pt.jsx)("div",{style:{color:"red",marginTop:"20px"},children:s})},Fu="https://tilly.onrender.com",Pu=()=>{const e=ee(),r=Q().state,[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(null),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)({siteId:"",name:"",type:"",address:""});(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`${Fu}/api/sites`);if(!e.ok)throw new Error("Failed to fetch sites");const t=await e.json();a(t)}catch(e){o("Failed to load sites: "+e.message)}})()}),[]);return(0,pt.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,pt.jsx)("h2",{style:{color:"#333",marginBottom:"20px"},children:"Sites"}),s&&(0,pt.jsx)("div",{style:{color:"green",marginBottom:"15px",textAlign:"center"},children:s}),i&&(0,pt.jsx)("div",{style:{color:"red",marginBottom:"15px",textAlign:"center"},children:i}),(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px"},children:"Add New Site"}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Site ID (e.g., DSP-AL-20010):"}),(0,pt.jsx)("input",{type:"text",value:d.siteId,onChange:e=>h({...d,siteId:e.target.value}),placeholder:"Enter Site ID",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Name:"}),(0,pt.jsx)("input",{type:"text",value:d.name,onChange:e=>h({...d,name:e.target.value}),placeholder:"e.g., Madison Distillery",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Type:"}),(0,pt.jsx)("input",{type:"text",value:d.type,onChange:e=>h({...d,type:e.target.value}),placeholder:"e.g., DSP",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Address:"}),(0,pt.jsx)("input",{type:"text",value:d.address,onChange:e=>h({...d,address:e.target.value}),placeholder:"e.g., 212 Main St, Madison, AL",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",boxSizing:"border-box",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,pt.jsx)("button",{onClick:async()=>{if(d.siteId&&d.name){u(!0),o(null);try{const t=await fetch(`${Fu}/api/sites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({siteId:d.siteId,name:d.name,type:d.type||"DSP",address:d.address||"",enabled:1})});if(!t.ok){const e=await t.text();throw new Error(`Failed to create site: ${e}`)}const i=await t.json();a([...n,i]),h({siteId:"",name:"",type:"",address:""}),l("Site created successfully!"),setTimeout((()=>{l(null),null!==r&&void 0!==r&&r.fromReceive&&e("/receive",{state:{newSiteId:i.siteId}})}),1e3)}catch(t){o("Failed to create site: "+t.message)}finally{u(!1)}}else o("Site ID and name are required")},disabled:!d.siteId||!d.name||c,style:{backgroundColor:d.siteId&&d.name&&!c?"#2196F3":"#ccc",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:d.siteId&&d.name&&!c?"pointer":"not-allowed",fontSize:"16px"},onMouseOver:e=>{d.siteId&&d.name&&!c&&(e.currentTarget.style.backgroundColor="#1976D2")},onMouseOut:e=>{d.siteId&&d.name&&!c&&(e.currentTarget.style.backgroundColor="#2196F3")},children:c?"Creating...":"Create"}),(0,pt.jsx)("button",{onClick:()=>e(null!==r&&void 0!==r&&r.fromReceive?"/receive":"/"),style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#D32F2F",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F86752",children:"Cancel"})]})]}),(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Site ID"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Name"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Type"}),(0,pt.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f5f5f5",color:"#333"},children:"Address"})]})}),(0,pt.jsx)("tbody",{children:n.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"center"},children:e.siteId}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"center"},children:e.name}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"center"},children:e.type||"N/A"}),(0,pt.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",textAlign:"center"},children:e.address||"N/A"})]},e.siteId)))})]})]})};r(2157);var Ru=r(1650),ju=r.n(Ru),Nu=r(8463),Iu=r.n(Nu),Ou=r(9714),Du=r(4602);const Lu={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Mu=!1,zu=!1;const Bu=".react-konva-event";let Uu=!1;const Wu="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",Gu='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',$u={};function Hu(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$u;if(!Mu&&"zIndex"in t&&(console.warn(Gu),Mu=!0),!zu&&t.draggable){var n=void 0!==t.x||void 0!==t.y,a=t.onDragEnd||t.onDragMove;n&&!a&&(console.warn(Wu),zu=!0)}for(var i in r)if(!Lu[i]){var o="on"===i.slice(0,2),s=r[i]!==t[i];if(o&&s)"content"===(f=i.substr(2).toLowerCase()).substr(0,7)&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),e.off(f,r[i]);!t.hasOwnProperty(i)&&e.setAttr(i,void 0)}var l=Uu||t._useStrictMode,c={},u=!1;const d={};for(var i in t)if(!Lu[i]){o="on"===i.slice(0,2);var h=r[i]!==t[i];if(o&&h)"content"===(f=i.substr(2).toLowerCase()).substr(0,7)&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),t[i]&&(d[f]=t[i]);!o&&(t[i]!==r[i]||l&&t[i]!==e.getAttr(i))&&(u=!0,c[i]=t[i])}for(var f in u&&(e.setAttrs(c),Vu(e)),d)e.on(f+Bu,d[f])}function Vu(e){if(!Du.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var qu=r(8853);const Ku={},Yu={};function Xu(e,t){"string"!==typeof t?(e.add(t),Vu(e)):console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`)}function Qu(e,t,r){let n=ju()[e];n||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),n=ju().Group);const a={},i={};for(var o in t){"on"===o.slice(0,2)?i[o]=t[o]:a[o]=t[o]}const s=new n(a);return Hu(s,i),s}function Ju(e,t,r){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function Zu(e,t,r){return!1}function ed(e){return e}function td(){return null}function rd(){return null}function nd(e,t,r,n){return Yu}function ad(){}function id(e){}function od(e,t){return!1}function sd(){return Ku}function ld(){return Ku}ju().Node.prototype._applyProps=Hu;const cd=setTimeout,ud=clearTimeout,dd=-1;function hd(e,t){return!1}const fd=!1,pd=!0,gd=!0;function md(e,t){t.parent===e?t.moveToTop():e.add(t),Vu(e)}function vd(e,t){t.parent===e?t.moveToTop():e.add(t),Vu(e)}function bd(e,t,r){t._remove(),e.add(t),t.setZIndex(r.getZIndex()),Vu(e)}function xd(e,t,r){bd(e,t,r)}function yd(e,t){t.destroy(),t.off(Bu),Vu(e)}function wd(e,t){t.destroy(),t.off(Bu),Vu(e)}function Sd(e,t,r){console.error(`Text components are not yet supported in ReactKonva. You text is: "${r}"`)}function Cd(e,t,r){}function Td(e,t,r,n,a){Hu(e,a,n)}function kd(e){e.hide(),Vu(e)}function Ed(e){}function _d(e,t){(null==t.visible||t.visible)&&e.show()}function Ad(e,t){}function Fd(e){}function Pd(){}const Rd=()=>Ou.DefaultEventPriority;var jd,Nd,Id=Object.defineProperty,Od=Object.defineProperties,Dd=Object.getOwnPropertyDescriptors,Ld=Object.getOwnPropertySymbols,Md=Object.prototype.hasOwnProperty,zd=Object.prototype.propertyIsEnumerable,Bd=(e,t,r)=>t in e?Id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ud=(e,t)=>{for(var r in t||(t={}))Md.call(t,r)&&Bd(e,r,t[r]);if(Ld)for(var r of Ld(t))zd.call(t,r)&&Bd(e,r,t[r]);return e};"undefined"===typeof window||!(null==(jd=window.document)?void 0:jd.createElement)&&"ReactNative"!==(null==(Nd=window.navigator)?void 0:Nd.product)?t.useEffect:t.useLayoutEffect;function Wd(e,t,r){if(!e)return;if(!0===r(e))return e;let n=t?e.return:e.child;for(;n;){const e=Wd(n,t,r);if(e)return e;n=t?null:n.sibling}}function Gd(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const $d=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return $d.apply(this,arguments);console.error=$d};const Hd=Gd(t.createContext(null));class Vd extends t.Component{render(){return t.createElement(Hd.Provider,{value:this._reactInternals},this.props.children)}}function qd(){const e=t.useContext(Hd);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=t.useId();return t.useMemo((()=>{for(const t of[e,null==e?void 0:e.alternate]){if(!t)continue;const e=Wd(t,!1,(e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===r)return!0;t=t.next}}));if(e)return e}}),[e,r])}function Kd(){const e=function(){const e=qd(),[r]=t.useState((()=>new Map));r.clear();let n=e;for(;n;){if(n.type&&"object"===typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==Hd&&!r.has(e)&&r.set(e,t.useContext(Gd(e)))}n=n.return}return r}();return t.useMemo((()=>Array.from(e.keys()).reduce(((r,n)=>a=>{return t.createElement(r,null,t.createElement(n.Provider,(i=Ud({},a),o={value:e.get(n)},Od(i,Dd(o)))));var i,o}),(e=>t.createElement(Vd,Ud({},e))))),[e])}const Yd=e=>{const r=t.useRef(),n=t.useRef(),a=t.useRef(),i=function(e){const r=t.useRef({});return t.useLayoutEffect((()=>{r.current=e})),t.useLayoutEffect((()=>()=>{r.current={}}),[]),r.current}(e),o=Kd(),s=t=>{const{forwardedRef:r}=e;r&&("function"===typeof r?r(t):r.current=t)};return t.useLayoutEffect((()=>(n.current=new(ju().Stage)({width:e.width,height:e.height,container:r.current}),s(n.current),a.current=eh.createContainer(n.current,Ou.LegacyRoot,!1,null),eh.updateContainer(t.createElement(o,{},e.children),a.current),()=>{ju().isBrowser&&(s(null),eh.updateContainer(null,a.current,null),n.current.destroy())})),[]),t.useLayoutEffect((()=>{s(n.current),Hu(n.current,e,i),eh.updateContainer(t.createElement(o,{},e.children),a.current,null)})),t.createElement("div",{ref:r,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Xd="Layer",Qd="Rect",Jd="Circle",Zd="Text",eh=Iu()(e);eh.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:t.version,rendererPackageName:"react-konva"});const th=t.forwardRef(((e,r)=>t.createElement(Vd,{},t.createElement(Yd,{...e,forwardedRef:r})))),rh="https://tilly.onrender.com",nh=()=>{var e,r;ee();const[n,a]=(0,t.useState)("DSP-AL-20010"),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(null),[g,m]=(0,t.useState)(null),[v,b]=(0,t.useState)(null),[x,y]=(0,t.useState)(null),w=t.useRef(null);(0,t.useEffect)((()=>{fetch(`${rh}/api/sites`).then((e=>e.json())).then((e=>o(e))).catch((e=>b("Failed to load sites: "+e.message)))}),[]),(0,t.useEffect)((()=>{n?Promise.all([fetch(`${rh}/api/locations?siteId=${n}`).then((e=>e.json())),fetch(`${rh}/api/equipment?siteId=${n}`).then((e=>e.json())),fetch(`${rh}/api/facility-design?siteId=${n}`).then((e=>e.json()))]).then((e=>{let[t,r,a]=e;console.log(`Fetched data for siteId=${n}:`,{locationsData:t,equipmentData:r,designData:a}),l(t),u(r),h(null!==a&&void 0!==a&&a.objects&&Array.isArray(a.objects)?a.objects:[]),b((null===a||void 0===a?void 0:a.error)||null)})).catch((e=>b("Failed to load data: "+e.message))):(l([]),u([]),h([]))}),[n]);const S=e=>{if(!n)return void b("Please select a site first");const t={id:Date.now().toString(),type:e,shape:"Tank"===e?"circle":"rectangle",x:50,y:50,width:"Storage"===e?100:void 0,height:"Storage"===e?60:void 0,radius:"Tank"===e?30:void 0,name:"",abbreviation:""};console.log("Adding new object:",t),h([...d,t]),p(t.id),m(null)},C=(e,t,r)=>{console.log("Drag end:",{id:e,x:t,y:r}),h(d.map((n=>n.id===e?{...n,x:t,y:r}:n)))},T=(e,t)=>{console.log("Transform:",{id:e,newProps:t}),h(d.map((r=>r.id===e?{...r,...t}:r)))},k=e=>{if(console.log("Selected object:",e),p(e),w.current){const r=w.current.getStage(),n=null===r||void 0===r?void 0:r.findOne(`#${e}`);var t;if(n)w.current.nodes([n]),null===(t=w.current.getLayer())||void 0===t||t.batchDraw()}};return(0,pt.jsx)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:(0,pt.jsxs)("div",{className:"page-container",children:[(0,pt.jsx)("h2",{style:{color:"#333",marginBottom:"20px"},children:"Facility Designer"}),v&&(0,pt.jsx)("div",{style:{color:"red",marginBottom:"15px"},children:v}),x&&(0,pt.jsx)("div",{style:{color:"green",marginBottom:"15px"},children:x}),(0,pt.jsxs)("div",{style:{display:"flex"},children:[(0,pt.jsxs)("div",{style:{width:"250px",marginRight:"20px",backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Site:"}),(0,pt.jsxs)("select",{value:n,onChange:e=>a(e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Site"}),i.map((e=>(0,pt.jsx)("option",{value:e.siteId,children:e.name},e.siteId)))]})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("button",{onClick:()=>S("Tank"),style:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Add Tank"}),(0,pt.jsx)("button",{onClick:()=>S("Storage"),style:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Add Storage"}),(0,pt.jsx)("button",{onClick:()=>{var e;f&&(console.log("Deleting object:",f),h(d.filter((e=>e.id!==f))),p(null),w.current&&(w.current.nodes([]),null===(e=w.current.getLayer())||void 0===e||e.batchDraw()))},disabled:!f,style:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:f?"#F86752":"#ccc",color:"#fff",border:"none",borderRadius:"4px",cursor:f?"pointer":"not-allowed",fontSize:"16px"},onMouseOver:e=>{f&&(e.currentTarget.style.backgroundColor="#D32F2F")},onMouseOut:e=>{f&&(e.currentTarget.style.backgroundColor="#F86752")},children:"Delete Selected"})]}),f&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"10px"},children:"Assign Location"}),(0,pt.jsxs)("select",{value:(null===(e=d.find((e=>e.id===f)))||void 0===e?void 0:e.locationId)||"",onChange:e=>(e=>{if(f){const t=s.find((t=>t.locationId===e));if(!t)return void b("Selected location not found");console.log("Assigning location:",{selectedObjectId:f,locationId:e,name:t.name}),h(d.map((r=>r.id===f?{...r,locationId:e,equipmentId:void 0,name:t.name,abbreviation:t.abbreviation||t.name.slice(0,3).toUpperCase()}:r)))}})(Number(e.target.value)),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px",marginBottom:"15px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Location"}),s.map((e=>(0,pt.jsx)("option",{value:e.locationId,children:e.name},e.locationId)))]}),(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"10px"},children:"Assign Equipment"}),(0,pt.jsxs)("select",{value:(null===(r=d.find((e=>e.id===f)))||void 0===r?void 0:r.equipmentId)||"",onChange:e=>(e=>{if(f){const t=c.find((t=>t.equipmentId===e));if(!t)return void b("Selected equipment not found");console.log("Assigning equipment:",{selectedObjectId:f,equipmentId:e,name:t.name}),h(d.map((r=>r.id===f?{...r,equipmentId:e,locationId:void 0,name:t.name,abbreviation:t.abbreviation||t.name.slice(0,3).toUpperCase()}:r)))}})(Number(e.target.value)),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Equipment"}),c.map((e=>(0,pt.jsx)("option",{value:e.equipmentId,children:e.name},e.equipmentId)))]})]}),(0,pt.jsx)("button",{onClick:async()=>{if(!n)return void b("Please select a site to save the design");if(d.some((e=>!e.locationId&&!e.equipmentId)))return void b("All objects must have an assigned Location or Equipment");if(d.some((e=>!e.name||!e.abbreviation)))return void b("All objects must have a name and abbreviation");const e={siteId:n,objects:d};console.log("Saving design:",e);try{const t=await fetch(`${rh}/api/facility-design`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw new Error(`Failed to save design: ${e}`)}const r=await t.json();console.log("Save response:",r),y(r.message||"Design saved successfully"),setTimeout((()=>y(null)),2e3),b(null)}catch(t){console.error("Save design error:",t),b("Failed to save design: "+t.message)}},style:{width:"100%",padding:"10px",marginTop:"20px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Save Design"})]}),(0,pt.jsx)("div",{style:{flex:1,backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:(0,pt.jsx)(th,{width:800,height:600,children:(0,pt.jsxs)(Xd,{children:[d.map((e=>(0,pt.jsx)(t.Fragment,{children:"circle"===e.shape?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Jd,{id:e.id,x:e.x,y:e.y,radius:e.radius,fill:"#90CAF9",stroke:"black",draggable:!0,onDragEnd:t=>C(e.id,t.target.x(),t.target.y()),onClick:()=>k(e.id),onTransform:t=>{const r=t.target;T(e.id,{radius:r.radius()})}}),(0,pt.jsx)(Zd,{x:e.x-(e.radius||30)/2,y:e.y-(e.radius||30)/2,width:e.radius||30,height:e.radius||30,text:e.abbreviation,fontSize:12,fontFamily:"Arial",fill:"black",align:"center",verticalAlign:"middle",listening:!1})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Qd,{id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,fill:"#A5D6A7",stroke:"black",draggable:!0,onDragEnd:t=>C(e.id,t.target.x(),t.target.y()),onClick:()=>k(e.id),onTransform:t=>{const r=t.target;T(e.id,{width:r.width()*r.scaleX(),height:r.height()*r.scaleY()}),r.scaleX(1),r.scaleY(1)}}),(0,pt.jsx)(Zd,{x:e.x,y:e.y+(e.height||60)/2-6,width:e.width||100,height:12,text:e.abbreviation,fontSize:12,fontFamily:"Arial",fill:"black",align:"center",verticalAlign:"middle",listening:!1})]})},e.id))),(0,pt.jsx)("Transformer",{ref:w,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:(e,t)=>t.width<20||t.height<20?e:t})]})})})]})]})})},ah="https://tilly.onrender.com",ih=e=>{var r,n;let{siteId:a}=e;const[i,o]=(0,t.useState)(a),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[g,m]=(0,t.useState)([]),[v,b]=(0,t.useState)(null),[x,y]=(0,t.useState)(null),[w,S]=(0,t.useState)(null),[C,T]=(0,t.useState)(null),[k,E]=(0,t.useState)(0);(0,t.useEffect)((()=>{(async()=>{try{const[e,t,r,n]=await Promise.all([fetch(`${ah}/api/sites`).then((e=>e.json())),i?fetch(`${ah}/api/locations?siteId=${i}`).then((e=>e.json())):Promise.resolve([]),i?fetch(`${ah}/api/equipment?siteId=${i}`).then((e=>e.json())):Promise.resolve([]),i?fetch(`${ah}/api/facility-design?siteId=${i}`).then((e=>e.json())):Promise.resolve({objects:[]})]);console.log("FacilityView fetched data:",{sitesData:e,locationsData:t,equipmentData:r,designData:n}),l(e),u(t),h(r),p(null!==n&&void 0!==n&&n.objects&&Array.isArray(n.objects)?n.objects:[]),T((null===n||void 0===n?void 0:n.error)||(null!==n&&void 0!==n&&n.objects&&!Array.isArray(n.objects)?"Invalid design data":null))}catch(e){console.error("Fetch error:",e),T("Failed to load facility design: "+e.message)}})()}),[i,k]),(0,t.useEffect)((()=>{v?fetch(`${ah}/api/inventory?locationId=${v}&siteId=${encodeURIComponent(i)}`).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).then((e=>{console.log("Inventory data for locationId:",v,"siteId:",i,e),m(e)})).catch((e=>T("Failed to load inventory: "+(e instanceof Error?e.message:"Unknown error")))):m([])}),[v,i]);const _=e=>{b(e.locationId||null),y(e.equipmentId||null),S(e)};return(0,pt.jsxs)("div",{className:"page-container",children:[(0,pt.jsx)("h2",{children:"Facility View"}),C&&(0,pt.jsx)("div",{style:{color:"red",marginBottom:"15px"},children:C}),(0,pt.jsxs)("div",{style:{display:"flex"},children:[(0,pt.jsxs)("div",{style:{width:"250px",marginRight:"20px",backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Site:"}),(0,pt.jsxs)("select",{value:i,onChange:e=>o(e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Site"}),s.map((e=>(0,pt.jsx)("option",{value:e.siteId,children:e.name},e.siteId)))]})]}),(v||x)&&w&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"10px"},children:v?`Location: ${(null===(r=c.find((e=>e.locationId===v)))||void 0===r?void 0:r.name)||"Unknown"}`:`Equipment: ${(null===(n=d.find((e=>e.equipmentId===x)))||void 0===n?void 0:n.name)||"Unknown"}`}),v&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("h4",{style:{color:"#555",marginBottom:"10px"},children:"Inventory"}),0===g.length?(0,pt.jsx)("p",{style:{color:"#777"},children:"No inventory items found"}):(0,pt.jsx)("ul",{style:{listStyle:"none",padding:0},children:g.map((e=>(0,pt.jsxs)("li",{style:{padding:"10px",borderBottom:"1px solid #eee",color:"#333"},children:[e.identifier||e.description||e.type||"Unknown Item",": ",e.quantity," ",e.unit]},e.identifier||`${e.type}-${e.quantity}`)))})]}),x&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("h4",{style:{color:"#555",marginBottom:"10px"},children:"Batches"}),null!==w&&void 0!==w&&w.batches&&w.batches.length>0?(0,pt.jsx)("ul",{style:{listStyle:"none",padding:0},children:Array.from(new Map(w.batches.map((e=>[e.batchId,e]))).values()).map((e=>(0,pt.jsxs)("li",{style:{padding:"10px",borderBottom:"1px solid #eee",color:"#333"},children:["Batch ",e.batchId," - Status: ",e.status,", Date: ",e.date]},e.batchId)))}):(0,pt.jsx)("p",{style:{color:"#777"},children:"No batches assigned"})]})]})]}),(0,pt.jsx)("div",{style:{flex:1,backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:(0,pt.jsx)(th,{width:800,height:600,children:(0,pt.jsxs)(Xd,{children:[0===f.length&&(0,pt.jsx)(Zd,{x:400,y:300,width:200,text:"No design objects found",fontSize:16,fontFamily:"Arial",fill:"gray",align:"center"}),f.map((e=>(console.log("Rendering object:",{id:e.id,abbreviation:e.abbreviation,locationId:e.locationId,equipmentId:e.equipmentId}),(0,pt.jsx)(t.Fragment,{children:"circle"===e.shape?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Jd,{x:e.x,y:e.y,radius:e.radius,fill:"#90CAF9",stroke:"black",onClick:()=>_(e)}),(0,pt.jsx)(Zd,{x:e.x-(e.radius||30)/2,y:e.y-(e.radius||30)/2,width:e.radius||30,height:e.radius||30,text:e.abbreviation,fontSize:12,fontFamily:"Arial",fill:"black",align:"center",verticalAlign:"middle",listening:!1}),e.batches&&e.batches.length>0&&(0,pt.jsx)(Zd,{x:e.x-(e.radius||30)/2,y:e.y+(e.radius||30)+10,width:e.radius||30,text:Array.from(new Map(e.batches.map((e=>[e.batchId,e]))).values()).map((e=>e.batchId)).join(", "),fontSize:10,fontFamily:"Arial",fill:"black",align:"center",listening:!1})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Qd,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"#A5D6A7",stroke:"black",onClick:()=>_(e)}),(0,pt.jsx)(Zd,{x:e.x,y:e.y+(e.height||60)/2-6,width:e.width||100,height:12,text:e.abbreviation,fontSize:12,fontFamily:"Arial",fill:"black",align:"center",verticalAlign:"middle",listening:!1}),e.batches&&e.batches.length>0&&(0,pt.jsx)(Zd,{x:e.x,y:e.y+(e.height||60)+10,width:e.width||100,text:Array.from(new Map(e.batches.map((e=>[e.batchId,e]))).values()).map((e=>e.batchId)).join(", "),fontSize:10,fontFamily:"Arial",fill:"black",align:"center",listening:!1})]})},e.id))))]})})})]})]})},oh="https://tilly.onrender.com",sh=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(""),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[g,m]=(0,t.useState)(null),[v,b]=(0,t.useState)(""),[x,y]=(0,t.useState)(""),[w,S]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const[e,t]=await Promise.all([fetch(`${oh}/api/sites`).then((e=>e.json())),n?fetch(`${oh}/api/equipment?siteId=${n}`).then((e=>e.json())):Promise.resolve([])]);r(e),o(t)}catch(e){h("Failed to load data: "+(e instanceof Error?e.message:"Unknown error"))}})()}),[n]);const C=()=>{m(null),b(""),y(""),S("")};return(0,pt.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",maxWidth:"1200px",margin:"0 auto"},children:[(0,pt.jsx)("h2",{style:{color:"#333",marginBottom:"20px",textAlign:"center"},children:"Manage Equipment"}),d&&(0,pt.jsx)("div",{style:{color:"red",marginBottom:"15px",textAlign:"center"},children:d}),f&&(0,pt.jsx)("div",{style:{color:"green",marginBottom:"15px",textAlign:"center"},children:f}),(0,pt.jsxs)("div",{style:{display:"flex"},children:[(0,pt.jsx)("div",{style:{width:"400px",marginRight:"20px",backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:(0,pt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n&&s&&c?fetch(`${oh}/api/equipment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,abbreviation:c,siteId:n,enabled:1})}).then((e=>e.json())).then((e=>{p(e.message),l(""),u(""),o([...i,{equipmentId:e.equipmentId,name:s,abbreviation:c,siteId:n,enabled:1}]),setTimeout((()=>p(null)),2e3)})).catch((e=>h("Failed to add equipment: "+(e instanceof Error?e.message:"Unknown error")))):h("Site, equipment name, and abbreviation are required")},children:[(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Site:"}),(0,pt.jsxs)("select",{value:n,onChange:e=>a(e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Site"}),e.map((e=>(0,pt.jsx)("option",{value:e.siteId,children:e.name},e.siteId)))]})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Equipment Name:"}),(0,pt.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"e.g., Fermenter 1",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),(0,pt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,pt.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#555"},children:"Abbreviation:"}),(0,pt.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"e.g., FRM1",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),(0,pt.jsx)("button",{type:"submit",style:{width:"100%",padding:"10px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Add Equipment"})]})}),(0,pt.jsxs)("div",{style:{flex:1,backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"10px"},children:"Equipment List"}),0===i.length?(0,pt.jsx)("p",{style:{color:"#777"},children:"No equipment found for this site"}):(0,pt.jsx)("ul",{style:{listStyle:"none",padding:0},children:i.map((t=>(0,pt.jsx)("li",{style:{padding:"10px",borderBottom:"1px solid #eee",color:"#333"},children:g===t.equipmentId?(0,pt.jsxs)("form",{onSubmit:e=>((e,t)=>{e.preventDefault(),v&&x&&w?fetch(`${oh}/api/equipment/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,abbreviation:x,siteId:w,enabled:1})}).then((e=>e.json())).then((e=>{p(e.message),o(i.map((e=>e.equipmentId===t?{...e,name:v,abbreviation:x,siteId:w}:e))),m(null),b(""),y(""),S(""),setTimeout((()=>p(null)),2e3)})).catch((e=>h("Failed to update equipment: "+(e instanceof Error?e.message:"Unknown error")))):h("Name, abbreviation, and site are required")})(e,t.equipmentId),children:[(0,pt.jsx)("div",{style:{marginBottom:"10px"},children:(0,pt.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),placeholder:"Equipment Name",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})}),(0,pt.jsx)("div",{style:{marginBottom:"10px"},children:(0,pt.jsx)("input",{type:"text",value:x,onChange:e=>y(e.target.value),placeholder:"Abbreviation",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})}),(0,pt.jsx)("div",{style:{marginBottom:"10px"},children:(0,pt.jsxs)("select",{value:w,onChange:e=>S(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Site"}),e.map((e=>(0,pt.jsx)("option",{value:e.siteId,children:e.name},e.siteId)))]})}),(0,pt.jsx)("button",{type:"submit",style:{padding:"8px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Save"}),(0,pt.jsx)("button",{type:"button",onClick:C,style:{padding:"8px",backgroundColor:"#f44336",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]}):(0,pt.jsxs)("div",{style:{cursor:"pointer"},onClick:()=>(e=>{m(e.equipmentId),b(e.name),y(e.abbreviation||""),S(e.siteId)})(t),children:[t.name," (",t.abbreviation,") - ",t.siteId]})},t.equipmentId)))})]})]})]})},lh=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(null),s=ee();return(0,pt.jsxs)("div",{className:"page-container",style:{maxWidth:"400px",margin:"0 auto",paddingTop:"100px"},children:[(0,pt.jsx)("h2",{style:{color:"#EEC930",textAlign:"center",marginBottom:"20px"},children:"Login"}),i&&(0,pt.jsx)("div",{className:"error",children:i}),(0,pt.jsxs)("div",{style:{display:"grid",gap:"15px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Email:"}),(0,pt.jsx)("input",{type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"Enter email",style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Password:"}),(0,pt.jsx)("input",{type:"password",value:n,onChange:e=>a(e.target.value),placeholder:"Enter password",style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]}),(0,pt.jsx)("button",{onClick:async()=>{try{const t=await fetch("https://tilly.onrender.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Login failed")}const r=await t.json();localStorage.setItem("user",JSON.stringify(r)),s("/",{replace:!0})}catch(t){o(t.message)}},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1976D2",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2196F3",children:"Login"}),(0,pt.jsx)("div",{style:{textAlign:"center"},children:(0,pt.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),console.log("Forgot Password clicked for email:",e),o("Password reset not implemented yet. Contact admin or use superadmin@example.com with password: temp123")},style:{color:"#0066CC",textDecoration:"underline",fontSize:"14px"},onMouseOver:e=>e.currentTarget.style.color="#F86752",onMouseOut:e=>e.currentTarget.style.color="#0066CC",children:"Forgot Password?"})})]})]})},ch=e=>{var r,n,a;let{inventory:i,refreshInventory:o}=e;const{batchId:s}=te(),l=ee(),c="https://tilly.onrender.com",[u,d]=(0,t.useState)({}),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[m,v]=(0,t.useState)([]),[b,x]=(0,t.useState)([]),[y,w]=(0,t.useState)([]),[S,C]=(0,t.useState)([]),[T,k]=(0,t.useState)(""),[E,_]=(0,t.useState)("Mashing"),[A,F]=(0,t.useState)(null),[P,R]=(0,t.useState)([{itemName:"",quantity:0,unit:"lbs"}]),[j,N]=(0,t.useState)(""),[I,O]=(0,t.useState)(null),[D,L]=(0,t.useState)(null),[M,z]=(0,t.useState)(""),[B,U]=(0,t.useState)(0),[W,G]=(0,t.useState)(""),[$,H]=(0,t.useState)(null),[V,q]=(0,t.useState)(null),[K,Y]=(0,t.useState)(new Set),[X,Q]=(0,t.useState)({itemName:"",quantity:0,unit:"lbs"}),[J,Z]=(0,t.useState)([]),[re,ne]=(0,t.useState)(null),ae={"1/2 BBL Keg":.5,"1/6 BBL Keg":.167,"750ml Bottle":.006},ie=async e=>{},oe=async e=>{},se=h.find((e=>e.id===u.productId)),le=p.find((e=>e.siteId===u.siteId)),ce=y.find((e=>e.equipmentId===u.equipmentId));return(0,t.useEffect)((()=>{(async()=>{try{const e=[{url:`${c}/api/batches/${s}`,setter:d,name:"batch",single:!0},{url:`${c}/api/products`,setter:f,name:"products"},{url:`${c}/api/sites`,setter:g,name:"sites"},{url:`${c}/api/items`,setter:v,name:"items"},{url:`${c}/api/batches/${s}/actions`,setter:x,name:"actions"},{url:`${c}/api/batches/${s}/package`,setter:Z,name:"packaging"}].filter((e=>null!==e.url));console.log("Fetching endpoints:",e.map((e=>e.url)));const t=await Promise.all(e.map((e=>{let{url:t}=e;return fetch(t,{headers:{Accept:"application/json"}})})));for(let r=0;r<t.length;r++){const n=t[r],{name:a,setter:i,single:o}=e[r];if(console.log(`Response for ${a}:`,{url:e[r].url,status:n.status,ok:n.ok}),!n.ok){const e=await n.text();throw console.error(`Failed to fetch ${a}: HTTP ${n.status}, Response:`,e.slice(0,100)),new Error(`Failed to fetch ${a}: HTTP ${n.status}, Response: ${e.slice(0,50)}`)}const s=n.headers.get("content-type");if(!s||!s.includes("application/json")){const e=await n.text();throw console.error(`Invalid content-type for ${a}:`,s,"Response:",e.slice(0,100)),new Error(`Invalid response for ${a}: Expected JSON, got ${s}`)}const l=await n.json();i(l)}u&&(F(u.equipmentId||null),_(u.stage||"Mashing"),R(u.additionalIngredients||[{itemName:"",quantity:0,unit:"lbs"}]))}catch(e){const t=e instanceof Error?e.message:"Unknown error";console.error("Fetch error:",e),O("Failed to load batch details: "+t)}})()}),[s]),(0,t.useEffect)((()=>{if(null===u||void 0===u||!u.siteId)return;(async()=>{try{const e=[{url:`${c}/api/equipment?siteId=${u.siteId}`,setter:w,name:"equipment"},{url:`${c}/api/locations?siteId=${u.siteId}`,setter:C,name:"locations"}];console.log("Fetching site endpoints:",e.map((e=>e.url)));const t=await Promise.all(e.map((e=>{let{url:t}=e;return fetch(t,{headers:{Accept:"application/json"}})})));for(let r=0;r<t.length;r++){const n=t[r],{name:a,setter:i}=e[r];if(console.log(`Response for ${a}:`,{url:e[r].url,status:n.status,ok:n.ok}),!n.ok){const e=await n.text();throw console.error(`Failed to fetch ${a}: HTTP ${n.status}, Response:`,e.slice(0,100)),new Error(`Failed to fetch ${a}: HTTP ${n.status}, Response: ${e.slice(0,50)}`)}const o=n.headers.get("content-type");if(!o||!o.includes("application/json")){const e=await n.text();throw console.error(`Invalid content-type for ${a}:`,o,"Response:",e.slice(0,100)),new Error(`Invalid response for ${a}: Expected JSON, got ${o}`)}i(await n.json())}}catch(e){const t=e instanceof Error?e.message:"Unknown error";console.error("Fetch site data error:",e),O("Failed to load site data: "+t)}})()}),[null===u||void 0===u?void 0:u.siteId]),(0,pt.jsxs)("div",{className:"page-container",children:[(0,pt.jsxs)("h2",{children:["Batch Details: ",u.batchId]}),I&&(0,pt.jsx)("div",{className:"error",children:I}),D&&(0,pt.jsx)("div",{style:{color:"#28A745",backgroundColor:"#e6ffe6",padding:"10px",borderRadius:"4px",marginBottom:"10px",textAlign:"center"},children:D}),(0,pt.jsx)("h3",{children:"Batch Management"}),(0,pt.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"20px",flexWrap:"wrap"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("input",{type:"text",value:T,onChange:e=>k(e.target.value),placeholder:"New Batch ID",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"200px",marginRight:"10px"}}),(0,pt.jsx)("button",{onClick:async()=>{},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Edit Batch Name"})]}),(0,pt.jsx)("button",{onClick:async()=>{},disabled:"Completed"===u.status,style:{backgroundColor:"Completed"===u.status?"#ccc":"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"Completed"===u.status?"not-allowed":"pointer"},children:"Complete Batch"}),(0,pt.jsx)("button",{onClick:async()=>{},disabled:"Completed"!==u.status,style:{backgroundColor:"Completed"!==u.status?"#ccc":"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"Completed"!==u.status?"not-allowed":"pointer"},children:"Un-Complete Batch"}),(0,pt.jsx)("button",{onClick:async()=>{},disabled:"Completed"===u.status,style:{backgroundColor:"Completed"===u.status?"#ccc":"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"Completed"===u.status?"not-allowed":"pointer"},children:"Delete Batch"}),(0,pt.jsx)("button",{onClick:()=>l(`/production/${s}/brewlog`),style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add Brew Day Log"}),(0,pt.jsx)("button",{onClick:()=>{},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Print Batch Sheet"})]}),(0,pt.jsxs)("div",{style:{marginTop:"20px"},children:[(0,pt.jsx)("h3",{children:"Progress Batch"}),(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"300px"},children:[(0,pt.jsxs)("select",{value:E,onChange:e=>_(e.target.value),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"},children:[(0,pt.jsx)("option",{value:"Mashing",children:"Mashing"}),(0,pt.jsx)("option",{value:"Boiling",children:"Boiling"}),(0,pt.jsx)("option",{value:"Fermenting",children:"Fermenting"}),(0,pt.jsx)("option",{value:"Bright Tank",children:"Bright Tank"}),(0,pt.jsx)("option",{value:"Packaging",children:"Packaging"}),(0,pt.jsx)("option",{value:"Completed",children:"Completed"})]}),(0,pt.jsxs)("select",{value:A||"",onChange:e=>F(parseInt(e.target.value)||null),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"},disabled:"Completed"===E||"Packaging"===E,children:[(0,pt.jsx)("option",{value:"",children:"Select Equipment"}),y.map((e=>(0,pt.jsx)("option",{value:e.equipmentId,children:e.name},e.equipmentId)))]}),"Boiling"===E&&(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,pt.jsx)("h4",{style:{margin:"0",fontSize:"16px"},children:"Add Ingredients (Optional)"}),(0,pt.jsxs)("select",{value:(null===(r=P[0])||void 0===r?void 0:r.itemName)||"",onChange:e=>R([{...P[0],itemName:e.target.value}]),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"},children:[(0,pt.jsx)("option",{value:"",children:"Select Item"}),m.filter((e=>e.enabled)).map((e=>(0,pt.jsx)("option",{value:e.name,children:e.name},e.name)))]}),(0,pt.jsx)("input",{type:"number",value:(null===(n=P[0])||void 0===n?void 0:n.quantity)||"",onChange:e=>R([{...P[0],quantity:parseFloat(e.target.value)||0}]),placeholder:"Quantity",step:"0.01",min:"0",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"}}),(0,pt.jsxs)("select",{value:(null===(a=P[0])||void 0===a?void 0:a.unit)||"lbs",onChange:e=>R([{...P[0],unit:e.target.value}]),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"},children:[(0,pt.jsx)("option",{value:"lbs",children:"lbs"}),(0,pt.jsx)("option",{value:"kg",children:"kg"}),(0,pt.jsx)("option",{value:"oz",children:"oz"}),(0,pt.jsx)("option",{value:"gal",children:"gal"}),(0,pt.jsx)("option",{value:"l",children:"l"})]})]}),"Packaging"===E&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,pt.jsx)("h4",{style:{margin:"0",fontSize:"16px"},children:"Package Batch"}),(0,pt.jsxs)("select",{value:M,onChange:e=>z(e.target.value),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"},children:[(0,pt.jsx)("option",{value:"",children:"Select Package Type"}),(0,pt.jsx)("option",{value:"1/2 BBL Keg",children:"1/2 BBL Keg (15.5 gal)"}),(0,pt.jsx)("option",{value:"1/6 BBL Keg",children:"1/6 BBL Keg (5.16 gal)"}),(0,pt.jsx)("option",{value:"750ml Bottle",children:"750ml Bottle"})]}),(0,pt.jsx)("input",{type:"number",value:B||"",onChange:e=>U(parseInt(e.target.value)||0),placeholder:"Quantity",min:"1",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"}}),(0,pt.jsxs)("select",{value:W,onChange:e=>G(e.target.value),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100%"},children:[(0,pt.jsx)("option",{value:"",children:"Select Location"}),S.map((e=>(0,pt.jsx)("option",{value:e.locationId,children:e.name},e.locationId)))]}),(0,pt.jsx)("button",{onClick:async()=>{},disabled:!M||B<=0||!W,style:{backgroundColor:!M||B<=0||!W?"#ccc":"#28A745",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:!M||B<=0||!W?"not-allowed":"pointer",fontSize:"16px",width:"100%"},children:"Package"})]}),(0,pt.jsxs)("div",{style:{marginTop:"20px"},children:[(0,pt.jsx)("h4",{style:{margin:"0",fontSize:"16px"},children:"Packaging Actions"}),0===J.length?(0,pt.jsx)("p",{children:"No packaging actions recorded."}):(0,pt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"#fff",borderRadius:"8px",marginTop:"10px"},children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Package Type"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Quantity"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Volume (Barrels)"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Date"}),(0,pt.jsx)("th",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",color:"#555"},children:"Actions"})]})}),(0,pt.jsx)("tbody",{children:J.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{style:{padding:"10px"},children:e.packageType}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.quantity}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.volume.toFixed(3)}),(0,pt.jsx)("td",{style:{padding:"10px"},children:e.date}),(0,pt.jsx)("td",{style:{padding:"10px"},children:(0,pt.jsx)("button",{onClick:()=>ne(e),style:{backgroundColor:"#2196F3",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Edit"})})]},e.id)))})]})]})]}),(0,pt.jsxs)("button",{onClick:async()=>{},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",width:"100%"},children:["Progress to ",E]})]})]}),(0,pt.jsxs)("div",{className:"batch-details",children:[(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Product:"})," ",(null===se||void 0===se?void 0:se.name)||"Unknown"]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Recipe:"})," ",u.recipeName||"Unknown"]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Site:"})," ",(null===le||void 0===le?void 0:le.name)||u.siteId]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Status:"})," ",u.status]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Current Equipment:"})," ",(null===ce||void 0===ce?void 0:ce.name)||(null!==u&&void 0!==u&&u.equipmentId?`Equipment ID: ${u.equipmentId}`:"None")]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Stage:"})," ",u.stage||"Mashing"]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Volume:"})," ",u.volume?`${u.volume.toFixed(2)} barrels`:"N/A"]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Date:"})," ",u.date]})]}),(0,pt.jsx)("h3",{children:"Ingredients"}),(0,pt.jsxs)("div",{className:"batch-details",children:[u&&u.ingredients&&u.ingredients.length>0?(0,pt.jsxs)("table",{className:"inventory-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Item"}),(0,pt.jsx)("th",{children:"Quantity"}),(0,pt.jsx)("th",{children:"Unit"}),(0,pt.jsx)("th",{children:"Source"}),(0,pt.jsx)("th",{children:"Action"})]})}),(0,pt.jsx)("tbody",{children:u.ingredients.map(((e,t)=>{const r=`${e.itemName}-${e.quantity}-${e.unit||"lbs"}`;return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.itemName}),(0,pt.jsx)("td",{children:e.quantity}),(0,pt.jsx)("td",{children:e.unit||"lbs"}),(0,pt.jsx)("td",{children:e.isRecipe?"Recipe":"Added"}),(0,pt.jsx)("td",{children:(0,pt.jsx)("button",{onClick:()=>(async()=>{})(),disabled:K.has(r),style:{backgroundColor:"#F86752",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:K.has(r)?"not-allowed":"pointer",opacity:K.has(r)?.6:1},children:"Remove"})})]},t)}))})]}):(0,pt.jsx)("p",{children:"No ingredients"}),(0,pt.jsxs)("div",{style:{marginTop:"20px"},children:[(0,pt.jsx)("h4",{children:"Add Ingredient"}),(0,pt.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[(0,pt.jsxs)("select",{value:X.itemName,onChange:e=>Q({...X,itemName:e.target.value}),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",flex:"1",minWidth:"150px"},children:[(0,pt.jsx)("option",{value:"",children:"Select Item"}),m.filter((e=>e.enabled)).map((e=>(0,pt.jsx)("option",{value:e.name,children:e.name},e.name)))]}),(0,pt.jsx)("input",{type:"number",value:X.quantity||"",onChange:e=>Q({...X,quantity:parseFloat(e.target.value)||0}),placeholder:"Quantity",step:"0.01",min:"0",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"100px"}}),(0,pt.jsxs)("select",{value:X.unit,onChange:e=>Q({...X,unit:e.target.value}),style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",flex:"1",minWidth:"100px"},children:[(0,pt.jsx)("option",{value:"lbs",children:"lbs"}),(0,pt.jsx)("option",{value:"kg",children:"kg"}),(0,pt.jsx)("option",{value:"oz",children:"oz"}),(0,pt.jsx)("option",{value:"gal",children:"gal"}),(0,pt.jsx)("option",{value:"l",children:"l"})]}),(0,pt.jsx)("button",{onClick:async()=>{},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Add"})]})]})]}),(0,pt.jsx)("h3",{children:"Actions"}),(0,pt.jsxs)("div",{style:{marginBottom:"20px"},children:[b.length>0?(0,pt.jsx)("ul",{children:b.map((e=>(0,pt.jsxs)("li",{children:[e.action," - ",new Date(e.timestamp).toLocaleString()]},e.id)))}):(0,pt.jsx)("p",{children:"No actions recorded"}),(0,pt.jsxs)("div",{style:{marginTop:"20px"},children:[(0,pt.jsx)("h4",{children:"Add New Action"}),(0,pt.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Enter action (e.g., Added hops)",style:{padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",width:"300px",marginRight:"10px"}}),(0,pt.jsx)("button",{onClick:async()=>{},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Add Action"})]})]}),re&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2100},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",textAlign:"center",color:"#555"},children:[(0,pt.jsx)("h3",{style:{color:"#555",marginBottom:"20px"},children:"Edit Packaging Action"}),(0,pt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Package Type:"}),(0,pt.jsx)("input",{type:"text",value:re.packageType,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#F5F5F5"}})]}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)("label",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"5px"},children:"Quantity:"}),(0,pt.jsx)("input",{type:"number",value:re.quantity,onChange:e=>ne({...re,quantity:parseInt(e.target.value)||0}),min:"0",style:{width:"100%",padding:"10px",border:"1px solid #CCCCCC",borderRadius:"4px",fontSize:"16px",boxSizing:"border-box",color:"#000000",backgroundColor:"#FFFFFF"}})]})]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,pt.jsx)("button",{onClick:async()=>{try{const e=await fetch(`${c}/api/batches/${s}/package/${re.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({quantity:re.quantity})});if(!e.ok){const t=await e.text();throw new Error(`Failed to update packaging: HTTP ${e.status}, Response: ${t.slice(0,50)}`)}const t=await e.json();console.log("Edit packaging success:",t),Z((e=>e.map((e=>e.id===re.id?{...e,quantity:re.quantity,volume:re.quantity*(ae[e.packageType]||0)}:e)))),d((e=>({...e,volume:t.newBatchVolume}))),ne(null),L("Packaging action updated successfully"),setTimeout((()=>L(null)),2e3),O(null),await o()}catch(e){const t=e instanceof Error?e.message:"Unknown error";console.error("Edit packaging error:",e),O("Failed to update packaging: "+t)}},style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Save"}),(0,pt.jsx)("button",{onClick:()=>ne(null),style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Cancel"})]})]})}),$&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2100},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",textAlign:"center",color:"#555"},children:[(0,pt.jsx)("h3",{style:{color:"#F86752",marginBottom:"10px"},children:"Volume Adjustment Required"}),(0,pt.jsx)("p",{style:{marginBottom:"20px"},children:$.message}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,pt.jsx)("button",{onClick:()=>ie(),style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Yes"}),(0,pt.jsx)("button",{onClick:()=>ie(),style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"No"})]})]})}),V&&(0,pt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2100},children:(0,pt.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",textAlign:"center",color:"#555"},children:[(0,pt.jsx)("h3",{style:{color:"#F86752",marginBottom:"10px"},children:"Unpackaged Volume Detected"}),(0,pt.jsxs)("p",{style:{marginBottom:"20px"},children:[V.volume.toFixed(3)," barrels remain unpackaged. Do you want to report a ",V.volume.toFixed(3)," barrel loss?"]}),(0,pt.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,pt.jsx)("button",{onClick:()=>oe(),style:{backgroundColor:"#2196F3",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Yes"}),(0,pt.jsx)("button",{onClick:()=>oe(),style:{backgroundColor:"#F86752",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"No"})]})]})})]})},uh=()=>(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Production"}),(0,pt.jsx)("p",{children:"Production page coming soon"})]}),dh=()=>{const[e,r]=(0,t.useState)("Home"),[n,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)([]),[g,m]=(0,t.useState)([]),v=Q(),b=ee(),[x,y]=(0,t.useState)(JSON.parse(localStorage.getItem("user")||"null")),w=!(null===x||void 0===x||!x.email),S=x&&[ct.SuperAdmin,ct.Admin].includes(x.role);(0,t.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("user")||"null");e!==x&&y(e)}),[v.pathname]);const C=async()=>{try{const e=await(async()=>{const e=await fetch(`${xt}/api/inventory`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})();console.log("refreshInventory: Fetched inventory",{count:e.length,items:e.map((e=>({identifier:e.identifier,type:e.type,quantity:e.quantity})))}),p(e),console.log("refreshInventory: Inventory state updated",{count:e.length})}catch($d){console.error("refreshInventory error:",$d)}},T=async()=>{try{const e=await fetch("https://tilly.onrender.com/api/vendors");if(!e.ok)throw new Error("Failed to fetch vendors");const t=await e.json();m(t),console.log("refreshVendors: Fetched vendors",{count:t.length})}catch(e){console.error("Fetch vendors error:",e)}};(0,t.useEffect)((()=>{(async()=>{await Promise.all([C(),T()]),setTimeout((()=>h(!1)),4e3)})()}),[]);const k=()=>{o(!1),l(!1),u(!1),r("Home"),b("/")};return w?d?(0,pt.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f5f5f5"},children:[(0,pt.jsx)("img",{src:"/tilly-logo.png",alt:"Tilly Logo",style:{maxWidth:"80%",maxHeight:"60vh"}}),(0,pt.jsx)("h1",{style:{fontFamily:"Arial, sans-serif",color:"#333"},children:"Tilly"}),(0,pt.jsx)("p",{style:{fontFamily:"Arial, sans-serif",color:"#666"},children:"Powered by Paws & Pours"})]}):(0,pt.jsxs)("div",{className:"App",children:[(0,pt.jsx)("button",{className:"hamburger",onClick:()=>a(!n),children:"\u2630"}),(0,pt.jsx)("nav",{className:"menu "+(n?"open":""),children:(0,pt.jsx)("ul",{children:i?[{name:"Back",action:k},{name:"Vendors",path:"/vendors"},{name:"Receive Inventory",path:"/receive"},{name:"Transfers",path:"/transfers"},{name:"Inventory",path:"/inventory"},{name:"Items",path:"/items"}].map((e=>(0,pt.jsx)("li",{children:e.path?(0,pt.jsx)(et,{to:e.path,onClick:()=>r("Receive Inventory"===e.name?"Inventory":e.name),children:e.name}):(0,pt.jsx)("button",{onClick:e.action,children:e.name})},e.name))):s?[{name:"Back",action:k},{name:"Planning",path:"/planning",disabled:!0},{name:"Products",path:"/products"},{name:"Facility View",path:"/facility-view"},{name:"Production",path:"/production"},{name:"Equipment",path:"/equipment"}].map((e=>(0,pt.jsx)("li",{children:e.disabled?(0,pt.jsx)("span",{style:{color:"#888"},children:e.name}):e.path?(0,pt.jsx)(et,{to:e.path,onClick:()=>r(e.name),children:e.name}):(0,pt.jsx)("button",{onClick:e.action,children:e.name})},e.name))):c&&S?[{name:"Back",action:k},{name:"Locations",path:"/locations"},{name:"Sites",path:"/sites"},{name:"Facility Designer",path:"/facility-designer"},{name:"Log Off",action:()=>{localStorage.removeItem("user"),y(null),r("Home"),u(!1),b("/login")}}].map((e=>(0,pt.jsx)("li",{children:e.path?(0,pt.jsx)(et,{to:e.path,onClick:()=>r(e.name),children:e.name}):(0,pt.jsx)("button",{onClick:e.action,children:e.name})},e.name))):[{name:"Home",subMenu:null},{name:"Production",subMenu:!0},{name:"Inventory",subMenu:!0},{name:"Processing",subMenu:null},{name:"Sales & Distribution",subMenu:null},{name:"Users",subMenu:null},{name:"Reporting",subMenu:null},...S?[{name:"Management",subMenu:!0}]:[]].map((t=>(0,pt.jsx)("li",{children:(0,pt.jsx)("button",{onClick:()=>{"Production"===t.name?"Production"===e&&s?(l(!1),r("Home"),b("/")):(r("Production"),l(!0),b("/production")):"Inventory"===t.name?"Inventory"===e&&i?(o(!1),r("Home"),b("/")):(r("Inventory"),o(!0),b("/inventory")):"Management"===t.name?"Management"===e&&c?(u(!1),r("Home"),b("/")):(r("Management"),u(!0),b("/management")):(r(t.name),o(!1),l(!1),u(!1),b("Home"===t.name?"/":`/${t.name.toLowerCase().replace(" & ","-")}`))},className:e===t.name?"active":"",children:t.name})},t.name)))})}),(0,pt.jsx)("div",{className:"content",children:(0,pt.jsxs)(be,{children:[(0,pt.jsx)(me,{path:"/",element:(0,pt.jsxs)(pt.Fragment,{children:["Home"===e&&(0,pt.jsx)(ih,{siteId:"DSP-AL-20010"}),"Inventory"===e&&(0,pt.jsx)(wt,{vendors:g,refreshVendors:T,inventory:f,refreshInventory:C}),"Production"===e&&"/production"===v.pathname&&(0,pt.jsx)(mt,{inventory:f,refreshInventory:C}),"Products"===e&&(0,pt.jsx)(Cu,{}),"Production"===e&&"/production-page"===v.pathname&&(0,pt.jsx)(uh,{}),"Locations"===e&&S&&(0,pt.jsx)(Au,{}),"Equipment"===e&&(0,pt.jsx)(sh,{}),"Planning"===e&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Planning"}),(0,pt.jsx)("p",{children:"Coming soon"})]}),"Facility Designer"===e&&S&&(0,pt.jsx)(nh,{}),"Facility View"===e&&(0,pt.jsx)(ih,{siteId:"DSP-AL-20010"}),"Vendors"===e&&(0,pt.jsx)(bu,{vendors:g,refreshVendors:T}),"Transfers"===e&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Transfers"}),(0,pt.jsx)("p",{children:"Transfers page coming soon"})]}),"Processing"===e&&(0,pt.jsx)(St,{inventory:f,refreshInventory:C}),"Sales & Distribution"===e&&(0,pt.jsx)(Ct,{}),"Users"===e&&(0,pt.jsx)(kt,{}),"Reporting"===e&&(0,pt.jsx)(fu,{exportToExcel:hu}),"Management"===e&&S&&"/management"===v.pathname&&(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Management"}),(0,pt.jsx)("p",{children:"Select an option from the menu"})]})]})}),(0,pt.jsx)(me,{path:"/login",element:(0,pt.jsx)(lh,{})}),(0,pt.jsx)(me,{path:"/inventory",element:(0,pt.jsx)(wt,{vendors:g,refreshVendors:T,inventory:f,refreshInventory:C})}),(0,pt.jsx)(me,{path:"/inventory/:identifier",element:(0,pt.jsx)(Eu,{inventory:f,refreshInventory:C})}),(0,pt.jsx)(me,{path:"/transfers",element:(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Transfers"}),(0,pt.jsx)("p",{children:"Transfers page coming soon"})]})}),(0,pt.jsx)(me,{path:"/items",element:(0,pt.jsx)(mu,{})}),(0,pt.jsx)(me,{path:"/items/:name",element:(0,pt.jsx)(vu,{})}),(0,pt.jsx)(me,{path:"/sites",element:S?(0,pt.jsx)(Pu,{}):(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Access Denied"}),(0,pt.jsx)("p",{children:"Only Admins can access this page"})]})}),(0,pt.jsx)(me,{path:"/receive",element:(0,pt.jsx)(gu,{refreshInventory:C,vendors:g,refreshVendors:T})}),(0,pt.jsx)(me,{path:"/vendors",element:(0,pt.jsx)(bu,{vendors:g,refreshVendors:T})}),(0,pt.jsx)(me,{path:"/vendors/:name",element:(0,pt.jsx)(xu,{vendors:g,refreshVendors:T,refreshInventory:C})}),(0,pt.jsx)(me,{path:"/vendors/:name/purchase-orders",element:(0,pt.jsx)(wu,{})}),(0,pt.jsx)(me,{path:"/vendors/:name/purchase-orders/new",element:(0,pt.jsx)(yu,{})}),(0,pt.jsx)(me,{path:"/vendors/:name/purchase-orders/:poNumber",element:(0,pt.jsx)(yu,{})}),(0,pt.jsx)(me,{path:"/processing",element:(0,pt.jsx)(St,{inventory:f,refreshInventory:C})}),(0,pt.jsx)(me,{path:"/products",element:(0,pt.jsx)(Cu,{})}),(0,pt.jsx)(me,{path:"/products/:id",element:(0,pt.jsx)(ku,{})}),(0,pt.jsx)(me,{path:"/production",element:(0,pt.jsx)(mt,{inventory:f,refreshInventory:C})}),(0,pt.jsx)(me,{path:"/production/:batchId",element:(0,pt.jsx)(ch,{inventory:f,refreshInventory:C})}),(0,pt.jsx)(me,{path:"/production/:batchId/brewlog",element:(0,pt.jsx)(bt,{})}),(0,pt.jsx)(me,{path:"/production-page",element:(0,pt.jsx)(uh,{})}),(0,pt.jsx)(me,{path:"/locations",element:S?(0,pt.jsx)(Au,{}):(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Access Denied"}),(0,pt.jsx)("p",{children:"Only Admins can access this page"})]})}),(0,pt.jsx)(me,{path:"/equipment",element:(0,pt.jsx)(sh,{})}),(0,pt.jsx)(me,{path:"/planning",element:(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Planning"}),(0,pt.jsx)("p",{children:"Coming soon"})]})}),(0,pt.jsx)(me,{path:"/facility-designer",element:S?(0,pt.jsx)(nh,{}):(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Access Denied"}),(0,pt.jsx)("p",{children:"Only Admins can access this page"})]})}),(0,pt.jsx)(me,{path:"/facility-view",element:(0,pt.jsx)(ih,{siteId:"DSP-AL-20010"})}),(0,pt.jsx)(me,{path:"/management",element:S?(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Management"}),(0,pt.jsx)("p",{children:"Select an option from the menu"})]}):(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h2",{children:"Access Denied"}),(0,pt.jsx)("p",{children:"Only Admins can access this page"})]})}),(0,pt.jsx)(me,{path:"/users",element:(0,pt.jsx)(kt,{})})]})})]}):(0,pt.jsx)(lh,{})},hh=()=>(0,pt.jsx)(Je,{children:(0,pt.jsx)(dh,{})}),fh=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:i,getTTFB:o}=t;r(e),n(e),a(e),i(e),o(e)}))};n.createRoot(document.getElementById("root")).render((0,pt.jsx)(hh,{})),fh()})()})();
//# sourceMappingURL=main.5a262a4f.js.map